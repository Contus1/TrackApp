(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function Z0(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function J0(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var i=u.default;if(typeof i=="function"){var l=function r(){var c=!1;try{c=this instanceof r}catch{}return c?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};l.prototype=i.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(u).forEach(function(r){var c=Object.getOwnPropertyDescriptor(u,r);Object.defineProperty(l,r,c.get?c:{enumerable:!0,get:function(){return u[r]}})}),l}var Io={exports:{}},Wi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function P0(){if(bh)return Wi;bh=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(r,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var v in c)v!=="key"&&(d[v]=c[v])}else d=c;return c=d.ref,{$$typeof:u,type:r,key:h,ref:c!==void 0?c:null,props:d}}return Wi.Fragment=i,Wi.jsx=l,Wi.jsxs=l,Wi}var ph;function I0(){return ph||(ph=1,Io.exports=P0()),Io.exports}var f=I0(),Fo={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function F0(){if(xh)return le;xh=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.iterator;function j(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,L={};function M(x,R,G){this.props=x,this.context=R,this.refs=L,this.updater=G||E}M.prototype.isReactComponent={},M.prototype.setState=function(x,R){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,R,"setState")},M.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function V(){}V.prototype=M.prototype;function P(x,R,G){this.props=x,this.context=R,this.refs=L,this.updater=G||E}var B=P.prototype=new V;B.constructor=P,D(B,M.prototype),B.isPureReactComponent=!0;var K=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function fe(x,R,G,H,I,me){return G=me.ref,{$$typeof:u,type:x,key:R,ref:G!==void 0?G:null,props:me}}function Z(x,R){return fe(x.type,R,void 0,void 0,void 0,x.props)}function he(x){return typeof x=="object"&&x!==null&&x.$$typeof===u}function ke(x){var R={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(G){return R[G]})}var Ke=/\/+/g;function pe(x,R){return typeof x=="object"&&x!==null&&x.key!=null?ke(""+x.key):R.toString(36)}function Ze(){}function at(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ze,Ze):(x.status="pending",x.then(function(R){x.status==="pending"&&(x.status="fulfilled",x.value=R)},function(R){x.status==="pending"&&(x.status="rejected",x.reason=R)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function He(x,R,G,H,I){var me=typeof x;(me==="undefined"||me==="boolean")&&(x=null);var ae=!1;if(x===null)ae=!0;else switch(me){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(x.$$typeof){case u:case i:ae=!0;break;case p:return ae=x._init,He(ae(x._payload),R,G,H,I)}}if(ae)return I=I(x),ae=H===""?"."+pe(x,0):H,K(I)?(G="",ae!=null&&(G=ae.replace(Ke,"$&/")+"/"),He(I,R,G,"",function(xt){return xt})):I!=null&&(he(I)&&(I=Z(I,G+(I.key==null||x&&x.key===I.key?"":(""+I.key).replace(Ke,"$&/")+"/")+ae)),R.push(I)),1;ae=0;var nt=H===""?".":H+":";if(K(x))for(var ge=0;ge<x.length;ge++)H=x[ge],me=nt+pe(H,ge),ae+=He(H,R,G,me,I);else if(ge=j(x),typeof ge=="function")for(x=ge.call(x),ge=0;!(H=x.next()).done;)H=H.value,me=nt+pe(H,ge++),ae+=He(H,R,G,me,I);else if(me==="object"){if(typeof x.then=="function")return He(at(x),R,G,H,I);throw R=String(x),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ae}function U(x,R,G){if(x==null)return x;var H=[],I=0;return He(x,H,"","",function(me){return R.call(G,me,I++)}),H}function $(x){if(x._status===-1){var R=x._result;R=R(),R.then(function(G){(x._status===0||x._status===-1)&&(x._status=1,x._result=G)},function(G){(x._status===0||x._status===-1)&&(x._status=2,x._result=G)}),x._status===-1&&(x._status=0,x._result=R)}if(x._status===1)return x._result.default;throw x._result}var F=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function xe(){}return le.Children={map:U,forEach:function(x,R,G){U(x,function(){R.apply(this,arguments)},G)},count:function(x){var R=0;return U(x,function(){R++}),R},toArray:function(x){return U(x,function(R){return R})||[]},only:function(x){if(!he(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},le.Component=M,le.Fragment=l,le.Profiler=c,le.PureComponent=P,le.StrictMode=r,le.Suspense=g,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,le.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Q.H.useMemoCache(x)}},le.cache=function(x){return function(){return x.apply(null,arguments)}},le.cloneElement=function(x,R,G){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var H=D({},x.props),I=x.key,me=void 0;if(R!=null)for(ae in R.ref!==void 0&&(me=void 0),R.key!==void 0&&(I=""+R.key),R)!ie.call(R,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&R.ref===void 0||(H[ae]=R[ae]);var ae=arguments.length-2;if(ae===1)H.children=G;else if(1<ae){for(var nt=Array(ae),ge=0;ge<ae;ge++)nt[ge]=arguments[ge+2];H.children=nt}return fe(x.type,I,void 0,void 0,me,H)},le.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},le.createElement=function(x,R,G){var H,I={},me=null;if(R!=null)for(H in R.key!==void 0&&(me=""+R.key),R)ie.call(R,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(I[H]=R[H]);var ae=arguments.length-2;if(ae===1)I.children=G;else if(1<ae){for(var nt=Array(ae),ge=0;ge<ae;ge++)nt[ge]=arguments[ge+2];I.children=nt}if(x&&x.defaultProps)for(H in ae=x.defaultProps,ae)I[H]===void 0&&(I[H]=ae[H]);return fe(x,me,void 0,void 0,null,I)},le.createRef=function(){return{current:null}},le.forwardRef=function(x){return{$$typeof:v,render:x}},le.isValidElement=he,le.lazy=function(x){return{$$typeof:p,_payload:{_status:-1,_result:x},_init:$}},le.memo=function(x,R){return{$$typeof:b,type:x,compare:R===void 0?null:R}},le.startTransition=function(x){var R=Q.T,G={};Q.T=G;try{var H=x(),I=Q.S;I!==null&&I(G,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(xe,F)}catch(me){F(me)}finally{Q.T=R}},le.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},le.use=function(x){return Q.H.use(x)},le.useActionState=function(x,R,G){return Q.H.useActionState(x,R,G)},le.useCallback=function(x,R){return Q.H.useCallback(x,R)},le.useContext=function(x){return Q.H.useContext(x)},le.useDebugValue=function(){},le.useDeferredValue=function(x,R){return Q.H.useDeferredValue(x,R)},le.useEffect=function(x,R,G){var H=Q.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(x,R)},le.useId=function(){return Q.H.useId()},le.useImperativeHandle=function(x,R,G){return Q.H.useImperativeHandle(x,R,G)},le.useInsertionEffect=function(x,R){return Q.H.useInsertionEffect(x,R)},le.useLayoutEffect=function(x,R){return Q.H.useLayoutEffect(x,R)},le.useMemo=function(x,R){return Q.H.useMemo(x,R)},le.useOptimistic=function(x,R){return Q.H.useOptimistic(x,R)},le.useReducer=function(x,R,G){return Q.H.useReducer(x,R,G)},le.useRef=function(x){return Q.H.useRef(x)},le.useState=function(x){return Q.H.useState(x)},le.useSyncExternalStore=function(x,R,G){return Q.H.useSyncExternalStore(x,R,G)},le.useTransition=function(){return Q.H.useTransition()},le.version="19.1.0",le}var wh;function bu(){return wh||(wh=1,Fo.exports=F0()),Fo.exports}var Y=bu(),Wo={exports:{}},es={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h;function W0(){return _h||(_h=1,function(u){function i(U,$){var F=U.length;U.push($);e:for(;0<F;){var xe=F-1>>>1,x=U[xe];if(0<c(x,$))U[xe]=$,U[F]=x,F=xe;else break e}}function l(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var $=U[0],F=U.pop();if(F!==$){U[0]=F;e:for(var xe=0,x=U.length,R=x>>>1;xe<R;){var G=2*(xe+1)-1,H=U[G],I=G+1,me=U[I];if(0>c(H,F))I<x&&0>c(me,H)?(U[xe]=me,U[I]=F,xe=I):(U[xe]=H,U[G]=F,xe=G);else if(I<x&&0>c(me,F))U[xe]=me,U[I]=F,xe=I;else break e}}return $}function c(U,$){var F=U.sortIndex-$.sortIndex;return F!==0?F:U.id-$.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var h=Date,v=h.now();u.unstable_now=function(){return h.now()-v}}var g=[],b=[],p=1,_=null,j=3,E=!1,D=!1,L=!1,M=!1,V=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function K(U){for(var $=l(b);$!==null;){if($.callback===null)r(b);else if($.startTime<=U)r(b),$.sortIndex=$.expirationTime,i(g,$);else break;$=l(b)}}function Q(U){if(L=!1,K(U),!D)if(l(g)!==null)D=!0,ie||(ie=!0,pe());else{var $=l(b);$!==null&&He(Q,$.startTime-U)}}var ie=!1,fe=-1,Z=5,he=-1;function ke(){return M?!0:!(u.unstable_now()-he<Z)}function Ke(){if(M=!1,ie){var U=u.unstable_now();he=U;var $=!0;try{e:{D=!1,L&&(L=!1,P(fe),fe=-1),E=!0;var F=j;try{t:{for(K(U),_=l(g);_!==null&&!(_.expirationTime>U&&ke());){var xe=_.callback;if(typeof xe=="function"){_.callback=null,j=_.priorityLevel;var x=xe(_.expirationTime<=U);if(U=u.unstable_now(),typeof x=="function"){_.callback=x,K(U),$=!0;break t}_===l(g)&&r(g),K(U)}else r(g);_=l(g)}if(_!==null)$=!0;else{var R=l(b);R!==null&&He(Q,R.startTime-U),$=!1}}break e}finally{_=null,j=F,E=!1}$=void 0}}finally{$?pe():ie=!1}}}var pe;if(typeof B=="function")pe=function(){B(Ke)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,at=Ze.port2;Ze.port1.onmessage=Ke,pe=function(){at.postMessage(null)}}else pe=function(){V(Ke,0)};function He(U,$){fe=V(function(){U(u.unstable_now())},$)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(U){U.callback=null},u.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<U?Math.floor(1e3/U):5},u.unstable_getCurrentPriorityLevel=function(){return j},u.unstable_next=function(U){switch(j){case 1:case 2:case 3:var $=3;break;default:$=j}var F=j;j=$;try{return U()}finally{j=F}},u.unstable_requestPaint=function(){M=!0},u.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var F=j;j=U;try{return $()}finally{j=F}},u.unstable_scheduleCallback=function(U,$,F){var xe=u.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?xe+F:xe):F=xe,U){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=F+x,U={id:p++,callback:$,priorityLevel:U,startTime:F,expirationTime:x,sortIndex:-1},F>xe?(U.sortIndex=F,i(b,U),l(g)===null&&U===l(b)&&(L?(P(fe),fe=-1):L=!0,He(Q,F-xe))):(U.sortIndex=x,i(g,U),D||E||(D=!0,ie||(ie=!0,pe()))),U},u.unstable_shouldYield=ke,u.unstable_wrapCallback=function(U){var $=j;return function(){var F=j;j=$;try{return U.apply(this,arguments)}finally{j=F}}}}(tu)),tu}var Sh;function ev(){return Sh||(Sh=1,eu.exports=W0()),eu.exports}var au={exports:{}},et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function tv(){if(jh)return et;jh=1;var u=bu();function i(g){var b="https://react.dev/errors/"+g;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)b+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,b,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:g,containerInfo:b,implementation:p}}var h=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(g,b){if(g==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,et.createPortal=function(g,b){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(i(299));return d(g,b,null,p)},et.flushSync=function(g){var b=h.T,p=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=b,r.p=p,r.d.f()}},et.preconnect=function(g,b){typeof g=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,r.d.C(g,b))},et.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},et.preinit=function(g,b){if(typeof g=="string"&&b&&typeof b.as=="string"){var p=b.as,_=v(p,b.crossOrigin),j=typeof b.integrity=="string"?b.integrity:void 0,E=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;p==="style"?r.d.S(g,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:_,integrity:j,fetchPriority:E}):p==="script"&&r.d.X(g,{crossOrigin:_,integrity:j,fetchPriority:E,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},et.preinitModule=function(g,b){if(typeof g=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var p=v(b.as,b.crossOrigin);r.d.M(g,{crossOrigin:p,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&r.d.M(g)},et.preload=function(g,b){if(typeof g=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var p=b.as,_=v(p,b.crossOrigin);r.d.L(g,p,{crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},et.preloadModule=function(g,b){if(typeof g=="string")if(b){var p=v(b.as,b.crossOrigin);r.d.m(g,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:p,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else r.d.m(g)},et.requestFormReset=function(g){r.d.r(g)},et.unstable_batchedUpdates=function(g,b){return g(b)},et.useFormState=function(g,b,p){return h.H.useFormState(g,b,p)},et.useFormStatus=function(){return h.H.useHostTransitionStatus()},et.version="19.1.0",et}var Nh;function av(){if(Nh)return au.exports;Nh=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),au.exports=tv(),au.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function nv(){if(Eh)return es;Eh=1;var u=ev(),i=bu(),l=av();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===a)return v(s),e;if(o===n)return v(s),t;o=o.sibling}throw Error(r(188))}if(a.return!==n.return)a=s,n=o;else{for(var m=!1,y=s.child;y;){if(y===a){m=!0,a=s,n=o;break}if(y===n){m=!0,n=s,a=o;break}y=y.sibling}if(!m){for(y=o.child;y;){if(y===a){m=!0,a=o,n=s;break}if(y===n){m=!0,n=o,a=s;break}y=y.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),B=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=Ke&&e[Ke]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case M:return"Profiler";case L:return"StrictMode";case Q:return"Suspense";case ie:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case B:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fe:return t=e.displayName||null,t!==null?t:at(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return at(e(t))}catch{}}return null}var He=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},xe=[],x=-1;function R(e){return{current:e}}function G(e){0>x||(e.current=xe[x],xe[x]=null,x--)}function H(e,t){x++,xe[x]=e.current,e.current=t}var I=R(null),me=R(null),ae=R(null),nt=R(null);function ge(e,t){switch(H(ae,t),H(me,e),H(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Xf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Xf(t),e=Kf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(I),H(I,e)}function xt(){G(I),G(me),G(ae)}function tn(e){e.memoizedState!==null&&H(nt,e);var t=I.current,a=Kf(t,e.type);t!==a&&(H(me,e),H(I,a))}function an(e){me.current===e&&(G(I),G(me)),nt.current===e&&(G(nt),Zi._currentValue=F)}var Ra=Object.prototype.hasOwnProperty,ql=u.unstable_scheduleCallback,Bl=u.unstable_cancelCallback,Em=u.unstable_shouldYield,Tm=u.unstable_requestPaint,Mt=u.unstable_now,Am=u.unstable_getCurrentPriorityLevel,Nu=u.unstable_ImmediatePriority,Eu=u.unstable_UserBlockingPriority,fs=u.unstable_NormalPriority,Om=u.unstable_LowPriority,Tu=u.unstable_IdlePriority,km=u.log,Dm=u.unstable_setDisableYieldValue,ai=null,dt=null;function ia(e){if(typeof km=="function"&&Dm(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(ai,e)}catch{}}var ft=Math.clz32?Math.clz32:Cm,Rm=Math.log,Um=Math.LN2;function Cm(e){return e>>>=0,e===0?32:31-(Rm(e)/Um|0)|0}var hs=256,ms=4194304;function Ua(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gs(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=n&134217727;return y!==0?(n=y&~o,n!==0?s=Ua(n):(m&=y,m!==0?s=Ua(m):a||(a=y&~e,a!==0&&(s=Ua(a))))):(y=n&~o,y!==0?s=Ua(y):m!==0?s=Ua(m):a||(a=n&~e,a!==0&&(s=Ua(a)))),s===0?0:t!==0&&t!==s&&(t&o)===0&&(o=s&-s,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:s}function ni(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Mm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Au(){var e=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),e}function Ou(){var e=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),e}function Ll(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ii(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zm(e,t,a,n,s,o){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,A=e.hiddenUpdates;for(a=m&~a;0<a;){var C=31-ft(a),q=1<<C;y[C]=0,w[C]=-1;var O=A[C];if(O!==null)for(A[C]=null,C=0;C<O.length;C++){var k=O[C];k!==null&&(k.lane&=-536870913)}a&=~q}n!==0&&ku(e,n,0),o!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=o&~(m&~t))}function ku(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ft(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Du(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ft(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function Hl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ru(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:fh(e.type))}function qm(e,t){var a=$.p;try{return $.p=e,t()}finally{$.p=a}}var sa=Math.random().toString(36).slice(2),Fe="__reactFiber$"+sa,st="__reactProps$"+sa,nn="__reactContainer$"+sa,Yl="__reactEvents$"+sa,Bm="__reactListeners$"+sa,Lm="__reactHandles$"+sa,Uu="__reactResources$"+sa,si="__reactMarker$"+sa;function $l(e){delete e[Fe],delete e[st],delete e[Yl],delete e[Bm],delete e[Lm]}function sn(e){var t=e[Fe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[nn]||a[Fe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=If(e);e!==null;){if(a=e[Fe])return a;e=If(e)}return t}e=a,a=e.parentNode}return null}function ln(e){if(e=e[Fe]||e[nn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function li(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function rn(e){var t=e[Uu];return t||(t=e[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[si]=!0}var Cu=new Set,Mu={};function Ca(e,t){on(e,t),on(e+"Capture",t)}function on(e,t){for(Mu[e]=t,e=0;e<t.length;e++)Cu.add(t[e])}var Hm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},qu={};function Gm(e){return Ra.call(qu,e)?!0:Ra.call(zu,e)?!1:Hm.test(e)?qu[e]=!0:(zu[e]=!0,!1)}function vs(e,t,a){if(Gm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ys(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Gt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Ql,Bu;function un(e){if(Ql===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ql=t&&t[1]||"",Bu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ql+e+Bu}var Vl=!1;function Xl(e,t){if(!e||Vl)return"";Vl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(k){var O=k}Reflect.construct(e,[],q)}else{try{q.call()}catch(k){O=k}e.call(q.prototype)}}else{try{throw Error()}catch(k){O=k}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(k){if(k&&O&&typeof k.stack=="string")return[k.stack,O.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),m=o[0],y=o[1];if(m&&y){var w=m.split(`
`),A=y.split(`
`);for(s=n=0;n<w.length&&!w[n].includes("DetermineComponentFrameRoot");)n++;for(;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;if(n===w.length||s===A.length)for(n=w.length-1,s=A.length-1;1<=n&&0<=s&&w[n]!==A[s];)s--;for(;1<=n&&0<=s;n--,s--)if(w[n]!==A[s]){if(n!==1||s!==1)do if(n--,s--,0>s||w[n]!==A[s]){var C=`
`+w[n].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=n&&0<=s);break}}}finally{Vl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?un(a):""}function Ym(e){switch(e.tag){case 26:case 27:case 5:return un(e.type);case 16:return un("Lazy");case 13:return un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return Xl(e.type,!1);case 11:return Xl(e.type.render,!1);case 1:return Xl(e.type,!0);case 31:return un("Activity");default:return""}}function Lu(e){try{var t="";do t+=Ym(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $m(e){var t=Hu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,o=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(m){n=""+m,o.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bs(e){e._valueTracker||(e._valueTracker=$m(e))}function Gu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Hu(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qm=/[\n"\\]/g;function _t(e){return e.replace(Qm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Kl(e,t,a,n,s,o,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Zl(e,m,wt(t)):a!=null?Zl(e,m,wt(a)):n!=null&&e.removeAttribute("value"),s==null&&o!=null&&(e.defaultChecked=!!o),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+wt(y):e.removeAttribute("name")}function Yu(e,t,a,n,s,o,m,y){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;a=a!=null?""+wt(a):"",t=t!=null?""+wt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=y?e.checked:!!n,e.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function Zl(e,t,a){t==="number"&&ps(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cn(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+wt(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $u(e,t,a){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+wt(a):""}function Qu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(r(92));if(He(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=wt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function dn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Vm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Vm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Xu(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&Vu(e,s,n)}else for(var o in t)t.hasOwnProperty(o)&&Vu(e,o,t[o])}function Jl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Km=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xs(e){return Km.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pl=null;function Il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fn=null,hn=null;function Ku(e){var t=ln(e);if(t&&(e=t.stateNode)){var a=e[st]||null;e:switch(e=t.stateNode,t.type){case"input":if(Kl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[st]||null;if(!s)throw Error(r(90));Kl(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Gu(n)}break e;case"textarea":$u(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&cn(e,!!a.multiple,t,!1)}}}var Fl=!1;function Zu(e,t,a){if(Fl)return e(t,a);Fl=!0;try{var n=e(t);return n}finally{if(Fl=!1,(fn!==null||hn!==null)&&(sl(),fn&&(t=fn,e=hn,hn=fn=null,Ku(t),e)))for(t=0;t<e.length;t++)Ku(e[t])}}function ri(e,t){var a=e.stateNode;if(a===null)return null;var n=a[st]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=!1;if(Yt)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{Wl=!1}var la=null,er=null,ws=null;function Ju(){if(ws)return ws;var e,t=er,a=t.length,n,s="value"in la?la.value:la.textContent,o=s.length;for(e=0;e<a&&t[e]===s[e];e++);var m=a-e;for(n=1;n<=m&&t[a-n]===s[o-n];n++);return ws=s.slice(e,1<n?1-n:void 0)}function _s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function Pu(){return!1}function lt(e){function t(a,n,s,o,m){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(o):o[y]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ss:Pu,this.isPropagationStopped=Pu,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=lt(Ma),ui=p({},Ma,{view:0,detail:0}),Zm=lt(ui),tr,ar,ci,Ns=p({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ir,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(tr=e.screenX-ci.screenX,ar=e.screenY-ci.screenY):ar=tr=0,ci=e),tr)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),Iu=lt(Ns),Jm=p({},Ns,{dataTransfer:0}),Pm=lt(Jm),Im=p({},ui,{relatedTarget:0}),nr=lt(Im),Fm=p({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),Wm=lt(Fm),eg=p({},Ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tg=lt(eg),ag=p({},Ma,{data:0}),Fu=lt(ag),ng={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sg[e])?!!t[e]:!1}function ir(){return lg}var rg=p({},ui,{key:function(e){if(e.key){var t=ng[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ig[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ir,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),og=lt(rg),ug=p({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=lt(ug),cg=p({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ir}),dg=lt(cg),fg=p({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),hg=lt(fg),mg=p({},Ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gg=lt(mg),vg=p({},Ma,{newState:0,oldState:0}),yg=lt(vg),bg=[9,13,27,32],sr=Yt&&"CompositionEvent"in window,di=null;Yt&&"documentMode"in document&&(di=document.documentMode);var pg=Yt&&"TextEvent"in window&&!di,ec=Yt&&(!sr||di&&8<di&&11>=di),tc=" ",ac=!1;function nc(e,t){switch(e){case"keyup":return bg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function xg(e,t){switch(e){case"compositionend":return ic(t);case"keypress":return t.which!==32?null:(ac=!0,tc);case"textInput":return e=t.data,e===tc&&ac?null:e;default:return null}}function wg(e,t){if(mn)return e==="compositionend"||!sr&&nc(e,t)?(e=Ju(),ws=er=la=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ec&&t.locale!=="ko"?null:t.data;default:return null}}var _g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_g[e.type]:t==="textarea"}function lc(e,t,a,n){fn?hn?hn.push(n):hn=[n]:fn=n,t=dl(t,"onChange"),0<t.length&&(a=new js("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var fi=null,hi=null;function Sg(e){Gf(e,0)}function Es(e){var t=li(e);if(Gu(t))return e}function rc(e,t){if(e==="change")return t}var oc=!1;if(Yt){var lr;if(Yt){var rr="oninput"in document;if(!rr){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),rr=typeof uc.oninput=="function"}lr=rr}else lr=!1;oc=lr&&(!document.documentMode||9<document.documentMode)}function cc(){fi&&(fi.detachEvent("onpropertychange",dc),hi=fi=null)}function dc(e){if(e.propertyName==="value"&&Es(hi)){var t=[];lc(t,hi,e,Il(e)),Zu(Sg,t)}}function jg(e,t,a){e==="focusin"?(cc(),fi=t,hi=a,fi.attachEvent("onpropertychange",dc)):e==="focusout"&&cc()}function Ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Es(hi)}function Eg(e,t){if(e==="click")return Es(t)}function Tg(e,t){if(e==="input"||e==="change")return Es(t)}function Ag(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Ag;function mi(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!Ra.call(t,s)||!ht(e[s],t[s]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var a=fc(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fc(a)}}function mc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ps(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ps(e.document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Og=Yt&&"documentMode"in document&&11>=document.documentMode,gn=null,ur=null,gi=null,cr=!1;function vc(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cr||gn==null||gn!==ps(n)||(n=gn,"selectionStart"in n&&or(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gi&&mi(gi,n)||(gi=n,n=dl(ur,"onSelect"),0<n.length&&(t=new js("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=gn)))}function za(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var vn={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},dr={},yc={};Yt&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function qa(e){if(dr[e])return dr[e];if(!vn[e])return e;var t=vn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in yc)return dr[e]=t[a];return e}var bc=qa("animationend"),pc=qa("animationiteration"),xc=qa("animationstart"),kg=qa("transitionrun"),Dg=qa("transitionstart"),Rg=qa("transitioncancel"),wc=qa("transitionend"),_c=new Map,fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fr.push("scrollEnd");function kt(e,t){_c.set(e,t),Ca(t,[e])}var Sc=new WeakMap;function St(e,t){if(typeof e=="object"&&e!==null){var a=Sc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Lu(t)},Sc.set(e,t),t)}return{value:e,source:t,stack:Lu(t)}}var jt=[],yn=0,hr=0;function Ts(){for(var e=yn,t=hr=yn=0;t<e;){var a=jt[t];jt[t++]=null;var n=jt[t];jt[t++]=null;var s=jt[t];jt[t++]=null;var o=jt[t];if(jt[t++]=null,n!==null&&s!==null){var m=n.pending;m===null?s.next=s:(s.next=m.next,m.next=s),n.pending=s}o!==0&&jc(a,s,o)}}function As(e,t,a,n){jt[yn++]=e,jt[yn++]=t,jt[yn++]=a,jt[yn++]=n,hr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function mr(e,t,a,n){return As(e,t,a,n),Os(e)}function bn(e,t){return As(e,null,null,t),Os(e)}function jc(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,o=e.return;o!==null;)o.childLanes|=a,n=o.alternate,n!==null&&(n.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(s=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,s&&t!==null&&(s=31-ft(a),e=o.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),o):null}function Os(e){if(50<Hi)throw Hi=0,wo=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pn={};function Ug(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,a,n){return new Ug(e,t,a,n)}function gr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $t(e,t){var a=e.alternate;return a===null?(a=mt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ks(e,t,a,n,s,o){var m=0;if(n=e,typeof e=="function")gr(e)&&(m=1);else if(typeof e=="string")m=M0(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=mt(31,a,t,s),e.elementType=he,e.lanes=o,e;case D:return Ba(a.children,s,o,t);case L:m=8,s|=24;break;case M:return e=mt(12,a,t,s|2),e.elementType=M,e.lanes=o,e;case Q:return e=mt(13,a,t,s),e.elementType=Q,e.lanes=o,e;case ie:return e=mt(19,a,t,s),e.elementType=ie,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:case B:m=10;break e;case P:m=9;break e;case K:m=11;break e;case fe:m=14;break e;case Z:m=16,n=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=mt(m,a,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Ba(e,t,a,n){return e=mt(7,e,n,t),e.lanes=a,e}function vr(e,t,a){return e=mt(6,e,null,t),e.lanes=a,e}function yr(e,t,a){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xn=[],wn=0,Ds=null,Rs=0,Nt=[],Et=0,La=null,Qt=1,Vt="";function Ha(e,t){xn[wn++]=Rs,xn[wn++]=Ds,Ds=e,Rs=t}function Ec(e,t,a){Nt[Et++]=Qt,Nt[Et++]=Vt,Nt[Et++]=La,La=e;var n=Qt;e=Vt;var s=32-ft(n)-1;n&=~(1<<s),a+=1;var o=32-ft(t)+s;if(30<o){var m=s-s%5;o=(n&(1<<m)-1).toString(32),n>>=m,s-=m,Qt=1<<32-ft(t)+s|a<<s|n,Vt=o+e}else Qt=1<<o|a<<s|n,Vt=e}function br(e){e.return!==null&&(Ha(e,1),Ec(e,1,0))}function pr(e){for(;e===Ds;)Ds=xn[--wn],xn[wn]=null,Rs=xn[--wn],xn[wn]=null;for(;e===La;)La=Nt[--Et],Nt[Et]=null,Vt=Nt[--Et],Nt[Et]=null,Qt=Nt[--Et],Nt[Et]=null}var it=null,Re=null,be=!1,Ga=null,zt=!1,xr=Error(r(519));function Ya(e){var t=Error(r(418,""));throw bi(St(t,e)),xr}function Tc(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Fe]=e,t[st]=n,a){case"dialog":ce("cancel",t),ce("close",t);break;case"iframe":case"object":case"embed":ce("load",t);break;case"video":case"audio":for(a=0;a<Yi.length;a++)ce(Yi[a],t);break;case"source":ce("error",t);break;case"img":case"image":case"link":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"input":ce("invalid",t),Yu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),bs(t);break;case"select":ce("invalid",t);break;case"textarea":ce("invalid",t),Qu(t,n.value,n.defaultValue,n.children),bs(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Vf(t.textContent,a)?(n.popover!=null&&(ce("beforetoggle",t),ce("toggle",t)),n.onScroll!=null&&ce("scroll",t),n.onScrollEnd!=null&&ce("scrollend",t),n.onClick!=null&&(t.onclick=fl),t=!0):t=!1,t||Ya(e)}function Ac(e){for(it=e.return;it;)switch(it.tag){case 5:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:it=it.return}}function vi(e){if(e!==it)return!1;if(!be)return Ac(e),be=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||qo(e.type,e.memoizedProps)),a=!a),a&&Re&&Ya(e),Ac(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Re=Rt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Re=null}}else t===27?(t=Re,_a(e.type)?(e=Go,Go=null,Re=e):Re=t):Re=it?Rt(e.stateNode.nextSibling):null;return!0}function yi(){Re=it=null,be=!1}function Oc(){var e=Ga;return e!==null&&(ut===null?ut=e:ut.push.apply(ut,e),Ga=null),e}function bi(e){Ga===null?Ga=[e]:Ga.push(e)}var wr=R(null),$a=null,Xt=null;function ra(e,t,a){H(wr,t._currentValue),t._currentValue=a}function Kt(e){e._currentValue=wr.current,G(wr)}function _r(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Sr(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){var m=s.child;o=o.firstContext;e:for(;o!==null;){var y=o;o=s;for(var w=0;w<t.length;w++)if(y.context===t[w]){o.lanes|=a,y=o.alternate,y!==null&&(y.lanes|=a),_r(o.return,a,e),n||(m=null);break e}o=y.next}}else if(s.tag===18){if(m=s.return,m===null)throw Error(r(341));m.lanes|=a,o=m.alternate,o!==null&&(o.lanes|=a),_r(m,a,e),m=null}else m=s.child;if(m!==null)m.return=s;else for(m=s;m!==null;){if(m===e){m=null;break}if(s=m.sibling,s!==null){s.return=m.return,m=s;break}m=m.return}s=m}}function pi(e,t,a,n){e=null;for(var s=t,o=!1;s!==null;){if(!o){if((s.flags&524288)!==0)o=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var m=s.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var y=s.type;ht(s.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(s===nt.current){if(m=s.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Zi):e=[Zi])}s=s.return}e!==null&&Sr(t,e,a,n),t.flags|=262144}function Us(e){for(e=e.firstContext;e!==null;){if(!ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qa(e){$a=e,Xt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return kc($a,e)}function Cs(e,t){return $a===null&&Qa(e),kc(e,t)}function kc(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Xt===null){if(e===null)throw Error(r(308));Xt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xt=Xt.next=t;return a}var Cg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Mg=u.unstable_scheduleCallback,zg=u.unstable_NormalPriority,Be={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jr(){return{controller:new Cg,data:new Map,refCount:0}}function xi(e){e.refCount--,e.refCount===0&&Mg(zg,function(){e.controller.abort()})}var wi=null,Nr=0,_n=0,Sn=null;function qg(e,t){if(wi===null){var a=wi=[];Nr=0,_n=Ao(),Sn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Nr++,t.then(Dc,Dc),t}function Dc(){if(--Nr===0&&wi!==null){Sn!==null&&(Sn.status="fulfilled");var e=wi;wi=null,_n=0,Sn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Bg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var Rc=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&qg(e,t),Rc!==null&&Rc(e,t)};var Va=R(null);function Er(){var e=Va.current;return e!==null?e:Te.pooledCache}function Ms(e,t){t===null?H(Va,Va.current):H(Va,t.pool)}function Uc(){var e=Er();return e===null?null:{parent:Be._currentValue,pool:e}}var _i=Error(r(460)),Cc=Error(r(474)),zs=Error(r(542)),Tr={then:function(){}};function Mc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qs(){}function zc(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(qs,qs),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bc(e),e;default:if(typeof t.status=="string")t.then(qs,qs);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bc(e),e}throw Si=t,_i}}var Si=null;function qc(){if(Si===null)throw Error(r(459));var e=Si;return Si=null,e}function Bc(e){if(e===_i||e===zs)throw Error(r(483))}var oa=!1;function Ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Or(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ca(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(we&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=Os(e),jc(e,null,a),t}return As(e,n,t,a),Os(e)}function ji(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Du(e,a)}}function kr(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?s=o=m:o=o.next=m,a=a.next}while(a!==null);o===null?s=o=t:o=o.next=t}else s=o=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Dr=!1;function Ni(){if(Dr){var e=Sn;if(e!==null)throw e}}function Ei(e,t,a,n){Dr=!1;var s=e.updateQueue;oa=!1;var o=s.firstBaseUpdate,m=s.lastBaseUpdate,y=s.shared.pending;if(y!==null){s.shared.pending=null;var w=y,A=w.next;w.next=null,m===null?o=A:m.next=A,m=w;var C=e.alternate;C!==null&&(C=C.updateQueue,y=C.lastBaseUpdate,y!==m&&(y===null?C.firstBaseUpdate=A:y.next=A,C.lastBaseUpdate=w))}if(o!==null){var q=s.baseState;m=0,C=A=w=null,y=o;do{var O=y.lane&-536870913,k=O!==y.lane;if(k?(ve&O)===O:(n&O)===O){O!==0&&O===_n&&(Dr=!0),C!==null&&(C=C.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var te=e,W=y;O=t;var Ne=a;switch(W.tag){case 1:if(te=W.payload,typeof te=="function"){q=te.call(Ne,q,O);break e}q=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=W.payload,O=typeof te=="function"?te.call(Ne,q,O):te,O==null)break e;q=p({},q,O);break e;case 2:oa=!0}}O=y.callback,O!==null&&(e.flags|=64,k&&(e.flags|=8192),k=s.callbacks,k===null?s.callbacks=[O]:k.push(O))}else k={lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},C===null?(A=C=k,w=q):C=C.next=k,m|=O;if(y=y.next,y===null){if(y=s.shared.pending,y===null)break;k=y,y=k.next,k.next=null,s.lastBaseUpdate=k,s.shared.pending=null}}while(!0);C===null&&(w=q),s.baseState=w,s.firstBaseUpdate=A,s.lastBaseUpdate=C,o===null&&(s.shared.lanes=0),ba|=m,e.lanes=m,e.memoizedState=q}}function Lc(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Hc(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lc(a[e],t)}var jn=R(null),Bs=R(0);function Gc(e,t){e=ea,H(Bs,e),H(jn,t),ea=e|t.baseLanes}function Rr(){H(Bs,ea),H(jn,jn.current)}function Ur(){ea=Bs.current,G(jn),G(Bs)}var da=0,re=null,Se=null,ze=null,Ls=!1,Nn=!1,Xa=!1,Hs=0,Ti=0,En=null,Lg=0;function Ce(){throw Error(r(321))}function Cr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ht(e[a],t[a]))return!1;return!0}function Mr(e,t,a,n,s,o){return da=o,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?jd:Nd,Xa=!1,o=a(n,s),Xa=!1,Nn&&(o=$c(t,a,n,s)),Yc(e),o}function Yc(e){U.H=Xs;var t=Se!==null&&Se.next!==null;if(da=0,ze=Se=re=null,Ls=!1,Ti=0,En=null,t)throw Error(r(300));e===null||Ye||(e=e.dependencies,e!==null&&Us(e)&&(Ye=!0))}function $c(e,t,a,n){re=e;var s=0;do{if(Nn&&(En=null),Ti=0,Nn=!1,25<=s)throw Error(r(301));if(s+=1,ze=Se=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}U.H=Xg,o=t(a,n)}while(Nn);return o}function Hg(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?Ai(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(re.flags|=1024),t}function zr(){var e=Hs!==0;return Hs=0,e}function qr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Br(e){if(Ls){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ls=!1}da=0,ze=Se=re=null,Nn=!1,Ti=Hs=0,En=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?re.memoizedState=ze=e:ze=ze.next=e,ze}function qe(){if(Se===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=ze===null?re.memoizedState:ze.next;if(t!==null)ze=t,Se=e;else{if(e===null)throw re.alternate===null?Error(r(467)):Error(r(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},ze===null?re.memoizedState=ze=e:ze=ze.next=e}return ze}function Lr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(e){var t=Ti;return Ti+=1,En===null&&(En=[]),e=zc(En,e,t),t=re,(ze===null?t.memoizedState:ze.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?jd:Nd),e}function Gs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ai(e);if(e.$$typeof===B)return We(e)}throw Error(r(438,String(e)))}function Hr(e){var t=null,a=re.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=re.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Lr(),re.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=ke;return t.index++,a}function Zt(e,t){return typeof t=="function"?t(e):t}function Ys(e){var t=qe();return Gr(t,Se,e)}function Gr(e,t,a){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var s=e.baseQueue,o=n.pending;if(o!==null){if(s!==null){var m=s.next;s.next=o.next,o.next=m}t.baseQueue=s=o,n.pending=null}if(o=e.baseState,s===null)e.memoizedState=o;else{t=s.next;var y=m=null,w=null,A=t,C=!1;do{var q=A.lane&-536870913;if(q!==A.lane?(ve&q)===q:(da&q)===q){var O=A.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),q===_n&&(C=!0);else if((da&O)===O){A=A.next,O===_n&&(C=!0);continue}else q={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},w===null?(y=w=q,m=o):w=w.next=q,re.lanes|=O,ba|=O;q=A.action,Xa&&a(o,q),o=A.hasEagerState?A.eagerState:a(o,q)}else O={lane:q,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},w===null?(y=w=O,m=o):w=w.next=O,re.lanes|=q,ba|=q;A=A.next}while(A!==null&&A!==t);if(w===null?m=o:w.next=y,!ht(o,e.memoizedState)&&(Ye=!0,C&&(a=Sn,a!==null)))throw a;e.memoizedState=o,e.baseState=m,e.baseQueue=w,n.lastRenderedState=o}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Yr(e){var t=qe(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,o=t.memoizedState;if(s!==null){a.pending=null;var m=s=s.next;do o=e(o,m.action),m=m.next;while(m!==s);ht(o,t.memoizedState)||(Ye=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,n]}function Qc(e,t,a){var n=re,s=qe(),o=be;if(o){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!ht((Se||s).memoizedState,a);m&&(s.memoizedState=a,Ye=!0),s=s.queue;var y=Kc.bind(null,n,s,e);if(Oi(2048,8,y,[e]),s.getSnapshot!==t||m||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Tn(9,$s(),Xc.bind(null,n,s,a,t),null),Te===null)throw Error(r(349));o||(da&124)!==0||Vc(n,t,a)}return a}function Vc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=re.updateQueue,t===null?(t=Lr(),re.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Xc(e,t,a,n){t.value=a,t.getSnapshot=n,Zc(t)&&Jc(e)}function Kc(e,t,a){return a(function(){Zc(t)&&Jc(e)})}function Zc(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ht(e,a)}catch{return!0}}function Jc(e){var t=bn(e,2);t!==null&&pt(t,e,2)}function $r(e){var t=rt();if(typeof e=="function"){var a=e;if(e=a(),Xa){ia(!0);try{a()}finally{ia(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:e},t}function Pc(e,t,a,n){return e.baseState=a,Gr(e,Se,typeof n=="function"?n:Zt)}function Gg(e,t,a,n,s){if(Vs(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){o.listeners.push(m)}};U.T!==null?a(!0):o.isTransition=!1,n(o),a=t.pending,a===null?(o.next=t.pending=o,Ic(t,o)):(o.next=a.next,t.pending=a.next=o)}}function Ic(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var o=U.T,m={};U.T=m;try{var y=a(s,n),w=U.S;w!==null&&w(m,y),Fc(e,t,y)}catch(A){Qr(e,t,A)}finally{U.T=o}}else try{o=a(s,n),Fc(e,t,o)}catch(A){Qr(e,t,A)}}function Fc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Wc(e,t,n)},function(n){return Qr(e,t,n)}):Wc(e,t,a)}function Wc(e,t,a){t.status="fulfilled",t.value=a,ed(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Ic(e,a)))}function Qr(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,ed(t),t=t.next;while(t!==n)}e.action=null}function ed(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function td(e,t){return t}function ad(e,t){if(be){var a=Te.formState;if(a!==null){e:{var n=re;if(be){if(Re){t:{for(var s=Re,o=zt;s.nodeType!==8;){if(!o){s=null;break t}if(s=Rt(s.nextSibling),s===null){s=null;break t}}o=s.data,s=o==="F!"||o==="F"?s:null}if(s){Re=Rt(s.nextSibling),n=s.data==="F!";break e}}Ya(n)}n=!1}n&&(t=a[0])}}return a=rt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:t},a.queue=n,a=wd.bind(null,re,n),n.dispatch=a,n=$r(!1),o=Jr.bind(null,re,!1,n.queue),n=rt(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=Gg.bind(null,re,s,o,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function nd(e){var t=qe();return id(t,Se,e)}function id(e,t,a){if(t=Gr(e,t,td)[0],e=Ys(Zt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Ai(t)}catch(m){throw m===_i?zs:m}else n=t;t=qe();var s=t.queue,o=s.dispatch;return a!==t.memoizedState&&(re.flags|=2048,Tn(9,$s(),Yg.bind(null,s,a),null)),[n,o,e]}function Yg(e,t){e.action=t}function sd(e){var t=qe(),a=Se;if(a!==null)return id(t,a,e);qe(),t=t.memoizedState,a=qe();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Tn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=re.updateQueue,t===null&&(t=Lr(),re.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function $s(){return{destroy:void 0,resource:void 0}}function ld(){return qe().memoizedState}function Qs(e,t,a,n){var s=rt();n=n===void 0?null:n,re.flags|=e,s.memoizedState=Tn(1|t,$s(),a,n)}function Oi(e,t,a,n){var s=qe();n=n===void 0?null:n;var o=s.memoizedState.inst;Se!==null&&n!==null&&Cr(n,Se.memoizedState.deps)?s.memoizedState=Tn(t,o,a,n):(re.flags|=e,s.memoizedState=Tn(1|t,o,a,n))}function rd(e,t){Qs(8390656,8,e,t)}function od(e,t){Oi(2048,8,e,t)}function ud(e,t){return Oi(4,2,e,t)}function cd(e,t){return Oi(4,4,e,t)}function dd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fd(e,t,a){a=a!=null?a.concat([e]):null,Oi(4,4,dd.bind(null,t,e),a)}function Vr(){}function hd(e,t){var a=qe();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Cr(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function md(e,t){var a=qe();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Cr(t,n[1]))return n[0];if(n=e(),Xa){ia(!0);try{e()}finally{ia(!1)}}return a.memoizedState=[n,t],n}function Xr(e,t,a){return a===void 0||(da&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=bf(),re.lanes|=e,ba|=e,a)}function gd(e,t,a,n){return ht(a,t)?a:jn.current!==null?(e=Xr(e,a,n),ht(e,t)||(Ye=!0),e):(da&42)===0?(Ye=!0,e.memoizedState=a):(e=bf(),re.lanes|=e,ba|=e,t)}function vd(e,t,a,n,s){var o=$.p;$.p=o!==0&&8>o?o:8;var m=U.T,y={};U.T=y,Jr(e,!1,t,a);try{var w=s(),A=U.S;if(A!==null&&A(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var C=Bg(w,n);ki(e,t,C,bt(e))}else ki(e,t,n,bt(e))}catch(q){ki(e,t,{then:function(){},status:"rejected",reason:q},bt())}finally{$.p=o,U.T=m}}function $g(){}function Kr(e,t,a,n){if(e.tag!==5)throw Error(r(476));var s=yd(e).queue;vd(e,s,t,F,a===null?$g:function(){return bd(e),a(n)})}function yd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:F},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bd(e){var t=yd(e).next.queue;ki(e,t,{},bt())}function Zr(){return We(Zi)}function pd(){return qe().memoizedState}function xd(){return qe().memoizedState}function Qg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=bt();e=ua(a);var n=ca(t,e,a);n!==null&&(pt(n,t,a),ji(n,t,a)),t={cache:jr()},e.payload=t;return}t=t.return}}function Vg(e,t,a){var n=bt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Vs(e)?_d(t,a):(a=mr(e,t,a,n),a!==null&&(pt(a,e,n),Sd(a,t,n)))}function wd(e,t,a){var n=bt();ki(e,t,a,n)}function ki(e,t,a,n){var s={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))_d(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var m=t.lastRenderedState,y=o(m,a);if(s.hasEagerState=!0,s.eagerState=y,ht(y,m))return As(e,t,s,0),Te===null&&Ts(),!1}catch{}finally{}if(a=mr(e,t,s,n),a!==null)return pt(a,e,n),Sd(a,t,n),!0}return!1}function Jr(e,t,a,n){if(n={lane:2,revertLane:Ao(),action:n,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(r(479))}else t=mr(e,a,n,2),t!==null&&pt(t,e,2)}function Vs(e){var t=e.alternate;return e===re||t!==null&&t===re}function _d(e,t){Nn=Ls=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Sd(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Du(e,a)}}var Xs={readContext:We,use:Gs,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce},jd={readContext:We,use:Gs,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:rd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Qs(4194308,4,dd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){Qs(4,2,e,t)},useMemo:function(e,t){var a=rt();t=t===void 0?null:t;var n=e();if(Xa){ia(!0);try{e()}finally{ia(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=rt();if(a!==void 0){var s=a(t);if(Xa){ia(!0);try{a(t)}finally{ia(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=Vg.bind(null,re,e),[n.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:function(e){e=$r(e);var t=e.queue,a=wd.bind(null,re,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Vr,useDeferredValue:function(e,t){var a=rt();return Xr(a,e,t)},useTransition:function(){var e=$r(!1);return e=vd.bind(null,re,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=re,s=rt();if(be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Te===null)throw Error(r(349));(ve&124)!==0||Vc(n,t,a)}s.memoizedState=a;var o={value:a,getSnapshot:t};return s.queue=o,rd(Kc.bind(null,n,o,e),[e]),n.flags|=2048,Tn(9,$s(),Xc.bind(null,n,o,a,t),null),a},useId:function(){var e=rt(),t=Te.identifierPrefix;if(be){var a=Vt,n=Qt;a=(n&~(1<<32-ft(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=Hs++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Lg++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Zr,useFormState:ad,useActionState:ad,useOptimistic:function(e){var t=rt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Jr.bind(null,re,!0,a),a.dispatch=t,[e,t]},useMemoCache:Hr,useCacheRefresh:function(){return rt().memoizedState=Qg.bind(null,re)}},Nd={readContext:We,use:Gs,useCallback:hd,useContext:We,useEffect:od,useImperativeHandle:fd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:md,useReducer:Ys,useRef:ld,useState:function(){return Ys(Zt)},useDebugValue:Vr,useDeferredValue:function(e,t){var a=qe();return gd(a,Se.memoizedState,e,t)},useTransition:function(){var e=Ys(Zt)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Qc,useId:pd,useHostTransitionStatus:Zr,useFormState:nd,useActionState:nd,useOptimistic:function(e,t){var a=qe();return Pc(a,Se,e,t)},useMemoCache:Hr,useCacheRefresh:xd},Xg={readContext:We,use:Gs,useCallback:hd,useContext:We,useEffect:od,useImperativeHandle:fd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:md,useReducer:Yr,useRef:ld,useState:function(){return Yr(Zt)},useDebugValue:Vr,useDeferredValue:function(e,t){var a=qe();return Se===null?Xr(a,e,t):gd(a,Se.memoizedState,e,t)},useTransition:function(){var e=Yr(Zt)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Qc,useId:pd,useHostTransitionStatus:Zr,useFormState:sd,useActionState:sd,useOptimistic:function(e,t){var a=qe();return Se!==null?Pc(a,Se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Hr,useCacheRefresh:xd},An=null,Di=0;function Ks(e){var t=Di;return Di+=1,An===null&&(An=[]),zc(An,e,t)}function Ri(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zs(e,t){throw t.$$typeof===_?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ed(e){var t=e._init;return t(e._payload)}function Td(e){function t(N,S){if(e){var T=N.deletions;T===null?(N.deletions=[S],N.flags|=16):T.push(S)}}function a(N,S){if(!e)return null;for(;S!==null;)t(N,S),S=S.sibling;return null}function n(N){for(var S=new Map;N!==null;)N.key!==null?S.set(N.key,N):S.set(N.index,N),N=N.sibling;return S}function s(N,S){return N=$t(N,S),N.index=0,N.sibling=null,N}function o(N,S,T){return N.index=T,e?(T=N.alternate,T!==null?(T=T.index,T<S?(N.flags|=67108866,S):T):(N.flags|=67108866,S)):(N.flags|=1048576,S)}function m(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function y(N,S,T,z){return S===null||S.tag!==6?(S=vr(T,N.mode,z),S.return=N,S):(S=s(S,T),S.return=N,S)}function w(N,S,T,z){var X=T.type;return X===D?C(N,S,T.props.children,z,T.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Z&&Ed(X)===S.type)?(S=s(S,T.props),Ri(S,T),S.return=N,S):(S=ks(T.type,T.key,T.props,null,N.mode,z),Ri(S,T),S.return=N,S)}function A(N,S,T,z){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=yr(T,N.mode,z),S.return=N,S):(S=s(S,T.children||[]),S.return=N,S)}function C(N,S,T,z,X){return S===null||S.tag!==7?(S=Ba(T,N.mode,z,X),S.return=N,S):(S=s(S,T),S.return=N,S)}function q(N,S,T){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=vr(""+S,N.mode,T),S.return=N,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case j:return T=ks(S.type,S.key,S.props,null,N.mode,T),Ri(T,S),T.return=N,T;case E:return S=yr(S,N.mode,T),S.return=N,S;case Z:var z=S._init;return S=z(S._payload),q(N,S,T)}if(He(S)||pe(S))return S=Ba(S,N.mode,T,null),S.return=N,S;if(typeof S.then=="function")return q(N,Ks(S),T);if(S.$$typeof===B)return q(N,Cs(N,S),T);Zs(N,S)}return null}function O(N,S,T,z){var X=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return X!==null?null:y(N,S,""+T,z);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case j:return T.key===X?w(N,S,T,z):null;case E:return T.key===X?A(N,S,T,z):null;case Z:return X=T._init,T=X(T._payload),O(N,S,T,z)}if(He(T)||pe(T))return X!==null?null:C(N,S,T,z,null);if(typeof T.then=="function")return O(N,S,Ks(T),z);if(T.$$typeof===B)return O(N,S,Cs(N,T),z);Zs(N,T)}return null}function k(N,S,T,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return N=N.get(T)||null,y(S,N,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return N=N.get(z.key===null?T:z.key)||null,w(S,N,z,X);case E:return N=N.get(z.key===null?T:z.key)||null,A(S,N,z,X);case Z:var oe=z._init;return z=oe(z._payload),k(N,S,T,z,X)}if(He(z)||pe(z))return N=N.get(T)||null,C(S,N,z,X,null);if(typeof z.then=="function")return k(N,S,T,Ks(z),X);if(z.$$typeof===B)return k(N,S,T,Cs(S,z),X);Zs(S,z)}return null}function te(N,S,T,z){for(var X=null,oe=null,J=S,ee=S=0,Qe=null;J!==null&&ee<T.length;ee++){J.index>ee?(Qe=J,J=null):Qe=J.sibling;var ye=O(N,J,T[ee],z);if(ye===null){J===null&&(J=Qe);break}e&&J&&ye.alternate===null&&t(N,J),S=o(ye,S,ee),oe===null?X=ye:oe.sibling=ye,oe=ye,J=Qe}if(ee===T.length)return a(N,J),be&&Ha(N,ee),X;if(J===null){for(;ee<T.length;ee++)J=q(N,T[ee],z),J!==null&&(S=o(J,S,ee),oe===null?X=J:oe.sibling=J,oe=J);return be&&Ha(N,ee),X}for(J=n(J);ee<T.length;ee++)Qe=k(J,N,ee,T[ee],z),Qe!==null&&(e&&Qe.alternate!==null&&J.delete(Qe.key===null?ee:Qe.key),S=o(Qe,S,ee),oe===null?X=Qe:oe.sibling=Qe,oe=Qe);return e&&J.forEach(function(Ta){return t(N,Ta)}),be&&Ha(N,ee),X}function W(N,S,T,z){if(T==null)throw Error(r(151));for(var X=null,oe=null,J=S,ee=S=0,Qe=null,ye=T.next();J!==null&&!ye.done;ee++,ye=T.next()){J.index>ee?(Qe=J,J=null):Qe=J.sibling;var Ta=O(N,J,ye.value,z);if(Ta===null){J===null&&(J=Qe);break}e&&J&&Ta.alternate===null&&t(N,J),S=o(Ta,S,ee),oe===null?X=Ta:oe.sibling=Ta,oe=Ta,J=Qe}if(ye.done)return a(N,J),be&&Ha(N,ee),X;if(J===null){for(;!ye.done;ee++,ye=T.next())ye=q(N,ye.value,z),ye!==null&&(S=o(ye,S,ee),oe===null?X=ye:oe.sibling=ye,oe=ye);return be&&Ha(N,ee),X}for(J=n(J);!ye.done;ee++,ye=T.next())ye=k(J,N,ee,ye.value,z),ye!==null&&(e&&ye.alternate!==null&&J.delete(ye.key===null?ee:ye.key),S=o(ye,S,ee),oe===null?X=ye:oe.sibling=ye,oe=ye);return e&&J.forEach(function(K0){return t(N,K0)}),be&&Ha(N,ee),X}function Ne(N,S,T,z){if(typeof T=="object"&&T!==null&&T.type===D&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case j:e:{for(var X=T.key;S!==null;){if(S.key===X){if(X=T.type,X===D){if(S.tag===7){a(N,S.sibling),z=s(S,T.props.children),z.return=N,N=z;break e}}else if(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Z&&Ed(X)===S.type){a(N,S.sibling),z=s(S,T.props),Ri(z,T),z.return=N,N=z;break e}a(N,S);break}else t(N,S);S=S.sibling}T.type===D?(z=Ba(T.props.children,N.mode,z,T.key),z.return=N,N=z):(z=ks(T.type,T.key,T.props,null,N.mode,z),Ri(z,T),z.return=N,N=z)}return m(N);case E:e:{for(X=T.key;S!==null;){if(S.key===X)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){a(N,S.sibling),z=s(S,T.children||[]),z.return=N,N=z;break e}else{a(N,S);break}else t(N,S);S=S.sibling}z=yr(T,N.mode,z),z.return=N,N=z}return m(N);case Z:return X=T._init,T=X(T._payload),Ne(N,S,T,z)}if(He(T))return te(N,S,T,z);if(pe(T)){if(X=pe(T),typeof X!="function")throw Error(r(150));return T=X.call(T),W(N,S,T,z)}if(typeof T.then=="function")return Ne(N,S,Ks(T),z);if(T.$$typeof===B)return Ne(N,S,Cs(N,T),z);Zs(N,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,S!==null&&S.tag===6?(a(N,S.sibling),z=s(S,T),z.return=N,N=z):(a(N,S),z=vr(T,N.mode,z),z.return=N,N=z),m(N)):a(N,S)}return function(N,S,T,z){try{Di=0;var X=Ne(N,S,T,z);return An=null,X}catch(J){if(J===_i||J===zs)throw J;var oe=mt(29,J,null,N.mode);return oe.lanes=z,oe.return=N,oe}finally{}}}var On=Td(!0),Ad=Td(!1),Tt=R(null),qt=null;function fa(e){var t=e.alternate;H(Le,Le.current&1),H(Tt,e),qt===null&&(t===null||jn.current!==null||t.memoizedState!==null)&&(qt=e)}function Od(e){if(e.tag===22){if(H(Le,Le.current),H(Tt,e),qt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(qt=e)}}else ha()}function ha(){H(Le,Le.current),H(Tt,Tt.current)}function Jt(e){G(Tt),qt===e&&(qt=null),G(Le)}var Le=R(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ho(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Pr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:p({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ir={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=bt(),s=ua(n);s.payload=t,a!=null&&(s.callback=a),t=ca(e,s,n),t!==null&&(pt(t,e,n),ji(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=bt(),s=ua(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=ca(e,s,n),t!==null&&(pt(t,e,n),ji(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=bt(),n=ua(a);n.tag=2,t!=null&&(n.callback=t),t=ca(e,n,a),t!==null&&(pt(t,e,a),ji(t,e,a))}};function kd(e,t,a,n,s,o,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,m):t.prototype&&t.prototype.isPureReactComponent?!mi(a,n)||!mi(s,o):!0}function Dd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Ir.enqueueReplaceState(t,t.state,null)}function Ka(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=p({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}var Ps=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Rd(e){Ps(e)}function Ud(e){console.error(e)}function Cd(e){Ps(e)}function Is(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Md(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Fr(e,t,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){Is(e,t)},a}function zd(e){return e=ua(e),e.tag=3,e}function qd(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var o=n.value;e.payload=function(){return s(o)},e.callback=function(){Md(t,a,n)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Md(t,a,n),typeof s!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})})}function Kg(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&pi(t,a,s,!0),a=Tt.current,a!==null){switch(a.tag){case 13:return qt===null?So():a.alternate===null&&Ue===0&&(Ue=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===Tr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),No(e,n,s)),!1;case 22:return a.flags|=65536,n===Tr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),No(e,n,s)),!1}throw Error(r(435,a.tag))}return No(e,n,s),So(),!1}if(be)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==xr&&(e=Error(r(422),{cause:n}),bi(St(e,a)))):(n!==xr&&(t=Error(r(423),{cause:n}),bi(St(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=St(n,a),s=Fr(e.stateNode,n,s),kr(e,s),Ue!==4&&(Ue=2)),!1;var o=Error(r(520),{cause:n});if(o=St(o,a),Li===null?Li=[o]:Li.push(o),Ue!==4&&(Ue=2),t===null)return!0;n=St(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=Fr(a.stateNode,n,e),kr(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(pa===null||!pa.has(o))))return a.flags|=65536,s&=-s,a.lanes|=s,s=zd(s),qd(s,e,a,n),kr(a,s),!1}a=a.return}while(a!==null);return!1}var Bd=Error(r(461)),Ye=!1;function Je(e,t,a,n){t.child=e===null?Ad(t,null,a,n):On(t,e.child,a,n)}function Ld(e,t,a,n,s){a=a.render;var o=t.ref;if("ref"in n){var m={};for(var y in n)y!=="ref"&&(m[y]=n[y])}else m=n;return Qa(t),n=Mr(e,t,a,m,o,s),y=zr(),e!==null&&!Ye?(qr(e,t,s),Pt(e,t,s)):(be&&y&&br(t),t.flags|=1,Je(e,t,n,s),t.child)}function Hd(e,t,a,n,s){if(e===null){var o=a.type;return typeof o=="function"&&!gr(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,Gd(e,t,o,n,s)):(e=ks(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!lo(e,s)){var m=o.memoizedProps;if(a=a.compare,a=a!==null?a:mi,a(m,n)&&e.ref===t.ref)return Pt(e,t,s)}return t.flags|=1,e=$t(o,n),e.ref=t.ref,e.return=t,t.child=e}function Gd(e,t,a,n,s){if(e!==null){var o=e.memoizedProps;if(mi(o,n)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=n=o,lo(e,s))(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,Pt(e,t,s)}return Wr(e,t,a,n,s)}function Yd(e,t,a){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=o!==null?o.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;t.childLanes=o&~n}else t.childLanes=0,t.child=null;return $d(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ms(t,o!==null?o.cachePool:null),o!==null?Gc(t,o):Rr(),Od(t);else return t.lanes=t.childLanes=536870912,$d(e,t,o!==null?o.baseLanes|a:a,a)}else o!==null?(Ms(t,o.cachePool),Gc(t,o),ha(),t.memoizedState=null):(e!==null&&Ms(t,null),Rr(),ha());return Je(e,t,s,a),t.child}function $d(e,t,a,n){var s=Er();return s=s===null?null:{parent:Be._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},e!==null&&Ms(t,null),Rr(),Od(t),e!==null&&pi(e,t,n,!0),null}function Fs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Wr(e,t,a,n,s){return Qa(t),a=Mr(e,t,a,n,void 0,s),n=zr(),e!==null&&!Ye?(qr(e,t,s),Pt(e,t,s)):(be&&n&&br(t),t.flags|=1,Je(e,t,a,s),t.child)}function Qd(e,t,a,n,s,o){return Qa(t),t.updateQueue=null,a=$c(t,n,a,s),Yc(e),n=zr(),e!==null&&!Ye?(qr(e,t,o),Pt(e,t,o)):(be&&n&&br(t),t.flags|=1,Je(e,t,a,o),t.child)}function Vd(e,t,a,n,s){if(Qa(t),t.stateNode===null){var o=pn,m=a.contextType;typeof m=="object"&&m!==null&&(o=We(m)),o=new a(n,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ir,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=n,o.state=t.memoizedState,o.refs={},Ar(t),m=a.contextType,o.context=typeof m=="object"&&m!==null?We(m):pn,o.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Pr(t,a,m,n),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(m=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),m!==o.state&&Ir.enqueueReplaceState(o,o.state,null),Ei(t,n,o,s),Ni(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){o=t.stateNode;var y=t.memoizedProps,w=Ka(a,y);o.props=w;var A=o.context,C=a.contextType;m=pn,typeof C=="object"&&C!==null&&(m=We(C));var q=a.getDerivedStateFromProps;C=typeof q=="function"||typeof o.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,C||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y||A!==m)&&Dd(t,o,n,m),oa=!1;var O=t.memoizedState;o.state=O,Ei(t,n,o,s),Ni(),A=t.memoizedState,y||O!==A||oa?(typeof q=="function"&&(Pr(t,a,q,n),A=t.memoizedState),(w=oa||kd(t,a,w,n,O,A,m))?(C||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),o.props=n,o.state=A,o.context=m,n=w):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Or(e,t),m=t.memoizedProps,C=Ka(a,m),o.props=C,q=t.pendingProps,O=o.context,A=a.contextType,w=pn,typeof A=="object"&&A!==null&&(w=We(A)),y=a.getDerivedStateFromProps,(A=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==q||O!==w)&&Dd(t,o,n,w),oa=!1,O=t.memoizedState,o.state=O,Ei(t,n,o,s),Ni();var k=t.memoizedState;m!==q||O!==k||oa||e!==null&&e.dependencies!==null&&Us(e.dependencies)?(typeof y=="function"&&(Pr(t,a,y,n),k=t.memoizedState),(C=oa||kd(t,a,C,n,O,k,w)||e!==null&&e.dependencies!==null&&Us(e.dependencies))?(A||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,k,w),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,k,w)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=k),o.props=n,o.state=k,o.context=w,n=C):(typeof o.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),n=!1)}return o=n,Fs(e,t),n=(t.flags&128)!==0,o||n?(o=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&n?(t.child=On(t,e.child,null,s),t.child=On(t,null,a,s)):Je(e,t,a,s),t.memoizedState=o.state,e=t.child):e=Pt(e,t,s),e}function Xd(e,t,a,n){return yi(),t.flags|=256,Je(e,t,a,n),t.child}var eo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function to(e){return{baseLanes:e,cachePool:Uc()}}function ao(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=At),e}function Kd(e,t,a){var n=t.pendingProps,s=!1,o=(t.flags&128)!==0,m;if((m=o)||(m=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),m&&(s=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(s?fa(t):ha(),be){var y=Re,w;if(w=y){e:{for(w=y,y=zt;w.nodeType!==8;){if(!y){y=null;break e}if(w=Rt(w.nextSibling),w===null){y=null;break e}}y=w}y!==null?(t.memoizedState={dehydrated:y,treeContext:La!==null?{id:Qt,overflow:Vt}:null,retryLane:536870912,hydrationErrors:null},w=mt(18,null,null,0),w.stateNode=y,w.return=t,t.child=w,it=t,Re=null,w=!0):w=!1}w||Ya(t)}if(y=t.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return Ho(y)?t.lanes=32:t.lanes=536870912,null;Jt(t)}return y=n.children,n=n.fallback,s?(ha(),s=t.mode,y=Ws({mode:"hidden",children:y},s),n=Ba(n,s,a,null),y.return=t,n.return=t,y.sibling=n,t.child=y,s=t.child,s.memoizedState=to(a),s.childLanes=ao(e,m,a),t.memoizedState=eo,n):(fa(t),no(t,y))}if(w=e.memoizedState,w!==null&&(y=w.dehydrated,y!==null)){if(o)t.flags&256?(fa(t),t.flags&=-257,t=io(e,t,a)):t.memoizedState!==null?(ha(),t.child=e.child,t.flags|=128,t=null):(ha(),s=n.fallback,y=t.mode,n=Ws({mode:"visible",children:n.children},y),s=Ba(s,y,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,On(t,e.child,null,a),n=t.child,n.memoizedState=to(a),n.childLanes=ao(e,m,a),t.memoizedState=eo,t=s);else if(fa(t),Ho(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var A=m.dgst;m=A,n=Error(r(419)),n.stack="",n.digest=m,bi({value:n,source:null,stack:null}),t=io(e,t,a)}else if(Ye||pi(e,t,a,!1),m=(a&e.childLanes)!==0,Ye||m){if(m=Te,m!==null&&(n=a&-a,n=(n&42)!==0?1:Hl(n),n=(n&(m.suspendedLanes|a))!==0?0:n,n!==0&&n!==w.retryLane))throw w.retryLane=n,bn(e,n),pt(m,e,n),Bd;y.data==="$?"||So(),t=io(e,t,a)}else y.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Re=Rt(y.nextSibling),it=t,be=!0,Ga=null,zt=!1,e!==null&&(Nt[Et++]=Qt,Nt[Et++]=Vt,Nt[Et++]=La,Qt=e.id,Vt=e.overflow,La=t),t=no(t,n.children),t.flags|=4096);return t}return s?(ha(),s=n.fallback,y=t.mode,w=e.child,A=w.sibling,n=$t(w,{mode:"hidden",children:n.children}),n.subtreeFlags=w.subtreeFlags&65011712,A!==null?s=$t(A,s):(s=Ba(s,y,a,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,y=e.child.memoizedState,y===null?y=to(a):(w=y.cachePool,w!==null?(A=Be._currentValue,w=w.parent!==A?{parent:A,pool:A}:w):w=Uc(),y={baseLanes:y.baseLanes|a,cachePool:w}),s.memoizedState=y,s.childLanes=ao(e,m,a),t.memoizedState=eo,n):(fa(t),a=e.child,e=a.sibling,a=$t(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function no(e,t){return t=Ws({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ws(e,t){return e=mt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function io(e,t,a){return On(t,e.child,null,a),e=no(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zd(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_r(e.return,t,a)}function so(e,t,a,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=a,o.tailMode=s)}function Jd(e,t,a){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Je(e,t,n.children,a),n=Le.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,a,t);else if(e.tag===19)Zd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(H(Le,n),s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Js(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),so(t,!1,s,a,o);break;case"backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Js(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}so(t,!0,a,null,o);break;case"together":so(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(pi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=$t(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=$t(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function lo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Us(e)))}function Zg(e,t,a){switch(t.tag){case 3:ge(t,t.stateNode.containerInfo),ra(t,Be,e.memoizedState.cache),yi();break;case 27:case 5:tn(t);break;case 4:ge(t,t.stateNode.containerInfo);break;case 10:ra(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(fa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Kd(e,t,a):(fa(t),e=Pt(e,t,a),e!==null?e.sibling:null);fa(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(pi(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return Jd(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Le,Le.current),n)break;return null;case 22:case 23:return t.lanes=0,Yd(e,t,a);case 24:ra(t,Be,e.memoizedState.cache)}return Pt(e,t,a)}function Pd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ye=!0;else{if(!lo(e,a)&&(t.flags&128)===0)return Ye=!1,Zg(e,t,a);Ye=(e.flags&131072)!==0}else Ye=!1,be&&(t.flags&1048576)!==0&&Ec(t,Rs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,s=n._init;if(n=s(n._payload),t.type=n,typeof n=="function")gr(n)?(e=Ka(n,e),t.tag=1,t=Vd(null,t,n,e,a)):(t.tag=0,t=Wr(null,t,n,e,a));else{if(n!=null){if(s=n.$$typeof,s===K){t.tag=11,t=Ld(null,t,n,e,a);break e}else if(s===fe){t.tag=14,t=Hd(null,t,n,e,a);break e}}throw t=at(n)||n,Error(r(306,t,""))}}return t;case 0:return Wr(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=Ka(n,t.pendingProps),Vd(e,t,n,s,a);case 3:e:{if(ge(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var o=t.memoizedState;s=o.element,Or(e,t),Ei(t,n,null,a);var m=t.memoizedState;if(n=m.cache,ra(t,Be,n),n!==o.cache&&Sr(t,[Be],a,!0),Ni(),n=m.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Xd(e,t,n,a);break e}else if(n!==s){s=St(Error(r(424)),t),bi(s),t=Xd(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Re=Rt(e.firstChild),it=t,be=!0,Ga=null,zt=!0,a=Ad(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yi(),n===s){t=Pt(e,t,a);break e}Je(e,t,n,a)}t=t.child}return t;case 26:return Fs(e,t),e===null?(a=th(t.type,null,t.pendingProps,null))?t.memoizedState=a:be||(a=t.type,e=t.pendingProps,n=hl(ae.current).createElement(a),n[Fe]=t,n[st]=e,Ie(n,a,e),Ge(n),t.stateNode=n):t.memoizedState=th(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return tn(t),e===null&&be&&(n=t.stateNode=Ff(t.type,t.pendingProps,ae.current),it=t,zt=!0,s=Re,_a(t.type)?(Go=s,Re=Rt(n.firstChild)):Re=s),Je(e,t,t.pendingProps.children,a),Fs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((s=n=Re)&&(n=_0(n,t.type,t.pendingProps,zt),n!==null?(t.stateNode=n,it=t,Re=Rt(n.firstChild),zt=!1,s=!0):s=!1),s||Ya(t)),tn(t),s=t.type,o=t.pendingProps,m=e!==null?e.memoizedProps:null,n=o.children,qo(s,o)?n=null:m!==null&&qo(s,m)&&(t.flags|=32),t.memoizedState!==null&&(s=Mr(e,t,Hg,null,null,a),Zi._currentValue=s),Fs(e,t),Je(e,t,n,a),t.child;case 6:return e===null&&be&&((e=a=Re)&&(a=S0(a,t.pendingProps,zt),a!==null?(t.stateNode=a,it=t,Re=null,e=!0):e=!1),e||Ya(t)),null;case 13:return Kd(e,t,a);case 4:return ge(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=On(t,null,n,a):Je(e,t,n,a),t.child;case 11:return Ld(e,t,t.type,t.pendingProps,a);case 7:return Je(e,t,t.pendingProps,a),t.child;case 8:return Je(e,t,t.pendingProps.children,a),t.child;case 12:return Je(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ra(t,t.type,n.value),Je(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,Qa(t),s=We(s),n=n(s),t.flags|=1,Je(e,t,n,a),t.child;case 14:return Hd(e,t,t.type,t.pendingProps,a);case 15:return Gd(e,t,t.type,t.pendingProps,a);case 19:return Jd(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Ws(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=$t(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Yd(e,t,a);case 24:return Qa(t),n=We(Be),e===null?(s=Er(),s===null&&(s=Te,o=jr(),s.pooledCache=o,o.refCount++,o!==null&&(s.pooledCacheLanes|=a),s=o),t.memoizedState={parent:n,cache:s},Ar(t),ra(t,Be,s)):((e.lanes&a)!==0&&(Or(e,t),Ei(t,null,null,a),Ni()),s=e.memoizedState,o=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ra(t,Be,n)):(n=o.cache,ra(t,Be,n),n!==s.cache&&Sr(t,[Be],a,!0))),Je(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function It(e){e.flags|=4}function Id(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lh(t)){if(t=Tt.current,t!==null&&((ve&4194048)===ve?qt!==null:(ve&62914560)!==ve&&(ve&536870912)===0||t!==qt))throw Si=Tr,Cc;e.flags|=8192}}function el(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ou():536870912,e.lanes|=t,Un|=t)}function Ui(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Jg(e,t,a){var n=t.pendingProps;switch(pr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Kt(Be),xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(vi(t)?It(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Oc())),De(t),null;case 26:return a=t.memoizedState,e===null?(It(t),a!==null?(De(t),Id(t,a)):(De(t),t.flags&=-16777217)):a?a!==e.memoizedState?(It(t),De(t),Id(t,a)):(De(t),t.flags&=-16777217):(e.memoizedProps!==n&&It(t),De(t),t.flags&=-16777217),null;case 27:an(t),a=ae.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&It(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return De(t),null}e=I.current,vi(t)?Tc(t):(e=Ff(s,n,a),t.stateNode=e,It(t))}return De(t),null;case 5:if(an(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&It(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return De(t),null}if(e=I.current,vi(t))Tc(t);else{switch(s=hl(ae.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?s.createElement(a,{is:n.is}):s.createElement(a)}}e[Fe]=t,e[st]=n;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(Ie(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&It(t)}}return De(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&It(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=ae.current,vi(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=it,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[Fe]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Vf(e.nodeValue,a)),e||Ya(t)}else e=hl(e).createTextNode(n),e[Fe]=t,t.stateNode=e}return De(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=vi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(r(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));s[Fe]=t}else yi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),s=!1}else s=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Jt(t),t):(Jt(t),null)}if(Jt(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool);var o=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),el(t,t.updateQueue),De(t),null;case 4:return xt(),e===null&&Ro(t.stateNode.containerInfo),De(t),null;case 10:return Kt(t.type),De(t),null;case 19:if(G(Le),s=t.memoizedState,s===null)return De(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Ui(s,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Js(e),o!==null){for(t.flags|=128,Ui(s,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Nc(a,e),a=a.sibling;return H(Le,Le.current&1|2),t.child}e=e.sibling}s.tail!==null&&Mt()>nl&&(t.flags|=128,n=!0,Ui(s,!1),t.lanes=4194304)}else{if(!n)if(e=Js(o),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),Ui(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return De(t),null}else 2*Mt()-s.renderingStartTime>nl&&a!==536870912&&(t.flags|=128,n=!0,Ui(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Mt(),t.sibling=null,e=Le.current,H(Le,n?e&1|2:e&1),t):(De(t),null);case 22:case 23:return Jt(t),Ur(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),a=t.updateQueue,a!==null&&el(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&G(Va),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Kt(Be),De(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Pg(e,t){switch(pr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kt(Be),xt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return an(t),null;case 13:if(Jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Le),null;case 4:return xt(),null;case 10:return Kt(t.type),null;case 22:case 23:return Jt(t),Ur(),e!==null&&G(Va),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Kt(Be),null;case 25:return null;default:return null}}function Fd(e,t){switch(pr(t),t.tag){case 3:Kt(Be),xt();break;case 26:case 27:case 5:an(t);break;case 4:xt();break;case 13:Jt(t);break;case 19:G(Le);break;case 10:Kt(t.type);break;case 22:case 23:Jt(t),Ur(),e!==null&&G(Va);break;case 24:Kt(Be)}}function Ci(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var o=a.create,m=a.inst;n=o(),m.destroy=n}a=a.next}while(a!==s)}}catch(y){Ee(t,t.return,y)}}function ma(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var o=s.next;n=o;do{if((n.tag&e)===e){var m=n.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,s=t;var w=a,A=y;try{A()}catch(C){Ee(s,w,C)}}}n=n.next}while(n!==o)}}catch(C){Ee(t,t.return,C)}}function Wd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Hc(t,a)}catch(n){Ee(e,e.return,n)}}}function ef(e,t,a){a.props=Ka(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Ee(e,t,n)}}function Mi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){Ee(e,t,s)}}function Bt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){Ee(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Ee(e,t,s)}else a.current=null}function tf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){Ee(e,e.return,s)}}function ro(e,t,a){try{var n=e.stateNode;y0(n,e.type,a,t),n[st]=t}catch(s){Ee(e,e.return,s)}}function af(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_a(e.type)||e.tag===4}function oo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uo(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=fl));else if(n!==4&&(n===27&&_a(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(uo(e,t,a),e=e.sibling;e!==null;)uo(e,t,a),e=e.sibling}function tl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&_a(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(tl(e,t,a),e=e.sibling;e!==null;)tl(e,t,a),e=e.sibling}function nf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ie(t,n,a),t[Fe]=e,t[st]=a}catch(o){Ee(e,e.return,o)}}var Ft=!1,Me=!1,co=!1,sf=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ig(e,t){if(e=e.containerInfo,Mo=pl,e=gc(e),or(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var m=0,y=-1,w=-1,A=0,C=0,q=e,O=null;t:for(;;){for(var k;q!==a||s!==0&&q.nodeType!==3||(y=m+s),q!==o||n!==0&&q.nodeType!==3||(w=m+n),q.nodeType===3&&(m+=q.nodeValue.length),(k=q.firstChild)!==null;)O=q,q=k;for(;;){if(q===e)break t;if(O===a&&++A===s&&(y=m),O===o&&++C===n&&(w=m),(k=q.nextSibling)!==null)break;q=O,O=q.parentNode}q=k}a=y===-1||w===-1?null:{start:y,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(zo={focusedElem:e,selectionRange:a},pl=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){switch(t=$e,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,s=o.memoizedProps,o=o.memoizedState,n=a.stateNode;try{var te=Ka(a.type,s,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(te,o),n.__reactInternalSnapshotBeforeUpdate=e}catch(W){Ee(a,a.return,W)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Lo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}}function lf(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ga(e,a),n&4&&Ci(5,a);break;case 1:if(ga(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Ee(a,a.return,m)}else{var s=Ka(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ee(a,a.return,m)}}n&64&&Wd(a),n&512&&Mi(a,a.return);break;case 3:if(ga(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Hc(e,t)}catch(m){Ee(a,a.return,m)}}break;case 27:t===null&&n&4&&nf(a);case 26:case 5:ga(e,a),t===null&&n&4&&tf(a),n&512&&Mi(a,a.return);break;case 12:ga(e,a);break;case 13:ga(e,a),n&4&&uf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=l0.bind(null,a),j0(e,a))));break;case 22:if(n=a.memoizedState!==null||Ft,!n){t=t!==null&&t.memoizedState!==null||Me,s=Ft;var o=Me;Ft=n,(Me=t)&&!o?va(e,a,(a.subtreeFlags&8772)!==0):ga(e,a),Ft=s,Me=o}break;case 30:break;default:ga(e,a)}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$l(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,ot=!1;function Wt(e,t,a){for(a=a.child;a!==null;)of(e,t,a),a=a.sibling}function of(e,t,a){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(ai,a)}catch{}switch(a.tag){case 26:Me||Bt(a,t),Wt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Me||Bt(a,t);var n=Oe,s=ot;_a(a.type)&&(Oe=a.stateNode,ot=!1),Wt(e,t,a),Qi(a.stateNode),Oe=n,ot=s;break;case 5:Me||Bt(a,t);case 6:if(n=Oe,s=ot,Oe=null,Wt(e,t,a),Oe=n,ot=s,Oe!==null)if(ot)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(a.stateNode)}catch(o){Ee(a,t,o)}else try{Oe.removeChild(a.stateNode)}catch(o){Ee(a,t,o)}break;case 18:Oe!==null&&(ot?(e=Oe,Pf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fi(e)):Pf(Oe,a.stateNode));break;case 4:n=Oe,s=ot,Oe=a.stateNode.containerInfo,ot=!0,Wt(e,t,a),Oe=n,ot=s;break;case 0:case 11:case 14:case 15:Me||ma(2,a,t),Me||ma(4,a,t),Wt(e,t,a);break;case 1:Me||(Bt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&ef(a,t,n)),Wt(e,t,a);break;case 21:Wt(e,t,a);break;case 22:Me=(n=Me)||a.memoizedState!==null,Wt(e,t,a),Me=n;break;default:Wt(e,t,a)}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fi(e)}catch(a){Ee(t,t.return,a)}}function Fg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sf),t;default:throw Error(r(435,e.tag))}}function fo(e,t){var a=Fg(e);t.forEach(function(n){var s=r0.bind(null,e,n);a.has(n)||(a.add(n),n.then(s,s))})}function gt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],o=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(_a(y.type)){Oe=y.stateNode,ot=!1;break e}break;case 5:Oe=y.stateNode,ot=!1;break e;case 3:case 4:Oe=y.stateNode.containerInfo,ot=!0;break e}y=y.return}if(Oe===null)throw Error(r(160));of(o,m,s),Oe=null,ot=!1,o=s.alternate,o!==null&&(o.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)cf(t,e),t=t.sibling}var Dt=null;function cf(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),vt(e),n&4&&(ma(3,e,e.return),Ci(3,e),ma(5,e,e.return));break;case 1:gt(t,e),vt(e),n&512&&(Me||a===null||Bt(a,a.return)),n&64&&Ft&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=Dt;if(gt(t,e),vt(e),n&512&&(Me||a===null||Bt(a,a.return)),n&4){var o=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":o=s.getElementsByTagName("title")[0],(!o||o[si]||o[Fe]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=s.createElement(n),s.head.insertBefore(o,s.querySelector("head > title"))),Ie(o,n,a),o[Fe]=e,Ge(o),n=o;break e;case"link":var m=ih("link","href",s).get(n+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(o=m[y],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}o=s.createElement(n),Ie(o,n,a),s.head.appendChild(o);break;case"meta":if(m=ih("meta","content",s).get(n+(a.content||""))){for(y=0;y<m.length;y++)if(o=m[y],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}o=s.createElement(n),Ie(o,n,a),s.head.appendChild(o);break;default:throw Error(r(468,n))}o[Fe]=e,Ge(o),n=o}e.stateNode=n}else sh(s,e.type,e.stateNode);else e.stateNode=nh(s,n,e.memoizedProps);else o!==n?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,n===null?sh(s,e.type,e.stateNode):nh(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&ro(e,e.memoizedProps,a.memoizedProps)}break;case 27:gt(t,e),vt(e),n&512&&(Me||a===null||Bt(a,a.return)),a!==null&&n&4&&ro(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gt(t,e),vt(e),n&512&&(Me||a===null||Bt(a,a.return)),e.flags&32){s=e.stateNode;try{dn(s,"")}catch(k){Ee(e,e.return,k)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,ro(e,s,a!==null?a.memoizedProps:s)),n&1024&&(co=!0);break;case 6:if(gt(t,e),vt(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(k){Ee(e,e.return,k)}}break;case 3:if(vl=null,s=Dt,Dt=ml(t.containerInfo),gt(t,e),Dt=s,vt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Fi(t.containerInfo)}catch(k){Ee(e,e.return,k)}co&&(co=!1,df(e));break;case 4:n=Dt,Dt=ml(e.stateNode.containerInfo),gt(t,e),vt(e),Dt=n;break;case 12:gt(t,e),vt(e);break;case 13:gt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bo=Mt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fo(e,n)));break;case 22:s=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,A=Ft,C=Me;if(Ft=A||s,Me=C||w,gt(t,e),Me=C,Ft=A,vt(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||w||Ft||Me||Za(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(o=w.stateNode,s)m=o.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=w.stateNode;var q=w.memoizedProps.style,O=q!=null&&q.hasOwnProperty("display")?q.display:null;y.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(k){Ee(w,w.return,k)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=s?"":w.memoizedProps}catch(k){Ee(w,w.return,k)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,fo(e,a))));break;case 19:gt(t,e),vt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fo(e,n)));break;case 30:break;case 21:break;default:gt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(af(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var s=a.stateNode,o=oo(e);tl(e,o,s);break;case 5:var m=a.stateNode;a.flags&32&&(dn(m,""),a.flags&=-33);var y=oo(e);tl(e,y,m);break;case 3:case 4:var w=a.stateNode.containerInfo,A=oo(e);uo(e,A,w);break;default:throw Error(r(161))}}catch(C){Ee(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;df(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ga(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lf(e,t.alternate,t),t=t.sibling}function Za(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ma(4,t,t.return),Za(t);break;case 1:Bt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ef(t,t.return,a),Za(t);break;case 27:Qi(t.stateNode);case 26:case 5:Bt(t,t.return),Za(t);break;case 22:t.memoizedState===null&&Za(t);break;case 30:Za(t);break;default:Za(t)}e=e.sibling}}function va(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,o=t,m=o.flags;switch(o.tag){case 0:case 11:case 15:va(s,o,a),Ci(4,o);break;case 1:if(va(s,o,a),n=o,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(A){Ee(n,n.return,A)}if(n=o,s=n.updateQueue,s!==null){var y=n.stateNode;try{var w=s.shared.hiddenCallbacks;if(w!==null)for(s.shared.hiddenCallbacks=null,s=0;s<w.length;s++)Lc(w[s],y)}catch(A){Ee(n,n.return,A)}}a&&m&64&&Wd(o),Mi(o,o.return);break;case 27:nf(o);case 26:case 5:va(s,o,a),a&&n===null&&m&4&&tf(o),Mi(o,o.return);break;case 12:va(s,o,a);break;case 13:va(s,o,a),a&&m&4&&uf(s,o);break;case 22:o.memoizedState===null&&va(s,o,a),Mi(o,o.return);break;case 30:break;default:va(s,o,a)}t=t.sibling}}function ho(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xi(a))}function mo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xi(e))}function Lt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ff(e,t,a,n),t=t.sibling}function ff(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Lt(e,t,a,n),s&2048&&Ci(9,t);break;case 1:Lt(e,t,a,n);break;case 3:Lt(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xi(e)));break;case 12:if(s&2048){Lt(e,t,a,n),e=t.stateNode;try{var o=t.memoizedProps,m=o.id,y=o.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ee(t,t.return,w)}}else Lt(e,t,a,n);break;case 13:Lt(e,t,a,n);break;case 23:break;case 22:o=t.stateNode,m=t.alternate,t.memoizedState!==null?o._visibility&2?Lt(e,t,a,n):zi(e,t):o._visibility&2?Lt(e,t,a,n):(o._visibility|=2,kn(e,t,a,n,(t.subtreeFlags&10256)!==0)),s&2048&&ho(m,t);break;case 24:Lt(e,t,a,n),s&2048&&mo(t.alternate,t);break;default:Lt(e,t,a,n)}}function kn(e,t,a,n,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,m=t,y=a,w=n,A=m.flags;switch(m.tag){case 0:case 11:case 15:kn(o,m,y,w,s),Ci(8,m);break;case 23:break;case 22:var C=m.stateNode;m.memoizedState!==null?C._visibility&2?kn(o,m,y,w,s):zi(o,m):(C._visibility|=2,kn(o,m,y,w,s)),s&&A&2048&&ho(m.alternate,m);break;case 24:kn(o,m,y,w,s),s&&A&2048&&mo(m.alternate,m);break;default:kn(o,m,y,w,s)}t=t.sibling}}function zi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:zi(a,n),s&2048&&ho(n.alternate,n);break;case 24:zi(a,n),s&2048&&mo(n.alternate,n);break;default:zi(a,n)}t=t.sibling}}var qi=8192;function Dn(e){if(e.subtreeFlags&qi)for(e=e.child;e!==null;)hf(e),e=e.sibling}function hf(e){switch(e.tag){case 26:Dn(e),e.flags&qi&&e.memoizedState!==null&&q0(Dt,e.memoizedState,e.memoizedProps);break;case 5:Dn(e);break;case 3:case 4:var t=Dt;Dt=ml(e.stateNode.containerInfo),Dn(e),Dt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=qi,qi=16777216,Dn(e),qi=t):Dn(e));break;default:Dn(e)}}function mf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];$e=n,vf(n,e)}mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gf(e),e=e.sibling}function gf(e){switch(e.tag){case 0:case 11:case 15:Bi(e),e.flags&2048&&ma(9,e,e.return);break;case 3:Bi(e);break;case 12:Bi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,al(e)):Bi(e);break;default:Bi(e)}}function al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];$e=n,vf(n,e)}mf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ma(8,t,t.return),al(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,al(t));break;default:al(t)}e=e.sibling}}function vf(e,t){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:ma(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:xi(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,$e=n;else e:for(a=e;$e!==null;){n=$e;var s=n.sibling,o=n.return;if(rf(n),n===a){$e=null;break e}if(s!==null){s.return=o,$e=s;break e}$e=o}}}var Wg={getCacheForType:function(e){var t=We(Be),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},e0=typeof WeakMap=="function"?WeakMap:Map,we=0,Te=null,ue=null,ve=0,_e=0,yt=null,ya=!1,Rn=!1,go=!1,ea=0,Ue=0,ba=0,Ja=0,vo=0,At=0,Un=0,Li=null,ut=null,yo=!1,bo=0,nl=1/0,il=null,pa=null,Pe=0,xa=null,Cn=null,Mn=0,po=0,xo=null,yf=null,Hi=0,wo=null;function bt(){if((we&2)!==0&&ve!==0)return ve&-ve;if(U.T!==null){var e=_n;return e!==0?e:Ao()}return Ru()}function bf(){At===0&&(At=(ve&536870912)===0||be?Au():536870912);var e=Tt.current;return e!==null&&(e.flags|=32),At}function pt(e,t,a){(e===Te&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(zn(e,0),wa(e,ve,At,!1)),ii(e,a),((we&2)===0||e!==Te)&&(e===Te&&((we&2)===0&&(Ja|=a),Ue===4&&wa(e,ve,At,!1)),Ht(e))}function pf(e,t,a){if((we&6)!==0)throw Error(r(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||ni(e,t),s=n?n0(e,t):jo(e,t,!0),o=n;do{if(s===0){Rn&&!n&&wa(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!t0(a)){s=jo(e,t,!1),o=!1;continue}if(s===2){if(o=t,e.errorRecoveryDisabledLanes&o)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;s=Li;var w=y.current.memoizedState.isDehydrated;if(w&&(zn(y,m).flags|=256),m=jo(y,m,!1),m!==2){if(go&&!w){y.errorRecoveryDisabledLanes|=o,Ja|=o,s=4;break e}o=ut,ut=s,o!==null&&(ut===null?ut=o:ut.push.apply(ut,o))}s=m}if(o=!1,s!==2)continue}}if(s===1){zn(e,0),wa(e,t,0,!0);break}e:{switch(n=e,o=s,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:wa(n,t,At,!ya);break e;case 2:ut=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(s=bo+300-Mt(),10<s)){if(wa(n,t,At,!ya),gs(n,0,!0)!==0)break e;n.timeoutHandle=Zf(xf.bind(null,n,a,ut,il,yo,t,At,Ja,Un,ya,o,2,-0,0),s);break e}xf(n,a,ut,il,yo,t,At,Ja,Un,ya,o,0,-0,0)}}break}while(!0);Ht(e)}function xf(e,t,a,n,s,o,m,y,w,A,C,q,O,k){if(e.timeoutHandle=-1,q=t.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(Ki={stylesheets:null,count:0,unsuspend:z0},hf(t),q=B0(),q!==null)){e.cancelPendingCommit=q(Tf.bind(null,e,t,o,a,n,s,m,y,w,C,1,O,k)),wa(e,o,m,!A);return}Tf(e,t,o,a,n,s,m,y,w)}function t0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],o=s.getSnapshot;s=s.value;try{if(!ht(o(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wa(e,t,a,n){t&=~vo,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var o=31-ft(s),m=1<<o;n[o]=-1,s&=~m}a!==0&&ku(e,a,t)}function sl(){return(we&6)===0?(Gi(0),!1):!0}function _o(){if(ue!==null){if(_e===0)var e=ue.return;else e=ue,Xt=$a=null,Br(e),An=null,Di=0,e=ue;for(;e!==null;)Fd(e.alternate,e),e=e.return;ue=null}}function zn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,p0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_o(),Te=e,ue=a=$t(e.current,null),ve=t,_e=0,yt=null,ya=!1,Rn=ni(e,t),go=!1,Un=At=vo=Ja=ba=Ue=0,ut=Li=null,yo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-ft(n),o=1<<s;t|=e[s],n&=~o}return ea=t,Ts(),a}function wf(e,t){re=null,U.H=Xs,t===_i||t===zs?(t=qc(),_e=3):t===Cc?(t=qc(),_e=4):_e=t===Bd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,yt=t,ue===null&&(Ue=1,Is(e,St(t,e.current)))}function _f(){var e=U.H;return U.H=Xs,e===null?Xs:e}function Sf(){var e=U.A;return U.A=Wg,e}function So(){Ue=4,ya||(ve&4194048)!==ve&&Tt.current!==null||(Rn=!0),(ba&134217727)===0&&(Ja&134217727)===0||Te===null||wa(Te,ve,At,!1)}function jo(e,t,a){var n=we;we|=2;var s=_f(),o=Sf();(Te!==e||ve!==t)&&(il=null,zn(e,t)),t=!1;var m=Ue;e:do try{if(_e!==0&&ue!==null){var y=ue,w=yt;switch(_e){case 8:_o(),m=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var A=_e;if(_e=0,yt=null,qn(e,y,w,A),a&&Rn){m=0;break e}break;default:A=_e,_e=0,yt=null,qn(e,y,w,A)}}a0(),m=Ue;break}catch(C){wf(e,C)}while(!0);return t&&e.shellSuspendCounter++,Xt=$a=null,we=n,U.H=s,U.A=o,ue===null&&(Te=null,ve=0,Ts()),m}function a0(){for(;ue!==null;)jf(ue)}function n0(e,t){var a=we;we|=2;var n=_f(),s=Sf();Te!==e||ve!==t?(il=null,nl=Mt()+500,zn(e,t)):Rn=ni(e,t);e:do try{if(_e!==0&&ue!==null){t=ue;var o=yt;t:switch(_e){case 1:_e=0,yt=null,qn(e,t,o,1);break;case 2:case 9:if(Mc(o)){_e=0,yt=null,Nf(t);break}t=function(){_e!==2&&_e!==9||Te!==e||(_e=7),Ht(e)},o.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:Mc(o)?(_e=0,yt=null,Nf(t)):(_e=0,yt=null,qn(e,t,o,7));break;case 5:var m=null;switch(ue.tag){case 26:m=ue.memoizedState;case 5:case 27:var y=ue;if(!m||lh(m)){_e=0,yt=null;var w=y.sibling;if(w!==null)ue=w;else{var A=y.return;A!==null?(ue=A,ll(A)):ue=null}break t}}_e=0,yt=null,qn(e,t,o,5);break;case 6:_e=0,yt=null,qn(e,t,o,6);break;case 8:_o(),Ue=6;break e;default:throw Error(r(462))}}i0();break}catch(C){wf(e,C)}while(!0);return Xt=$a=null,U.H=n,U.A=s,we=a,ue!==null?0:(Te=null,ve=0,Ts(),Ue)}function i0(){for(;ue!==null&&!Em();)jf(ue)}function jf(e){var t=Pd(e.alternate,e,ea);e.memoizedProps=e.pendingProps,t===null?ll(e):ue=t}function Nf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Qd(a,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=Qd(a,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:Br(t);default:Fd(a,t),t=ue=Nc(t,ea),t=Pd(a,t,ea)}e.memoizedProps=e.pendingProps,t===null?ll(e):ue=t}function qn(e,t,a,n){Xt=$a=null,Br(t),An=null,Di=0;var s=t.return;try{if(Kg(e,s,t,a,ve)){Ue=1,Is(e,St(a,e.current)),ue=null;return}}catch(o){if(s!==null)throw ue=s,o;Ue=1,Is(e,St(a,e.current)),ue=null;return}t.flags&32768?(be||n===1?e=!0:Rn||(ve&536870912)!==0?e=!1:(ya=e=!0,(n===2||n===9||n===3||n===6)&&(n=Tt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Ef(t,e)):ll(t)}function ll(e){var t=e;do{if((t.flags&32768)!==0){Ef(t,ya);return}e=t.return;var a=Jg(t.alternate,t,ea);if(a!==null){ue=a;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);Ue===0&&(Ue=5)}function Ef(e,t){do{var a=Pg(e.alternate,e);if(a!==null){a.flags&=32767,ue=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=a}while(e!==null);Ue=6,ue=null}function Tf(e,t,a,n,s,o,m,y,w){e.cancelPendingCommit=null;do rl();while(Pe!==0);if((we&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=hr,zm(e,a,o,m,y,w),e===Te&&(ue=Te=null,ve=0),Cn=t,xa=e,Mn=a,po=o,xo=s,yf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,o0(fs,function(){return Rf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=U.T,U.T=null,s=$.p,$.p=2,m=we,we|=4;try{Ig(e,t,a)}finally{we=m,$.p=s,U.T=n}}Pe=1,Af(),Of(),kf()}}function Af(){if(Pe===1){Pe=0;var e=xa,t=Cn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var n=$.p;$.p=2;var s=we;we|=4;try{cf(t,e);var o=zo,m=gc(e.containerInfo),y=o.focusedElem,w=o.selectionRange;if(m!==y&&y&&y.ownerDocument&&mc(y.ownerDocument.documentElement,y)){if(w!==null&&or(y)){var A=w.start,C=w.end;if(C===void 0&&(C=A),"selectionStart"in y)y.selectionStart=A,y.selectionEnd=Math.min(C,y.value.length);else{var q=y.ownerDocument||document,O=q&&q.defaultView||window;if(O.getSelection){var k=O.getSelection(),te=y.textContent.length,W=Math.min(w.start,te),Ne=w.end===void 0?W:Math.min(w.end,te);!k.extend&&W>Ne&&(m=Ne,Ne=W,W=m);var N=hc(y,W),S=hc(y,Ne);if(N&&S&&(k.rangeCount!==1||k.anchorNode!==N.node||k.anchorOffset!==N.offset||k.focusNode!==S.node||k.focusOffset!==S.offset)){var T=q.createRange();T.setStart(N.node,N.offset),k.removeAllRanges(),W>Ne?(k.addRange(T),k.extend(S.node,S.offset)):(T.setEnd(S.node,S.offset),k.addRange(T))}}}}for(q=[],k=y;k=k.parentNode;)k.nodeType===1&&q.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<q.length;y++){var z=q[y];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}pl=!!Mo,zo=Mo=null}finally{we=s,$.p=n,U.T=a}}e.current=t,Pe=2}}function Of(){if(Pe===2){Pe=0;var e=xa,t=Cn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var n=$.p;$.p=2;var s=we;we|=4;try{lf(e,t.alternate,t)}finally{we=s,$.p=n,U.T=a}}Pe=3}}function kf(){if(Pe===4||Pe===3){Pe=0,Tm();var e=xa,t=Cn,a=Mn,n=yf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pe=5:(Pe=0,Cn=xa=null,Df(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(pa=null),Gl(a),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(ai,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=U.T,s=$.p,$.p=2,U.T=null;try{for(var o=e.onRecoverableError,m=0;m<n.length;m++){var y=n[m];o(y.value,{componentStack:y.stack})}}finally{U.T=t,$.p=s}}(Mn&3)!==0&&rl(),Ht(e),s=e.pendingLanes,(a&4194090)!==0&&(s&42)!==0?e===wo?Hi++:(Hi=0,wo=e):Hi=0,Gi(0)}}function Df(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,xi(t)))}function rl(e){return Af(),Of(),kf(),Rf()}function Rf(){if(Pe!==5)return!1;var e=xa,t=po;po=0;var a=Gl(Mn),n=U.T,s=$.p;try{$.p=32>a?32:a,U.T=null,a=xo,xo=null;var o=xa,m=Mn;if(Pe=0,Cn=xa=null,Mn=0,(we&6)!==0)throw Error(r(331));var y=we;if(we|=4,gf(o.current),ff(o,o.current,m,a),we=y,Gi(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(ai,o)}catch{}return!0}finally{$.p=s,U.T=n,Df(e,t)}}function Uf(e,t,a){t=St(a,t),t=Fr(e.stateNode,t,2),e=ca(e,t,2),e!==null&&(ii(e,2),Ht(e))}function Ee(e,t,a){if(e.tag===3)Uf(e,e,a);else for(;t!==null;){if(t.tag===3){Uf(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pa===null||!pa.has(n))){e=St(a,e),a=zd(2),n=ca(t,a,2),n!==null&&(qd(a,n,t,e),ii(n,2),Ht(n));break}}t=t.return}}function No(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new e0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(go=!0,s.add(a),e=s0.bind(null,e,t,a),t.then(e,e))}function s0(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Te===e&&(ve&a)===a&&(Ue===4||Ue===3&&(ve&62914560)===ve&&300>Mt()-bo?(we&2)===0&&zn(e,0):vo|=a,Un===ve&&(Un=0)),Ht(e)}function Cf(e,t){t===0&&(t=Ou()),e=bn(e,t),e!==null&&(ii(e,t),Ht(e))}function l0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Cf(e,a)}function r0(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),Cf(e,a)}function o0(e,t){return ql(e,t)}var ol=null,Bn=null,Eo=!1,ul=!1,To=!1,Pa=0;function Ht(e){e!==Bn&&e.next===null&&(Bn===null?ol=Bn=e:Bn=Bn.next=e),ul=!0,Eo||(Eo=!0,c0())}function Gi(e,t){if(!To&&ul){To=!0;do for(var a=!1,n=ol;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var o=0;else{var m=n.suspendedLanes,y=n.pingedLanes;o=(1<<31-ft(42|e)+1)-1,o&=s&~(m&~y),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,Bf(n,o))}else o=ve,o=gs(n,n===Te?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(o&3)===0||ni(n,o)||(a=!0,Bf(n,o));n=n.next}while(a);To=!1}}function u0(){Mf()}function Mf(){ul=Eo=!1;var e=0;Pa!==0&&(b0()&&(e=Pa),Pa=0);for(var t=Mt(),a=null,n=ol;n!==null;){var s=n.next,o=zf(n,t);o===0?(n.next=null,a===null?ol=s:a.next=s,s===null&&(Bn=a)):(a=n,(e!==0||(o&3)!==0)&&(ul=!0)),n=s}Gi(e)}function zf(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var m=31-ft(o),y=1<<m,w=s[m];w===-1?((y&a)===0||(y&n)!==0)&&(s[m]=Mm(y,t)):w<=t&&(e.expiredLanes|=y),o&=~y}if(t=Te,a=ve,a=gs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Bl(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ni(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Bl(n),Gl(a)){case 2:case 8:a=Eu;break;case 32:a=fs;break;case 268435456:a=Tu;break;default:a=fs}return n=qf.bind(null,e),a=ql(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Bl(n),e.callbackPriority=2,e.callbackNode=null,2}function qf(e,t){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(rl()&&e.callbackNode!==a)return null;var n=ve;return n=gs(e,e===Te?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(pf(e,n,t),zf(e,Mt()),e.callbackNode!=null&&e.callbackNode===a?qf.bind(null,e):null)}function Bf(e,t){if(rl())return null;pf(e,t,!0)}function c0(){x0(function(){(we&6)!==0?ql(Nu,u0):Mf()})}function Ao(){return Pa===0&&(Pa=Au()),Pa}function Lf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xs(""+e)}function Hf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function d0(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var o=Lf((s[st]||null).action),m=n.submitter;m&&(t=(t=m[st]||null)?Lf(t.formAction):m.getAttribute("formAction"),t!==null&&(o=t,m=null));var y=new js("action","action",null,n,s);e.push({event:y,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Pa!==0){var w=m?Hf(s,m):new FormData(s);Kr(a,{pending:!0,data:w,method:s.method,action:o},null,w)}}else typeof o=="function"&&(y.preventDefault(),w=m?Hf(s,m):new FormData(s),Kr(a,{pending:!0,data:w,method:s.method,action:o},o,w))},currentTarget:s}]})}}for(var Oo=0;Oo<fr.length;Oo++){var ko=fr[Oo],f0=ko.toLowerCase(),h0=ko[0].toUpperCase()+ko.slice(1);kt(f0,"on"+h0)}kt(bc,"onAnimationEnd"),kt(pc,"onAnimationIteration"),kt(xc,"onAnimationStart"),kt("dblclick","onDoubleClick"),kt("focusin","onFocus"),kt("focusout","onBlur"),kt(kg,"onTransitionRun"),kt(Dg,"onTransitionStart"),kt(Rg,"onTransitionCancel"),kt(wc,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function Gf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var m=n.length-1;0<=m;m--){var y=n[m],w=y.instance,A=y.currentTarget;if(y=y.listener,w!==o&&s.isPropagationStopped())break e;o=y,s.currentTarget=A;try{o(s)}catch(C){Ps(C)}s.currentTarget=null,o=w}else for(m=0;m<n.length;m++){if(y=n[m],w=y.instance,A=y.currentTarget,y=y.listener,w!==o&&s.isPropagationStopped())break e;o=y,s.currentTarget=A;try{o(s)}catch(C){Ps(C)}s.currentTarget=null,o=w}}}}function ce(e,t){var a=t[Yl];a===void 0&&(a=t[Yl]=new Set);var n=e+"__bubble";a.has(n)||(Yf(t,e,2,!1),a.add(n))}function Do(e,t,a){var n=0;t&&(n|=4),Yf(a,e,n,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function Ro(e){if(!e[cl]){e[cl]=!0,Cu.forEach(function(a){a!=="selectionchange"&&(m0.has(a)||Do(a,!1,e),Do(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,Do("selectionchange",!1,t))}}function Yf(e,t,a,n){switch(fh(t)){case 2:var s=G0;break;case 8:s=Y0;break;default:s=Xo}a=s.bind(null,t,a,e),s=void 0,!Wl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function Uo(e,t,a,n,s){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var y=n.stateNode.containerInfo;if(y===s)break;if(m===4)for(m=n.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===s)return;m=m.return}for(;y!==null;){if(m=sn(y),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){n=o=m;continue e}y=y.parentNode}}n=n.return}Zu(function(){var A=o,C=Il(a),q=[];e:{var O=_c.get(e);if(O!==void 0){var k=js,te=e;switch(e){case"keypress":if(_s(a)===0)break e;case"keydown":case"keyup":k=og;break;case"focusin":te="focus",k=nr;break;case"focusout":te="blur",k=nr;break;case"beforeblur":case"afterblur":k=nr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=dg;break;case bc:case pc:case xc:k=Wm;break;case wc:k=hg;break;case"scroll":case"scrollend":k=Zm;break;case"wheel":k=gg;break;case"copy":case"cut":case"paste":k=tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Wu;break;case"toggle":case"beforetoggle":k=yg}var W=(t&4)!==0,Ne=!W&&(e==="scroll"||e==="scrollend"),N=W?O!==null?O+"Capture":null:O;W=[];for(var S=A,T;S!==null;){var z=S;if(T=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||T===null||N===null||(z=ri(S,N),z!=null&&W.push($i(S,z,T))),Ne)break;S=S.return}0<W.length&&(O=new k(O,te,null,a,C),q.push({event:O,listeners:W}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",O&&a!==Pl&&(te=a.relatedTarget||a.fromElement)&&(sn(te)||te[nn]))break e;if((k||O)&&(O=C.window===C?C:(O=C.ownerDocument)?O.defaultView||O.parentWindow:window,k?(te=a.relatedTarget||a.toElement,k=A,te=te?sn(te):null,te!==null&&(Ne=d(te),W=te.tag,te!==Ne||W!==5&&W!==27&&W!==6)&&(te=null)):(k=null,te=A),k!==te)){if(W=Iu,z="onMouseLeave",N="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(W=Wu,z="onPointerLeave",N="onPointerEnter",S="pointer"),Ne=k==null?O:li(k),T=te==null?O:li(te),O=new W(z,S+"leave",k,a,C),O.target=Ne,O.relatedTarget=T,z=null,sn(C)===A&&(W=new W(N,S+"enter",te,a,C),W.target=T,W.relatedTarget=Ne,z=W),Ne=z,k&&te)t:{for(W=k,N=te,S=0,T=W;T;T=Ln(T))S++;for(T=0,z=N;z;z=Ln(z))T++;for(;0<S-T;)W=Ln(W),S--;for(;0<T-S;)N=Ln(N),T--;for(;S--;){if(W===N||N!==null&&W===N.alternate)break t;W=Ln(W),N=Ln(N)}W=null}else W=null;k!==null&&$f(q,O,k,W,!1),te!==null&&Ne!==null&&$f(q,Ne,te,W,!0)}}e:{if(O=A?li(A):window,k=O.nodeName&&O.nodeName.toLowerCase(),k==="select"||k==="input"&&O.type==="file")var X=rc;else if(sc(O))if(oc)X=Tg;else{X=Ng;var oe=jg}else k=O.nodeName,!k||k.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?A&&Jl(A.elementType)&&(X=rc):X=Eg;if(X&&(X=X(e,A))){lc(q,X,a,C);break e}oe&&oe(e,O,A),e==="focusout"&&A&&O.type==="number"&&A.memoizedProps.value!=null&&Zl(O,"number",O.value)}switch(oe=A?li(A):window,e){case"focusin":(sc(oe)||oe.contentEditable==="true")&&(gn=oe,ur=A,gi=null);break;case"focusout":gi=ur=gn=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,vc(q,a,C);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":vc(q,a,C)}var J;if(sr)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else mn?nc(e,a)&&(ee="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ee="onCompositionStart");ee&&(ec&&a.locale!=="ko"&&(mn||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&mn&&(J=Ju()):(la=C,er="value"in la?la.value:la.textContent,mn=!0)),oe=dl(A,ee),0<oe.length&&(ee=new Fu(ee,e,null,a,C),q.push({event:ee,listeners:oe}),J?ee.data=J:(J=ic(a),J!==null&&(ee.data=J)))),(J=pg?xg(e,a):wg(e,a))&&(ee=dl(A,"onBeforeInput"),0<ee.length&&(oe=new Fu("onBeforeInput","beforeinput",null,a,C),q.push({event:oe,listeners:ee}),oe.data=J)),d0(q,e,A,a,C)}Gf(q,t)})}function $i(e,t,a){return{instance:e,listener:t,currentTarget:a}}function dl(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||o===null||(s=ri(e,a),s!=null&&n.unshift($i(e,s,o)),s=ri(e,t),s!=null&&n.push($i(e,s,o))),e.tag===3)return n;e=e.return}return[]}function Ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $f(e,t,a,n,s){for(var o=t._reactName,m=[];a!==null&&a!==n;){var y=a,w=y.alternate,A=y.stateNode;if(y=y.tag,w!==null&&w===n)break;y!==5&&y!==26&&y!==27||A===null||(w=A,s?(A=ri(a,o),A!=null&&m.unshift($i(a,A,w))):s||(A=ri(a,o),A!=null&&m.push($i(a,A,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var g0=/\r\n?/g,v0=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(g0,`
`).replace(v0,"")}function Vf(e,t){return t=Qf(t),Qf(e)===t}function fl(){}function je(e,t,a,n,s,o){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||dn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&dn(e,""+n);break;case"className":ys(e,"class",n);break;case"tabIndex":ys(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(e,a,n);break;case"style":Xu(e,n,o);break;case"data":if(t!=="object"){ys(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=xs(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&je(e,t,"name",s.name,s,null),je(e,t,"formEncType",s.formEncType,s,null),je(e,t,"formMethod",s.formMethod,s,null),je(e,t,"formTarget",s.formTarget,s,null)):(je(e,t,"encType",s.encType,s,null),je(e,t,"method",s.method,s,null),je(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=xs(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=fl);break;case"onScroll":n!=null&&ce("scroll",e);break;case"onScrollEnd":n!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=xs(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":ce("beforetoggle",e),ce("toggle",e),vs(e,"popover",n);break;case"xlinkActuate":Gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Gt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Gt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Gt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Gt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":vs(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xm.get(a)||a,vs(e,a,n))}}function Co(e,t,a,n,s,o){switch(a){case"style":Xu(e,n,o);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof n=="string"?dn(e,n):(typeof n=="number"||typeof n=="bigint")&&dn(e,""+n);break;case"onScroll":n!=null&&ce("scroll",e);break;case"onScrollEnd":n!=null&&ce("scrollend",e);break;case"onClick":n!=null&&(e.onclick=fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),o=e[st]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,s),typeof n=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):vs(e,a,n)}}}function Ie(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var n=!1,s=!1,o;for(o in a)if(a.hasOwnProperty(o)){var m=a[o];if(m!=null)switch(o){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:je(e,t,o,m,a,null)}}s&&je(e,t,"srcSet",a.srcSet,a,null),n&&je(e,t,"src",a.src,a,null);return;case"input":ce("invalid",e);var y=o=m=s=null,w=null,A=null;for(n in a)if(a.hasOwnProperty(n)){var C=a[n];if(C!=null)switch(n){case"name":s=C;break;case"type":m=C;break;case"checked":w=C;break;case"defaultChecked":A=C;break;case"value":o=C;break;case"defaultValue":y=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:je(e,t,n,C,a,null)}}Yu(e,o,y,w,A,m,s,!1),bs(e);return;case"select":ce("invalid",e),n=m=o=null;for(s in a)if(a.hasOwnProperty(s)&&(y=a[s],y!=null))switch(s){case"value":o=y;break;case"defaultValue":m=y;break;case"multiple":n=y;default:je(e,t,s,y,a,null)}t=o,a=m,e.multiple=!!n,t!=null?cn(e,!!n,t,!1):a!=null&&cn(e,!!n,a,!0);return;case"textarea":ce("invalid",e),o=s=n=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":n=y;break;case"defaultValue":s=y;break;case"children":o=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:je(e,t,m,y,a,null)}Qu(e,n,s,o),bs(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(n=a[w],n!=null))switch(w){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:je(e,t,w,n,a,null)}return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(n=0;n<Yi.length;n++)ce(Yi[n],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(n=a[A],n!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:je(e,t,A,n,a,null)}return;default:if(Jl(t)){for(C in a)a.hasOwnProperty(C)&&(n=a[C],n!==void 0&&Co(e,t,C,n,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(n=a[y],n!=null&&je(e,t,y,n,a,null))}function y0(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,m=null,y=null,w=null,A=null,C=null;for(k in a){var q=a[k];if(a.hasOwnProperty(k)&&q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=q;default:n.hasOwnProperty(k)||je(e,t,k,null,n,q)}}for(var O in n){var k=n[O];if(q=a[O],n.hasOwnProperty(O)&&(k!=null||q!=null))switch(O){case"type":o=k;break;case"name":s=k;break;case"checked":A=k;break;case"defaultChecked":C=k;break;case"value":m=k;break;case"defaultValue":y=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,t));break;default:k!==q&&je(e,t,O,k,n,q)}}Kl(e,m,y,w,A,C,o,s);return;case"select":k=m=y=O=null;for(o in a)if(w=a[o],a.hasOwnProperty(o)&&w!=null)switch(o){case"value":break;case"multiple":k=w;default:n.hasOwnProperty(o)||je(e,t,o,null,n,w)}for(s in n)if(o=n[s],w=a[s],n.hasOwnProperty(s)&&(o!=null||w!=null))switch(s){case"value":O=o;break;case"defaultValue":y=o;break;case"multiple":m=o;default:o!==w&&je(e,t,s,o,n,w)}t=y,a=m,n=k,O!=null?cn(e,!!a,O,!1):!!n!=!!a&&(t!=null?cn(e,!!a,t,!0):cn(e,!!a,a?[]:"",!1));return;case"textarea":k=O=null;for(y in a)if(s=a[y],a.hasOwnProperty(y)&&s!=null&&!n.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:je(e,t,y,null,n,s)}for(m in n)if(s=n[m],o=a[m],n.hasOwnProperty(m)&&(s!=null||o!=null))switch(m){case"value":O=s;break;case"defaultValue":k=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(r(91));break;default:s!==o&&je(e,t,m,s,n,o)}$u(e,O,k);return;case"option":for(var te in a)if(O=a[te],a.hasOwnProperty(te)&&O!=null&&!n.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:je(e,t,te,null,n,O)}for(w in n)if(O=n[w],k=a[w],n.hasOwnProperty(w)&&O!==k&&(O!=null||k!=null))switch(w){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:je(e,t,w,O,n,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in a)O=a[W],a.hasOwnProperty(W)&&O!=null&&!n.hasOwnProperty(W)&&je(e,t,W,null,n,O);for(A in n)if(O=n[A],k=a[A],n.hasOwnProperty(A)&&O!==k&&(O!=null||k!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:je(e,t,A,O,n,k)}return;default:if(Jl(t)){for(var Ne in a)O=a[Ne],a.hasOwnProperty(Ne)&&O!==void 0&&!n.hasOwnProperty(Ne)&&Co(e,t,Ne,void 0,n,O);for(C in n)O=n[C],k=a[C],!n.hasOwnProperty(C)||O===k||O===void 0&&k===void 0||Co(e,t,C,O,n,k);return}}for(var N in a)O=a[N],a.hasOwnProperty(N)&&O!=null&&!n.hasOwnProperty(N)&&je(e,t,N,null,n,O);for(q in n)O=n[q],k=a[q],!n.hasOwnProperty(q)||O===k||O==null&&k==null||je(e,t,q,O,n,k)}var Mo=null,zo=null;function hl(e){return e.nodeType===9?e:e.ownerDocument}function Xf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bo=null;function b0(){var e=window.event;return e&&e.type==="popstate"?e===Bo?!1:(Bo=e,!0):(Bo=null,!1)}var Zf=typeof setTimeout=="function"?setTimeout:void 0,p0=typeof clearTimeout=="function"?clearTimeout:void 0,Jf=typeof Promise=="function"?Promise:void 0,x0=typeof queueMicrotask=="function"?queueMicrotask:typeof Jf<"u"?function(e){return Jf.resolve(null).then(e).catch(w0)}:Zf;function w0(e){setTimeout(function(){throw e})}function _a(e){return e==="head"}function Pf(e,t){var a=t,n=0,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(0<n&&8>n){a=n;var m=e.ownerDocument;if(a&1&&Qi(m.documentElement),a&2&&Qi(m.body),a&4)for(a=m.head,Qi(a),m=a.firstChild;m;){var y=m.nextSibling,w=m.nodeName;m[si]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=y}}if(s===0){e.removeChild(o),Fi(t);return}s--}else a==="$"||a==="$?"||a==="$!"?s++:n=a.charCodeAt(0)-48;else n=0;a=o}while(a);Fi(t)}function Lo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lo(a),$l(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function _0(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[si])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Rt(e.nextSibling),e===null)break}return null}function S0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Rt(e.nextSibling),e===null))return null;return e}function Ho(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function j0(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Go=null;function If(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Ff(e,t,a){switch(t=hl(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Qi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$l(e)}var Ot=new Map,Wf=new Set;function ml(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ta=$.d;$.d={f:N0,r:E0,D:T0,C:A0,L:O0,m:k0,X:R0,S:D0,M:U0};function N0(){var e=ta.f(),t=sl();return e||t}function E0(e){var t=ln(e);t!==null&&t.tag===5&&t.type==="form"?bd(t):ta.r(e)}var Hn=typeof document>"u"?null:document;function eh(e,t,a){var n=Hn;if(n&&typeof t=="string"&&t){var s=_t(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),Wf.has(s)||(Wf.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),Ie(t,"link",e),Ge(t),n.head.appendChild(t)))}}function T0(e){ta.D(e),eh("dns-prefetch",e,null)}function A0(e,t){ta.C(e,t),eh("preconnect",e,t)}function O0(e,t,a){ta.L(e,t,a);var n=Hn;if(n&&e&&t){var s='link[rel="preload"][as="'+_t(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+_t(a.imageSizes)+'"]')):s+='[href="'+_t(e)+'"]';var o=s;switch(t){case"style":o=Gn(e);break;case"script":o=Yn(e)}Ot.has(o)||(e=p({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ot.set(o,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(Vi(o))||t==="script"&&n.querySelector(Xi(o))||(t=n.createElement("link"),Ie(t,"link",e),Ge(t),n.head.appendChild(t)))}}function k0(e,t){ta.m(e,t);var a=Hn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+_t(n)+'"][href="'+_t(e)+'"]',o=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Yn(e)}if(!Ot.has(o)&&(e=p({rel:"modulepreload",href:e},t),Ot.set(o,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xi(o)))return}n=a.createElement("link"),Ie(n,"link",e),Ge(n),a.head.appendChild(n)}}}function D0(e,t,a){ta.S(e,t,a);var n=Hn;if(n&&e){var s=rn(n).hoistableStyles,o=Gn(e);t=t||"default";var m=s.get(o);if(!m){var y={loading:0,preload:null};if(m=n.querySelector(Vi(o)))y.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ot.get(o))&&Yo(e,a);var w=m=n.createElement("link");Ge(w),Ie(w,"link",e),w._p=new Promise(function(A,C){w.onload=A,w.onerror=C}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,gl(m,t,n)}m={type:"stylesheet",instance:m,count:1,state:y},s.set(o,m)}}}function R0(e,t){ta.X(e,t);var a=Hn;if(a&&e){var n=rn(a).hoistableScripts,s=Yn(e),o=n.get(s);o||(o=a.querySelector(Xi(s)),o||(e=p({src:e,async:!0},t),(t=Ot.get(s))&&$o(e,t),o=a.createElement("script"),Ge(o),Ie(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(s,o))}}function U0(e,t){ta.M(e,t);var a=Hn;if(a&&e){var n=rn(a).hoistableScripts,s=Yn(e),o=n.get(s);o||(o=a.querySelector(Xi(s)),o||(e=p({src:e,async:!0,type:"module"},t),(t=Ot.get(s))&&$o(e,t),o=a.createElement("script"),Ge(o),Ie(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(s,o))}}function th(e,t,a,n){var s=(s=ae.current)?ml(s):null;if(!s)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Gn(a.href),a=rn(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Gn(a.href);var o=rn(s).hoistableStyles,m=o.get(e);if(m||(s=s.ownerDocument||s,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,m),(o=s.querySelector(Vi(e)))&&!o._p&&(m.instance=o,m.state.loading=5),Ot.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ot.set(e,a),o||C0(s,e,a,m.state))),t&&n===null)throw Error(r(528,""));return m}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Yn(a),a=rn(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Gn(e){return'href="'+_t(e)+'"'}function Vi(e){return'link[rel="stylesheet"]['+e+"]"}function ah(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function C0(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ie(t,"link",a),Ge(t),e.head.appendChild(t))}function Yn(e){return'[src="'+_t(e)+'"]'}function Xi(e){return"script[async]"+e}function nh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+_t(a.href)+'"]');if(n)return t.instance=n,Ge(n),n;var s=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ge(n),Ie(n,"style",s),gl(n,a.precedence,e),t.instance=n;case"stylesheet":s=Gn(a.href);var o=e.querySelector(Vi(s));if(o)return t.state.loading|=4,t.instance=o,Ge(o),o;n=ah(a),(s=Ot.get(s))&&Yo(n,s),o=(e.ownerDocument||e).createElement("link"),Ge(o);var m=o;return m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),Ie(o,"link",n),t.state.loading|=4,gl(o,a.precedence,e),t.instance=o;case"script":return o=Yn(a.src),(s=e.querySelector(Xi(o)))?(t.instance=s,Ge(s),s):(n=a,(s=Ot.get(o))&&(n=p({},a),$o(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),Ge(s),Ie(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,gl(n,a.precedence,e));return t.instance}function gl(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,o=s,m=0;m<n.length;m++){var y=n[m];if(y.dataset.precedence===t)o=y;else if(o!==s)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Yo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $o(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var vl=null;function ih(e,t,a){if(vl===null){var n=new Map,s=vl=new Map;s.set(a,n)}else s=vl,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var o=a[s];if(!(o[si]||o[Fe]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var m=o.getAttribute(t)||"";m=e+m;var y=n.get(m);y?y.push(o):n.set(m,[o])}}return n}function sh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function M0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ki=null;function z0(){}function q0(e,t,a){if(Ki===null)throw Error(r(475));var n=Ki;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var s=Gn(a.href),o=e.querySelector(Vi(s));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=yl.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=o,Ge(o);return}o=e.ownerDocument||e,a=ah(a),(s=Ot.get(s))&&Yo(a,s),o=o.createElement("link"),Ge(o);var m=o;m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),Ie(o,"link",a),t.instance=o}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=yl.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function B0(){if(Ki===null)throw Error(r(475));var e=Ki;return e.stylesheets&&e.count===0&&Qo(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Qo(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function yl(){if(this.count--,this.count===0){if(this.stylesheets)Qo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bl=null;function Qo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bl=new Map,t.forEach(L0,e),bl=null,yl.call(e))}function L0(e,t){if(!(t.state.loading&4)){var a=bl.get(e);if(a)var n=a.get(null);else{a=new Map,bl.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var m=s[o];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),n=m)}n&&a.set(null,n)}s=t.instance,m=s.getAttribute("data-precedence"),o=a.get(m)||n,o===n&&a.set(null,s),a.set(m,s),this.count++,n=yl.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),o?o.parentNode.insertBefore(s,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Zi={$$typeof:B,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function H0(e,t,a,n,s,o,m,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ll(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.hiddenUpdates=Ll(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function rh(e,t,a,n,s,o,m,y,w,A,C,q){return e=new H0(e,t,a,m,y,w,A,q),t=1,o===!0&&(t|=24),o=mt(3,null,null,t),e.current=o,o.stateNode=e,t=jr(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:n,isDehydrated:a,cache:t},Ar(o),e}function oh(e){return e?(e=pn,e):pn}function uh(e,t,a,n,s,o){s=oh(s),n.context===null?n.context=s:n.pendingContext=s,n=ua(t),n.payload={element:a},o=o===void 0?null:o,o!==null&&(n.callback=o),a=ca(e,n,t),a!==null&&(pt(a,e,t),ji(a,e,t))}function ch(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Vo(e,t){ch(e,t),(e=e.alternate)&&ch(e,t)}function dh(e){if(e.tag===13){var t=bn(e,67108864);t!==null&&pt(t,e,67108864),Vo(e,67108864)}}var pl=!0;function G0(e,t,a,n){var s=U.T;U.T=null;var o=$.p;try{$.p=2,Xo(e,t,a,n)}finally{$.p=o,U.T=s}}function Y0(e,t,a,n){var s=U.T;U.T=null;var o=$.p;try{$.p=8,Xo(e,t,a,n)}finally{$.p=o,U.T=s}}function Xo(e,t,a,n){if(pl){var s=Ko(n);if(s===null)Uo(e,t,n,xl,a),hh(e,n);else if(Q0(s,e,t,a,n))n.stopPropagation();else if(hh(e,n),t&4&&-1<$0.indexOf(e)){for(;s!==null;){var o=ln(s);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var m=Ua(o.pendingLanes);if(m!==0){var y=o;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var w=1<<31-ft(m);y.entanglements[1]|=w,m&=~w}Ht(o),(we&6)===0&&(nl=Mt()+500,Gi(0))}}break;case 13:y=bn(o,2),y!==null&&pt(y,o,2),sl(),Vo(o,2)}if(o=Ko(n),o===null&&Uo(e,t,n,xl,a),o===s)break;s=o}s!==null&&n.stopPropagation()}else Uo(e,t,n,null,a)}}function Ko(e){return e=Il(e),Zo(e)}var xl=null;function Zo(e){if(xl=null,e=sn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xl=e,null}function fh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Am()){case Nu:return 2;case Eu:return 8;case fs:case Om:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var Jo=!1,Sa=null,ja=null,Na=null,Ji=new Map,Pi=new Map,Ea=[],$0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hh(e,t){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":Ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(t.pointerId)}}function Ii(e,t,a,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ln(t),t!==null&&dh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Q0(e,t,a,n,s){switch(t){case"focusin":return Sa=Ii(Sa,e,t,a,n,s),!0;case"dragenter":return ja=Ii(ja,e,t,a,n,s),!0;case"mouseover":return Na=Ii(Na,e,t,a,n,s),!0;case"pointerover":var o=s.pointerId;return Ji.set(o,Ii(Ji.get(o)||null,e,t,a,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Pi.set(o,Ii(Pi.get(o)||null,e,t,a,n,s)),!0}return!1}function mh(e){var t=sn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,qm(e.priority,function(){if(a.tag===13){var n=bt();n=Hl(n);var s=bn(a,n);s!==null&&pt(s,a,n),Vo(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ko(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Pl=n,a.target.dispatchEvent(n),Pl=null}else return t=ln(a),t!==null&&dh(t),e.blockedOn=a,!1;t.shift()}return!0}function gh(e,t,a){wl(e)&&a.delete(t)}function V0(){Jo=!1,Sa!==null&&wl(Sa)&&(Sa=null),ja!==null&&wl(ja)&&(ja=null),Na!==null&&wl(Na)&&(Na=null),Ji.forEach(gh),Pi.forEach(gh)}function _l(e,t){e.blockedOn===t&&(e.blockedOn=null,Jo||(Jo=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,V0)))}var Sl=null;function vh(e){Sl!==e&&(Sl=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Sl===e&&(Sl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(Zo(n||a)===null)continue;break}var o=ln(a);o!==null&&(e.splice(t,3),t-=3,Kr(o,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function Fi(e){function t(w){return _l(w,e)}Sa!==null&&_l(Sa,e),ja!==null&&_l(ja,e),Na!==null&&_l(Na,e),Ji.forEach(t),Pi.forEach(t);for(var a=0;a<Ea.length;a++){var n=Ea[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ea.length&&(a=Ea[0],a.blockedOn===null);)mh(a),a.blockedOn===null&&Ea.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],o=a[n+1],m=s[st]||null;if(typeof o=="function")m||vh(a);else if(m){var y=null;if(o&&o.hasAttribute("formAction")){if(s=o,m=o[st]||null)y=m.formAction;else if(Zo(s)!==null)continue}else y=m.action;typeof y=="function"?a[n+1]=y:(a.splice(n,3),n-=3),vh(a)}}}function Po(e){this._internalRoot=e}jl.prototype.render=Po.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,n=bt();uh(a,n,e,t,null,null)},jl.prototype.unmount=Po.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uh(e.current,2,null,e,null,null),sl(),t[nn]=null}};function jl(e){this._internalRoot=e}jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ru();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ea.length&&t!==0&&t<Ea[a].priority;a++);Ea.splice(a,0,e),a===0&&mh(e)}};var yh=i.version;if(yh!=="19.1.0")throw Error(r(527,yh,"19.1.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var X0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{ai=Nl.inject(X0),dt=Nl}catch{}}return es.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,n="",s=Rd,o=Ud,m=Cd,y=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(y=t.unstable_transitionCallbacks)),t=rh(e,1,!1,null,null,a,n,s,o,m,y,null),e[nn]=t.current,Ro(e),new Po(t)},es.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var n=!1,s="",o=Rd,m=Ud,y=Cd,w=null,A=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(A=a.formState)),t=rh(e,1,!0,t,a??null,n,s,o,m,y,w,A),t.context=oh(null),a=t.current,n=bt(),n=Hl(n),s=ua(n),s.callback=null,ca(a,s,n),a=n,t.current.lanes=a,ii(t,a),Ht(t),e[nn]=t.current,Ro(e),new jl(t)},es.version="19.1.0",es}var Th;function iv(){if(Th)return Wo.exports;Th=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),Wo.exports=nv(),Wo.exports}var sv=iv();const lv="modulepreload",rv=function(u,i){return new URL(u,i).href},Ah={},cs=function(i,l,r){let c=Promise.resolve();if(l&&l.length>0){let b=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};const h=document.getElementsByTagName("link"),v=document.querySelector("meta[property=csp-nonce]"),g=v?.nonce||v?.getAttribute("nonce");c=b(l.map(p=>{if(p=rv(p,r),p in Ah)return;Ah[p]=!0;const _=p.endsWith(".css"),j=_?'[rel="stylesheet"]':"";if(!!r)for(let L=h.length-1;L>=0;L--){const M=h[L];if(M.href===p&&(!_||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${j}`))return;const D=document.createElement("link");if(D.rel=_?"stylesheet":lv,_||(D.as="script"),D.crossOrigin="",D.href=p,g&&D.setAttribute("nonce",g),document.head.appendChild(D),_)return new Promise((L,M)=>{D.addEventListener("load",L),D.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(h){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=h,window.dispatchEvent(v),!v.defaultPrevented)throw h}return c.then(h=>{for(const v of h||[])v.status==="rejected"&&d(v.reason);return i().catch(d)})},ov=u=>{let i;return u?i=u:typeof fetch>"u"?i=(...l)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...l)):i=fetch,(...l)=>i(...l)};class pu extends Error{constructor(i,l="FunctionsError",r){super(i),this.name=l,this.context=r}}class uv extends pu{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class Oh extends pu{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class kh extends pu{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var uu;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(uu||(uu={}));var cv=function(u,i,l,r){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function v(p){try{b(r.next(p))}catch(_){h(_)}}function g(p){try{b(r.throw(p))}catch(_){h(_)}}function b(p){p.done?d(p.value):c(p.value).then(v,g)}b((r=r.apply(u,i||[])).next())})};class dv{constructor(i,{headers:l={},customFetch:r,region:c=uu.Any}={}){this.url=i,this.headers=l,this.region=c,this.fetch=ov(r)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,l={}){var r;return cv(this,void 0,void 0,function*(){try{const{headers:c,method:d,body:h}=l;let v={},{region:g}=l;g||(g=this.region);const b=new URL(`${this.url}/${i}`);g&&g!=="any"&&(v["x-region"]=g,b.searchParams.set("forceFunctionRegion",g));let p;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",p=h):typeof h=="string"?(v["Content-Type"]="text/plain",p=h):typeof FormData<"u"&&h instanceof FormData?p=h:(v["Content-Type"]="application/json",p=JSON.stringify(h)));const _=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:p}).catch(L=>{throw new uv(L)}),j=_.headers.get("x-relay-error");if(j&&j==="true")throw new Oh(_);if(!_.ok)throw new kh(_);let E=((r=_.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),D;return E==="application/json"?D=yield _.json():E==="application/octet-stream"?D=yield _.blob():E==="text/event-stream"?D=_:E==="multipart/form-data"?D=yield _.formData():D=yield _.text(),{data:D,error:null,response:_}}catch(c){return{data:null,error:c,response:c instanceof kh||c instanceof Oh?c.context:void 0}}})}}var Ve={},$n={},Qn={},Vn={},Xn={},Kn={},fv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wn=fv();const hv=Wn.fetch,im=Wn.fetch.bind(Wn),sm=Wn.Headers,mv=Wn.Request,gv=Wn.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:sm,Request:mv,Response:gv,default:im,fetch:hv},Symbol.toStringTag,{value:"Module"})),vv=J0(ti);var El={},Dh;function lm(){if(Dh)return El;Dh=1,Object.defineProperty(El,"__esModule",{value:!0});class u extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return El.default=u,El}var Rh;function rm(){if(Rh)return Kn;Rh=1;var u=Kn&&Kn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Kn,"__esModule",{value:!0});const i=u(vv),l=u(lm());class r{constructor(d){this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=d.headers,this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=d.shouldThrowOnError,this.signal=d.signal,this.isMaybeSingle=d.isMaybeSingle,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=Object.assign({},this.headers),this.headers[d]=h,this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const v=this.fetch;let g=v(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async b=>{var p,_,j;let E=null,D=null,L=null,M=b.status,V=b.statusText;if(b.ok){if(this.method!=="HEAD"){const Q=await b.text();Q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?D=Q:D=JSON.parse(Q))}const B=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),K=(_=b.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");B&&K&&K.length>1&&(L=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(D)&&(D.length>1?(E={code:"PGRST116",details:`Results contain ${D.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},D=null,L=null,M=406,V="Not Acceptable"):D.length===1?D=D[0]:D=null)}else{const B=await b.text();try{E=JSON.parse(B),Array.isArray(E)&&b.status===404&&(D=[],E=null,M=200,V="OK")}catch{b.status===404&&B===""?(M=204,V="No Content"):E={message:B}}if(E&&this.isMaybeSingle&&(!((j=E?.details)===null||j===void 0)&&j.includes("0 rows"))&&(E=null,M=200,V="OK"),E&&this.shouldThrowOnError)throw new l.default(E)}return{error:E,data:D,count:L,status:M,statusText:V}});return this.shouldThrowOnError||(g=g.catch(b=>{var p,_,j;return{error:{message:`${(p=b?.name)!==null&&p!==void 0?p:"FetchError"}: ${b?.message}`,details:`${(_=b?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(j=b?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,h)}returns(){return this}overrideTypes(){return this}}return Kn.default=r,Kn}var Uh;function om(){if(Uh)return Xn;Uh=1;var u=Xn&&Xn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xn,"__esModule",{value:!0});const i=u(rm());class l extends i.default{select(c){let d=!1;const h=(c??"*").split("").map(v=>/\s/.test(v)&&!d?"":(v==='"'&&(d=!d),v)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(c,{ascending:d=!0,nullsFirst:h,foreignTable:v,referencedTable:g=v}={}){const b=g?`${g}.order`:"order",p=this.url.searchParams.get(b);return this.url.searchParams.set(b,`${p?`${p},`:""}${c}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:h=d}={}){const v=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(v,`${c}`),this}range(c,d,{foreignTable:h,referencedTable:v=h}={}){const g=typeof v>"u"?"offset":`${v}.offset`,b=typeof v>"u"?"limit":`${v}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(b,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:c=!1,verbose:d=!1,settings:h=!1,buffers:v=!1,wal:g=!1,format:b="text"}={}){var p;const _=[c?"analyze":null,d?"verbose":null,h?"settings":null,v?"buffers":null,g?"wal":null].filter(Boolean).join("|"),j=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${b}; for="${j}"; options=${_};`,b==="json"?this:this}rollback(){var c;return((c=this.headers.Prefer)!==null&&c!==void 0?c:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Xn.default=l,Xn}var Ch;function xu(){if(Ch)return Vn;Ch=1;var u=Vn&&Vn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vn,"__esModule",{value:!0});const i=u(om());class l extends i.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const h=Array.from(new Set(d)).map(v=>typeof v=="string"&&new RegExp("[,()]").test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:h,type:v}={}){let g="";v==="plain"?g="pl":v==="phrase"?g="ph":v==="websearch"&&(g="w");const b=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${g}fts${b}.${d}`),this}match(c){return Object.entries(c).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(c,d,h){return this.url.searchParams.append(c,`not.${d}.${h}`),this}or(c,{foreignTable:d,referencedTable:h=d}={}){const v=h?`${h}.or`:"or";return this.url.searchParams.append(v,`(${c})`),this}filter(c,d,h){return this.url.searchParams.append(c,`${d}.${h}`),this}}return Vn.default=l,Vn}var Mh;function um(){if(Mh)return Qn;Mh=1;var u=Qn&&Qn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qn,"__esModule",{value:!0});const i=u(xu());class l{constructor(c,{headers:d={},schema:h,fetch:v}){this.url=c,this.headers=d,this.schema=h,this.fetch=v}select(c,{head:d=!1,count:h}={}){const v=d?"HEAD":"GET";let g=!1;const b=(c??"*").split("").map(p=>/\s/.test(p)&&!g?"":(p==='"'&&(g=!g),p)).join("");return this.url.searchParams.set("select",b),h&&(this.headers.Prefer=`count=${h}`),new i.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(c,{count:d,defaultToNull:h=!0}={}){const v="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),h||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(c)){const b=c.reduce((p,_)=>p.concat(Object.keys(_)),[]);if(b.length>0){const p=[...new Set(b)].map(_=>`"${_}"`);this.url.searchParams.set("columns",p.join(","))}}return new i.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}upsert(c,{onConflict:d,ignoreDuplicates:h=!1,count:v,defaultToNull:g=!0}={}){const b="POST",p=[`resolution=${h?"ignore":"merge"}-duplicates`];if(d!==void 0&&this.url.searchParams.set("on_conflict",d),this.headers.Prefer&&p.push(this.headers.Prefer),v&&p.push(`count=${v}`),g||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(c)){const _=c.reduce((j,E)=>j.concat(Object.keys(E)),[]);if(_.length>0){const j=[...new Set(_)].map(E=>`"${E}"`);this.url.searchParams.set("columns",j.join(","))}}return new i.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(c,{count:d}={}){const h="PATCH",v=[];return this.headers.Prefer&&v.push(this.headers.Prefer),d&&v.push(`count=${d}`),this.headers.Prefer=v.join(","),new i.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}delete({count:c}={}){const d="DELETE",h=[];return c&&h.push(`count=${c}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new i.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Qn.default=l,Qn}var ts={},as={},zh;function yv(){return zh||(zh=1,Object.defineProperty(as,"__esModule",{value:!0}),as.version=void 0,as.version="0.0.0-automated"),as}var qh;function bv(){if(qh)return ts;qh=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.DEFAULT_HEADERS=void 0;const u=yv();return ts.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${u.version}`},ts}var Bh;function pv(){if(Bh)return $n;Bh=1;var u=$n&&$n.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty($n,"__esModule",{value:!0});const i=u(um()),l=u(xu()),r=bv();class c{constructor(h,{headers:v={},schema:g,fetch:b}={}){this.url=h,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),v),this.schemaName=g,this.fetch=b}from(h){const v=new URL(`${this.url}/${h}`);return new i.default(v,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new c(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,v={},{head:g=!1,get:b=!1,count:p}={}){let _;const j=new URL(`${this.url}/rpc/${h}`);let E;g||b?(_=g?"HEAD":"GET",Object.entries(v).filter(([L,M])=>M!==void 0).map(([L,M])=>[L,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([L,M])=>{j.searchParams.append(L,M)})):(_="POST",E=v);const D=Object.assign({},this.headers);return p&&(D.Prefer=`count=${p}`),new l.default({method:_,url:j,headers:D,schema:this.schemaName,body:E,fetch:this.fetch,allowEmpty:!1})}}return $n.default=c,$n}var Lh;function xv(){if(Lh)return Ve;Lh=1;var u=Ve&&Ve.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const i=u(pv());Ve.PostgrestClient=i.default;const l=u(um());Ve.PostgrestQueryBuilder=l.default;const r=u(xu());Ve.PostgrestFilterBuilder=r.default;const c=u(om());Ve.PostgrestTransformBuilder=c.default;const d=u(rm());Ve.PostgrestBuilder=d.default;const h=u(lm());return Ve.PostgrestError=h.default,Ve.default={PostgrestClient:i.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:h.default},Ve}var wv=xv();const _v=Z0(wv),{PostgrestClient:Sv,PostgrestQueryBuilder:Mb,PostgrestFilterBuilder:zb,PostgrestTransformBuilder:qb,PostgrestBuilder:Bb,PostgrestError:Lb}=_v;function jv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Nv=jv(),Ev="2.11.15",Tv=`realtime-js/${Ev}`,Av="1.0.0",cm=1e4,Ov=1e3;var ss;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(ss||(ss={}));var tt;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(tt||(tt={}));var Ct;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Ct||(Ct={}));var cu;(function(u){u.websocket="websocket"})(cu||(cu={}));var Wa;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Wa||(Wa={}));class kv{constructor(){this.HEADER_LENGTH=1}decode(i,l){return i.constructor===ArrayBuffer?l(this._binaryDecode(i)):l(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const l=new DataView(i),r=new TextDecoder;return this._decodeBroadcast(i,l,r)}_decodeBroadcast(i,l,r){const c=l.getUint8(1),d=l.getUint8(2);let h=this.HEADER_LENGTH+2;const v=r.decode(i.slice(h,h+c));h=h+c;const g=r.decode(i.slice(h,h+d));h=h+d;const b=JSON.parse(r.decode(i.slice(h,i.byteLength)));return{ref:null,topic:v,event:g,payload:b}}}class dm{constructor(i,l){this.callback=i,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(Ae||(Ae={}));const Hh=(u,i,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(i).reduce((d,h)=>(d[h]=Dv(h,u,i,c),d),{})},Dv=(u,i,l,r)=>{const c=i.find(v=>v.name===u),d=c?.type,h=l[u];return d&&!r.includes(d)?fm(d,h):du(h)},fm=(u,i)=>{if(u.charAt(0)==="_"){const l=u.slice(1,u.length);return Mv(i,l)}switch(u){case Ae.bool:return Rv(i);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return Uv(i);case Ae.json:case Ae.jsonb:return Cv(i);case Ae.timestamp:return zv(i);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return du(i);default:return du(i)}},du=u=>u,Rv=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},Uv=u=>{if(typeof u=="string"){const i=parseFloat(u);if(!Number.isNaN(i))return i}return u},Cv=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(i){return console.log(`JSON parse error: ${i}`),u}return u},Mv=(u,i)=>{if(typeof u!="string")return u;const l=u.length-1,r=u[l];if(u[0]==="{"&&r==="}"){let d;const h=u.slice(1,l);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(v=>fm(i,v))}return u},zv=u=>typeof u=="string"?u.replace(" ","T"):u,hm=u=>{let i=u;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")};class nu{constructor(i,l,r={},c=cm){this.channel=i,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,l){var r;return this._hasReceived(i)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:i,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:l}){this.recHooks.filter(r=>r.status===i).forEach(r=>r.callback(l))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var Gh;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(Gh||(Gh={}));class ls{constructor(i,l){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:d,onLeave:h,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ls.syncState(this.state,c,d,h),this.pendingDiffs.forEach(g=>{this.state=ls.syncDiff(this.state,g,d,h)}),this.pendingDiffs=[],v()}),this.channel._on(r.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ls.syncDiff(this.state,c,d,h),v())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,l,r,c){const d=this.cloneDeep(i),h=this.transformState(l),v={},g={};return this.map(d,(b,p)=>{h[b]||(g[b]=p)}),this.map(h,(b,p)=>{const _=d[b];if(_){const j=p.map(M=>M.presence_ref),E=_.map(M=>M.presence_ref),D=p.filter(M=>E.indexOf(M.presence_ref)<0),L=_.filter(M=>j.indexOf(M.presence_ref)<0);D.length>0&&(v[b]=D),L.length>0&&(g[b]=L)}else v[b]=p}),this.syncDiff(d,{joins:v,leaves:g},r,c)}static syncDiff(i,l,r,c){const{joins:d,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(d,(v,g)=>{var b;const p=(b=i[v])!==null&&b!==void 0?b:[];if(i[v]=this.cloneDeep(g),p.length>0){const _=i[v].map(E=>E.presence_ref),j=p.filter(E=>_.indexOf(E.presence_ref)<0);i[v].unshift(...j)}r(v,p,g)}),this.map(h,(v,g)=>{let b=i[v];if(!b)return;const p=g.map(_=>_.presence_ref);b=b.filter(_=>p.indexOf(_.presence_ref)<0),i[v]=b,c(v,b,g),b.length===0&&delete i[v]}),i}static map(i,l){return Object.getOwnPropertyNames(i).map(r=>l(r,i[r]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((l,r)=>{const c=i[r];return"metas"in c?l[r]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[r]=c,l},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yh;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(Yh||(Yh={}));var $h;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})($h||($h={}));var na;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(na||(na={}));class wu{constructor(i,l={config:{}},r){this.topic=i,this.params=l,this.socket=r,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new nu(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new dm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new ls(this),this.broadcastEndpointURL=hm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(i,l=this.timeout){var r,c;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:d,presence:h,private:v}}=this.params;this._onError(p=>i?.(na.CHANNEL_ERROR,p)),this._onClose(()=>i?.(na.CLOSED));const g={},b={broadcast:d,presence:h,postgres_changes:(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&c!==void 0?c:[],private:v};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:b},g)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:p})=>{var _;if(this.socket.setAuth(),p===void 0){i?.(na.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,E=(_=j?.length)!==null&&_!==void 0?_:0,D=[];for(let L=0;L<E;L++){const M=j[L],{filter:{event:V,schema:P,table:B,filter:K}}=M,Q=p&&p[L];if(Q&&Q.event===V&&Q.schema===P&&Q.table===B&&Q.filter===K)D.push(Object.assign(Object.assign({},M),{id:Q.id}));else{this.unsubscribe(),this.state=tt.errored,i?.(na.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,i&&i(na.SUBSCRIBED);return}}).receive("error",p=>{this.state=tt.errored,i?.(na.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{i?.(na.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,l={}){return await this.send({type:"presence",event:"track",payload:i},l.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,l,r){return this._on(i,l,r)}async send(i,l={}){var r,c;if(!this._canPush()&&i.type==="broadcast"){const{event:d,payload:h}=i,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=b.body)===null||c===void 0?void 0:c.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,v,g;const b=this._push(i.type,i,l.timeout||this.timeout);i.type==="broadcast"&&!(!((g=(v=(h=this.params)===null||h===void 0?void 0:h.config)===null||v===void 0?void 0:v.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),b.receive("ok",()=>d("ok")),b.receive("error",()=>d("error")),b.receive("timeout",()=>d("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=tt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new nu(this,Ct.leave,{},i),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(i,l,r){const c=new AbortController,d=setTimeout(()=>c.abort(),r),h=await this.socket.fetch(i,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(d),h}_push(i,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new nu(this,i,l,r);return this._canPush()?c.send():(c.startTimeout(),this.pushBuffer.push(c)),c}_onMessage(i,l,r){return l}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,l,r){var c,d;const h=i.toLocaleLowerCase(),{close:v,error:g,leave:b,join:p}=Ct;if(r&&[v,g,b,p].indexOf(h)>=0&&r!==this._joinRef())return;let j=this._onMessage(h,l,r);if(l&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(E=>{var D,L,M;return((D=E.filter)===null||D===void 0?void 0:D.event)==="*"||((M=(L=E.filter)===null||L===void 0?void 0:L.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===h}).map(E=>E.callback(j,r)):(d=this.bindings[h])===null||d===void 0||d.filter(E=>{var D,L,M,V,P,B;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const K=E.id,Q=(D=E.filter)===null||D===void 0?void 0:D.event;return K&&((L=l.ids)===null||L===void 0?void 0:L.includes(K))&&(Q==="*"||Q?.toLocaleLowerCase()===((M=l.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const K=(P=(V=E?.filter)===null||V===void 0?void 0:V.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return K==="*"||K===((B=l?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof j=="object"&&"ids"in j){const D=j.data,{schema:L,table:M,commit_timestamp:V,type:P,errors:B}=D;j=Object.assign(Object.assign({},{schema:L,table:M,commit_timestamp:V,eventType:P,new:{},old:{},errors:B}),this._getPayloadRecords(D))}E.callback(j,r)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,l,r){const c=i.toLocaleLowerCase(),d={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(i,l){const r=i.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&wu.isEqual(c.filter,l))}),this}static isEqual(i,l){if(Object.keys(i).length!==Object.keys(l).length)return!1;for(const r in i)if(i[r]!==l[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Ct.close,{},i)}_onError(i){this._on(Ct.error,{},l=>i(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const l={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(l.new=Hh(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(l.old=Hh(i.columns,i.old_record)),l}}const Qh=()=>{},qv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bv{constructor(i,l){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cm,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qh,this.ref=0,this.logger=Qh,this.conn=null,this.sendBuffer=[],this.serializer=new kv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=d=>{let h;return d?h=d:typeof fetch>"u"?h=(...v)=>cs(async()=>{const{default:g}=await Promise.resolve().then(()=>ti);return{default:g}},void 0,import.meta.url).then(({default:g})=>g(...v)):h=fetch,(...v)=>h(...v)},this.endPoint=`${i}/${cu.websocket}`,this.httpEndpoint=hm(i),l?.transport?this.transport=l.transport:this.transport=null,l?.params&&(this.params=l.params),l?.timeout&&(this.timeout=l.timeout),l?.logger&&(this.logger=l.logger),(l?.logLevel||l?.log_level)&&(this.logLevel=l.logLevel||l.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),l?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=l.heartbeatIntervalMs);const c=(r=l?.params)===null||r===void 0?void 0:r.apikey;if(c&&(this.accessTokenValue=c,this.apiKey=c),this.reconnectAfterMs=l?.reconnectAfterMs?l.reconnectAfterMs:d=>[1e3,2e3,5e3,1e4][d-1]||1e4,this.encode=l?.encode?l.encode:(d,h)=>h(JSON.stringify(d)),this.decode=l?.decode?l.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(l?.fetch),l?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=l?.worker||!1,this.workerUrl=l?.workerUrl}this.accessToken=l?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Nv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Av}))}disconnect(i,l){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,l??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(i){const l=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const i=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,l,r){this.logger(i,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return Wa.Connecting;case ss.open:return Wa.Open;case ss.closing:return Wa.Closing;default:return Wa.Closed}}isConnected(){return this.connectionState()===Wa.Open}channel(i,l={config:{}}){const r=`realtime:${i}`,c=this.getChannels().find(d=>d.topic===r);if(c)return c;{const d=new wu(`realtime:${i}`,l,this);return this.channels.push(d),d}}push(i){const{topic:l,event:r,payload:c,ref:d}=i,h=()=>{this.encode(i,v=>{var g;(g=this.conn)===null||g===void 0||g.send(v)})};this.log("push",`${l} ${r} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(i=null){let l=i||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(r=>{const c={access_token:l,version:Tv};l&&r.updateJoinPayload(c),r.joinedOnce&&r._isJoined()&&r._push(Ct.access_token,{access_token:l})}))}async sendHeartbeat(){var i;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(i=this.conn)===null||i===void 0||i.close(Ov,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let l=this.channels.find(r=>r.topic===i&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${i}"`),l.unsubscribe())}_remove(i){this.channels=this.channels.filter(l=>l.topic!==i.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_onConnMessage(i){this.decode(i.data,l=>{let{topic:r,event:c,payload:d,ref:h}=l;r==="phoenix"&&c==="phx_reply"&&this.heartbeatCallback(l.payload.status=="ok"?"ok":"error"),h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${d.status||""} ${r} ${c} ${h&&"("+h+")"||""}`,d),Array.from(this.channels).filter(v=>v._isMember(r)).forEach(v=>v._trigger(c,d,h)),this.stateChangeCallbacks.message.forEach(v=>v(l))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(i=>i())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(l=>l(i))}_onConnError(i){this.log("transport",`${i}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(l=>l(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(Ct.error))}_appendParams(i,l){if(Object.keys(l).length===0)return i;const r=i.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${i}${r}${c}`}_workerObjectUrl(i){let l;if(i)l=i;else{const r=new Blob([qv],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}}class _u extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function Xe(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class Lv extends _u{constructor(i,l){super(i),this.name="StorageApiError",this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fu extends _u{constructor(i,l){super(i),this.name="StorageUnknownError",this.originalError=l}}var Hv=function(u,i,l,r){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function v(p){try{b(r.next(p))}catch(_){h(_)}}function g(p){try{b(r.throw(p))}catch(_){h(_)}}function b(p){p.done?d(p.value):c(p.value).then(v,g)}b((r=r.apply(u,i||[])).next())})};const mm=u=>{let i;return u?i=u:typeof fetch>"u"?i=(...l)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...l)):i=fetch,(...l)=>i(...l)},Gv=()=>Hv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cs(()=>Promise.resolve().then(()=>ti),void 0,import.meta.url)).Response:Response}),hu=u=>{if(Array.isArray(u))return u.map(l=>hu(l));if(typeof u=="function"||u!==Object(u))return u;const i={};return Object.entries(u).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));i[c]=hu(r)}),i};var en=function(u,i,l,r){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function v(p){try{b(r.next(p))}catch(_){h(_)}}function g(p){try{b(r.throw(p))}catch(_){h(_)}}function b(p){p.done?d(p.value):c(p.value).then(v,g)}b((r=r.apply(u,i||[])).next())})};const iu=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Yv=(u,i,l)=>en(void 0,void 0,void 0,function*(){const r=yield Gv();u instanceof r&&!l?.noResolveJson?u.json().then(c=>{i(new Lv(iu(c),u.status||500))}).catch(c=>{i(new fu(iu(c),c))}):i(new fu(iu(u),u))}),$v=(u,i,l,r)=>{const c={method:u,headers:i?.headers||{}};return u==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json"},i?.headers),r&&(c.body=JSON.stringify(r)),Object.assign(Object.assign({},c),l))};function ds(u,i,l,r,c,d){return en(this,void 0,void 0,function*(){return new Promise((h,v)=>{u(l,$v(i,r,c,d)).then(g=>{if(!g.ok)throw g;return r?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Yv(g,v,r))})})}function Ul(u,i,l,r){return en(this,void 0,void 0,function*(){return ds(u,"GET",i,l,r)})}function Oa(u,i,l,r,c){return en(this,void 0,void 0,function*(){return ds(u,"POST",i,r,c,l)})}function Qv(u,i,l,r,c){return en(this,void 0,void 0,function*(){return ds(u,"PUT",i,r,c,l)})}function Vv(u,i,l,r){return en(this,void 0,void 0,function*(){return ds(u,"HEAD",i,Object.assign(Object.assign({},l),{noResolveJson:!0}),r)})}function gm(u,i,l,r,c){return en(this,void 0,void 0,function*(){return ds(u,"DELETE",i,r,c,l)})}var ct=function(u,i,l,r){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function v(p){try{b(r.next(p))}catch(_){h(_)}}function g(p){try{b(r.throw(p))}catch(_){h(_)}}function b(p){p.done?d(p.value):c(p.value).then(v,g)}b((r=r.apply(u,i||[])).next())})};const Xv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kv{constructor(i,l={},r,c){this.url=i,this.headers=l,this.bucketId=r,this.fetch=mm(c)}uploadOrUpdate(i,l,r,c){return ct(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Vh),c);let v=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=r,v["cache-control"]=`max-age=${h.cacheControl}`,v["content-type"]=h.contentType,g&&(v["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),c?.headers&&(v=Object.assign(Object.assign({},v),c.headers));const b=this._removeEmptyFolders(l),p=this._getFinalPath(b),_=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:i,body:d,headers:v},h?.duplex?{duplex:h.duplex}:{})),j=yield _.json();return _.ok?{data:{path:b,id:j.Id,fullPath:j.Key},error:null}:{data:null,error:j}}catch(d){if(Xe(d))return{data:null,error:d};throw d}})}upload(i,l,r){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,l,r)})}uploadToSignedUrl(i,l,r,c){return ct(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(i),h=this._getFinalPath(d),v=new URL(this.url+`/object/upload/sign/${h}`);v.searchParams.set("token",l);try{let g;const b=Object.assign({upsert:Vh.upsert},c),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(b.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",b.cacheControl)):(g=r,p["cache-control"]=`max-age=${b.cacheControl}`,p["content-type"]=b.contentType);const _=yield this.fetch(v.toString(),{method:"PUT",body:g,headers:p}),j=yield _.json();return _.ok?{data:{path:d,fullPath:j.Key},error:null}:{data:null,error:j}}catch(g){if(Xe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(i,l){return ct(this,void 0,void 0,function*(){try{let r=this._getFinalPath(i);const c=Object.assign({},this.headers);l?.upsert&&(c["x-upsert"]="true");const d=yield Oa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:c}),h=new URL(this.url+d.url),v=h.searchParams.get("token");if(!v)throw new _u("No token returned by API");return{data:{signedUrl:h.toString(),path:i,token:v},error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}update(i,l,r){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,l,r)})}move(i,l,r){return ct(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:l,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(Xe(c))return{data:null,error:c};throw c}})}copy(i,l,r){return ct(this,void 0,void 0,function*(){try{return{data:{path:(yield Oa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:l,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(Xe(c))return{data:null,error:c};throw c}})}createSignedUrl(i,l,r){return ct(this,void 0,void 0,function*(){try{let c=this._getFinalPath(i),d=yield Oa(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:l},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(Xe(c))return{data:null,error:c};throw c}})}createSignedUrls(i,l,r){return ct(this,void 0,void 0,function*(){try{const c=yield Oa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:i},{headers:this.headers}),d=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(Xe(c))return{data:null,error:c};throw c}})}download(i,l){return ct(this,void 0,void 0,function*(){const c=typeof l?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(l?.transform||{}),h=d?`?${d}`:"";try{const v=this._getFinalPath(i);return{data:yield(yield Ul(this.fetch,`${this.url}/${c}/${v}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(v){if(Xe(v))return{data:null,error:v};throw v}})}info(i){return ct(this,void 0,void 0,function*(){const l=this._getFinalPath(i);try{const r=yield Ul(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:hu(r),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}exists(i){return ct(this,void 0,void 0,function*(){const l=this._getFinalPath(i);try{return yield Vv(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Xe(r)&&r instanceof fu){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(i,l){const r=this._getFinalPath(i),c=[],d=l?.download?`download=${l.download===!0?"":l.download}`:"";d!==""&&c.push(d);const v=typeof l?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(l?.transform||{});g!==""&&c.push(g);let b=c.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${v}/public/${r}${b}`)}}}remove(i){return ct(this,void 0,void 0,function*(){try{return{data:yield gm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(l){if(Xe(l))return{data:null,error:l};throw l}})}list(i,l,r){return ct(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Xv),l),{prefix:i||""});return{data:yield Oa(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},r),error:null}}catch(c){if(Xe(c))return{data:null,error:c};throw c}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const l=[];return i.width&&l.push(`width=${i.width}`),i.height&&l.push(`height=${i.height}`),i.resize&&l.push(`resize=${i.resize}`),i.format&&l.push(`format=${i.format}`),i.quality&&l.push(`quality=${i.quality}`),l.join("&")}}const Zv="2.7.1",Jv={"X-Client-Info":`storage-js/${Zv}`};var Zn=function(u,i,l,r){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function v(p){try{b(r.next(p))}catch(_){h(_)}}function g(p){try{b(r.throw(p))}catch(_){h(_)}}function b(p){p.done?d(p.value):c(p.value).then(v,g)}b((r=r.apply(u,i||[])).next())})};class Pv{constructor(i,l={},r){this.url=i,this.headers=Object.assign(Object.assign({},Jv),l),this.fetch=mm(r)}listBuckets(){return Zn(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(Xe(i))return{data:null,error:i};throw i}})}getBucket(i){return Zn(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(l){if(Xe(l))return{data:null,error:l};throw l}})}createBucket(i,l={public:!1}){return Zn(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}updateBucket(i,l){return Zn(this,void 0,void 0,function*(){try{return{data:yield Qv(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}emptyBucket(i){return Zn(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(Xe(l))return{data:null,error:l};throw l}})}deleteBucket(i){return Zn(this,void 0,void 0,function*(){try{return{data:yield gm(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(l){if(Xe(l))return{data:null,error:l};throw l}})}}class Iv extends Pv{constructor(i,l={},r){super(i,l,r)}from(i){return new Kv(this.url,this.headers,i,this.fetch)}}const Fv="2.50.3";let ns="";typeof Deno<"u"?ns="deno":typeof document<"u"?ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ns="react-native":ns="node";const Wv={"X-Client-Info":`supabase-js-${ns}/${Fv}`},ey={headers:Wv},ty={schema:"public"},ay={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ny={};var iy=function(u,i,l,r){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function v(p){try{b(r.next(p))}catch(_){h(_)}}function g(p){try{b(r.throw(p))}catch(_){h(_)}}function b(p){p.done?d(p.value):c(p.value).then(v,g)}b((r=r.apply(u,i||[])).next())})};const sy=u=>{let i;return u?i=u:typeof fetch>"u"?i=im:i=fetch,(...l)=>i(...l)},ly=()=>typeof Headers>"u"?sm:Headers,ry=(u,i,l)=>{const r=sy(l),c=ly();return(d,h)=>iy(void 0,void 0,void 0,function*(){var v;const g=(v=yield i())!==null&&v!==void 0?v:u;let b=new c(h?.headers);return b.has("apikey")||b.set("apikey",u),b.has("Authorization")||b.set("Authorization",`Bearer ${g}`),r(d,Object.assign(Object.assign({},h),{headers:b}))})};var oy=function(u,i,l,r){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function v(p){try{b(r.next(p))}catch(_){h(_)}}function g(p){try{b(r.throw(p))}catch(_){h(_)}}function b(p){p.done?d(p.value):c(p.value).then(v,g)}b((r=r.apply(u,i||[])).next())})};function uy(u){return u.endsWith("/")?u:u+"/"}function cy(u,i){var l,r;const{db:c,auth:d,realtime:h,global:v}=u,{db:g,auth:b,realtime:p,global:_}=i,j={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},b),d),realtime:Object.assign(Object.assign({},p),h),global:Object.assign(Object.assign(Object.assign({},_),v),{headers:Object.assign(Object.assign({},(l=_?.headers)!==null&&l!==void 0?l:{}),(r=v?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>oy(this,void 0,void 0,function*(){return""})};return u.accessToken?j.accessToken=u.accessToken:delete j.accessToken,j}const vm="2.70.0",Fn=30*1e3,mu=3,su=mu*Fn,dy="http://localhost:9999",fy="supabase.auth.token",hy={"X-Client-Info":`gotrue-js/${vm}`},gu="X-Supabase-Api-Version",ym={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},my=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gy=6e5;class Su extends Error{constructor(i,l,r){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function se(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class vy extends Su{constructor(i,l,r){super(i,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function yy(u){return se(u)&&u.name==="AuthApiError"}class bm extends Su{constructor(i,l){super(i),this.name="AuthUnknownError",this.originalError=l}}class Da extends Su{constructor(i,l,r,c){super(i,r,c),this.name=l,this.status=r}}class Aa extends Da{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function by(u){return se(u)&&u.name==="AuthSessionMissingError"}class Tl extends Da{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Al extends Da{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class Ol extends Da{constructor(i,l=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function py(u){return se(u)&&u.name==="AuthImplicitGrantRedirectError"}class Xh extends Da{constructor(i,l=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vu extends Da{constructor(i,l){super(i,"AuthRetryableFetchError",l,void 0)}}function lu(u){return se(u)&&u.name==="AuthRetryableFetchError"}class Kh extends Da{constructor(i,l,r){super(i,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class rs extends Da{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zh=` 	
\r=`.split(""),xy=(()=>{const u=new Array(128);for(let i=0;i<u.length;i+=1)u[i]=-1;for(let i=0;i<Zh.length;i+=1)u[Zh[i].charCodeAt(0)]=-2;for(let i=0;i<Cl.length;i+=1)u[Cl[i].charCodeAt(0)]=i;return u})();function Jh(u,i,l){if(u!==null)for(i.queue=i.queue<<8|u,i.queuedBits+=8;i.queuedBits>=6;){const r=i.queue>>i.queuedBits-6&63;l(Cl[r]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const r=i.queue>>i.queuedBits-6&63;l(Cl[r]),i.queuedBits-=6}}function pm(u,i,l){const r=xy[u];if(r>-1)for(i.queue=i.queue<<6|r,i.queuedBits+=6;i.queuedBits>=8;)l(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Ph(u){const i=[],l=h=>{i.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{Sy(h,r,l)};for(let h=0;h<u.length;h+=1)pm(u.charCodeAt(h),c,d);return i.join("")}function wy(u,i){if(u<=127){i(u);return}else if(u<=2047){i(192|u>>6),i(128|u&63);return}else if(u<=65535){i(224|u>>12),i(128|u>>6&63),i(128|u&63);return}else if(u<=1114111){i(240|u>>18),i(128|u>>12&63),i(128|u>>6&63),i(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function _y(u,i){for(let l=0;l<u.length;l+=1){let r=u.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(u.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}wy(r,i)}}function Sy(u,i,l){if(i.utf8seq===0){if(u<=127){l(u);return}for(let r=1;r<6;r+=1)if((u>>7-r&1)===0){i.utf8seq=r;break}if(i.utf8seq===2)i.codepoint=u&31;else if(i.utf8seq===3)i.codepoint=u&15;else if(i.utf8seq===4)i.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|u&63,i.utf8seq-=1,i.utf8seq===0&&l(i.codepoint)}}function jy(u){const i=[],l={queue:0,queuedBits:0},r=c=>{i.push(c)};for(let c=0;c<u.length;c+=1)pm(u.charCodeAt(c),l,r);return new Uint8Array(i)}function Ny(u){const i=[];return _y(u,l=>i.push(l)),new Uint8Array(i)}function Ey(u){const i=[],l={queue:0,queuedBits:0},r=c=>{i.push(c)};return u.forEach(c=>Jh(c,l,r)),Jh(null,l,r),i.join("")}function Ty(u){return Math.round(Date.now()/1e3)+u}function Ay(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const i=Math.random()*16|0;return(u=="x"?i:i&3|8).toString(16)})}const Ut=()=>typeof window<"u"&&typeof document<"u",Ia={tested:!1,writable:!1},os=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ia.tested)return Ia.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Ia.tested=!0,Ia.writable=!0}catch{Ia.tested=!0,Ia.writable=!1}return Ia.writable};function Oy(u){const i={},l=new URL(u);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,d)=>{i[d]=c})}catch{}return l.searchParams.forEach((r,c)=>{i[c]=r}),i}const xm=u=>{let i;return u?i=u:typeof fetch>"u"?i=(...l)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...l)):i=fetch,(...l)=>i(...l)},ky=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",wm=async(u,i,l)=>{await u.setItem(i,JSON.stringify(l))},kl=async(u,i)=>{const l=await u.getItem(i);if(!l)return null;try{return JSON.parse(l)}catch{return l}},Dl=async(u,i)=>{await u.removeItem(i)};class zl{constructor(){this.promise=new zl.promiseConstructor((i,l)=>{this.resolve=i,this.reject=l})}}zl.promiseConstructor=Promise;function ru(u){const i=u.split(".");if(i.length!==3)throw new rs("Invalid JWT structure");for(let r=0;r<i.length;r++)if(!my.test(i[r]))throw new rs("JWT not in base64url format");return{header:JSON.parse(Ph(i[0])),payload:JSON.parse(Ph(i[1])),signature:jy(i[2]),raw:{header:i[0],payload:i[1]}}}async function Dy(u){return await new Promise(i=>{setTimeout(()=>i(null),u)})}function Ry(u,i){return new Promise((r,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await u(d);if(!i(d,null,h)){r(h);return}}catch(h){if(!i(d,h)){c(h);return}}})()})}function Uy(u){return("0"+u.toString(16)).substr(-2)}function Cy(){const i=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let d=0;d<56;d++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(i),Array.from(i,Uy).join("")}async function My(u){const l=new TextEncoder().encode(u),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function zy(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const l=await My(u);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jn(u,i,l=!1){const r=Cy();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await wm(u,`${i}-code-verifier`,c);const d=await zy(r);return[d,r===d?"plain":"s256"]}const qy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function By(u){const i=u.headers.get(gu);if(!i||!i.match(qy))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function Ly(u){if(!u)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(u<=i)throw new Error("JWT has expired")}function Hy(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pn(u){if(!Gy.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Yy=function(u,i){var l={};for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&i.indexOf(r)<0&&(l[r]=u[r]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(u);c<r.length;c++)i.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(u,r[c])&&(l[r[c]]=u[r[c]]);return l};const Fa=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),$y=[502,503,504];async function Ih(u){var i;if(!ky(u))throw new vu(Fa(u),0);if($y.includes(u.status))throw new vu(Fa(u),u.status);let l;try{l=await u.json()}catch(d){throw new bm(Fa(d),d)}let r;const c=By(u);if(c&&c.getTime()>=ym["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new Kh(Fa(l),u.status,((i=l.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(r==="session_not_found")throw new Aa}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Kh(Fa(l),u.status,l.weak_password.reasons);throw new vy(Fa(l),u.status||500,r)}const Qy=(u,i,l,r)=>{const c={method:u,headers:i?.headers||{}};return u==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function de(u,i,l,r){var c;const d=Object.assign({},r?.headers);d[gu]||(d[gu]=ym["2024-01-01"].name),r?.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const h=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(h.redirect_to=r.redirectTo);const v=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await Vy(u,i,l+v,{headers:d,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(g):{data:Object.assign({},g),error:null}}async function Vy(u,i,l,r,c,d){const h=Qy(i,r,c,d);let v;try{v=await u(l,Object.assign({},h))}catch(g){throw console.error(g),new vu(Fa(g),0)}if(v.ok||await Ih(v),r?.noResolveJson)return v;try{return await v.json()}catch(g){await Ih(g)}}function aa(u){var i;let l=null;Jy(u)&&(l=Object.assign({},u),u.expires_at||(l.expires_at=Ty(u.expires_in)));const r=(i=u.user)!==null&&i!==void 0?i:u;return{data:{session:l,user:r},error:null}}function Fh(u){const i=aa(u);return!i.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(i.data.weak_password=u.weak_password),i}function ka(u){var i;return{data:{user:(i=u.user)!==null&&i!==void 0?i:u},error:null}}function Xy(u){return{data:u,error:null}}function Ky(u){const{action_link:i,email_otp:l,hashed_token:r,redirect_to:c,verification_type:d}=u,h=Yy(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:i,email_otp:l,hashed_token:r,redirect_to:c,verification_type:d},g=Object.assign({},h);return{data:{properties:v,user:g},error:null}}function Zy(u){return u}function Jy(u){return u.access_token&&u.refresh_token&&u.expires_in}const ou=["global","local","others"];var Py=function(u,i){var l={};for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&i.indexOf(r)<0&&(l[r]=u[r]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(u);c<r.length;c++)i.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(u,r[c])&&(l[r[c]]=u[r[c]]);return l};class Iy{constructor({url:i="",headers:l={},fetch:r}){this.url=i,this.headers=l,this.fetch=xm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,l=ou[0]){if(ou.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ou.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(i,l={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:ka})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(i){try{const{options:l}=i,r=Py(i,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ky,redirectTo:l?.redirectTo})}catch(l){if(se(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(i){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:ka})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}}async listUsers(i){var l,r,c,d,h,v,g;try{const b={nextPage:null,lastPage:0,total:0},p=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=i?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=i?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Zy});if(p.error)throw p.error;const _=await p.json(),j=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(v=p.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(D=>{const L=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(D.split(";")[1].split("=")[1]);b[`${M}Page`]=L}),b.total=parseInt(j)),{data:Object.assign(Object.assign({},_),b),error:null}}catch(b){if(se(b))return{data:{users:[]},error:b};throw b}}async getUserById(i){Pn(i);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:ka})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}}async updateUserById(i,l){Pn(i);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:l,headers:this.headers,xform:ka})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(i,l=!1){Pn(i);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:l},xform:ka})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(i){Pn(i.userId);try{const{data:l,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(se(l))return{data:null,error:l};throw l}}async _deleteFactor(i){Pn(i.userId),Pn(i.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}}}const Fy={getItem:u=>os()?globalThis.localStorage.getItem(u):null,setItem:(u,i)=>{os()&&globalThis.localStorage.setItem(u,i)},removeItem:u=>{os()&&globalThis.localStorage.removeItem(u)}};function Wh(u={}){return{getItem:i=>u[i]||null,setItem:(i,l)=>{u[i]=l},removeItem:i=>{delete u[i]}}}function Wy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const In={debug:!!(globalThis&&os()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _m extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class eb extends _m{}async function tb(u,i,l){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,i);const r=new globalThis.AbortController;return i>0&&setTimeout(()=>{r.abort(),In.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,c.name);try{return await l()}finally{In.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,c.name)}}else{if(i===0)throw In.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new eb(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(In.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}Wy();const ab={url:dy,storageKey:fy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function em(u,i,l){return await l()}class us{constructor(i){var l,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&Ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},ab),i);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Iy({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=xm(c.fetch),this.lock=c.lock||em,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Ut()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=tb:this.lock=em,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?c.storage?this.storage=c.storage:os()?this.storage=Fy:(this.memoryStorage={},this.storage=Wh(this.memoryStorage)):(this.memoryStorage={},this.storage=Wh(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vm}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const l=Oy(window.location.href);let r="none";if(this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce"),Ut()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:d}=await this._getSessionFromURL(l,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),py(d)){const g=(i=d.details)===null||i===void 0?void 0:i.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:v}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",v),await this._saveSession(h),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return se(l)?{error:l}:{error:new bm("Unexpected error during initialization",l)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var l,r,c;try{const d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=i?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=i?.options)===null||c===void 0?void 0:c.captchaToken}},xform:aa}),{data:h,error:v}=d;if(v||!h)return{data:{user:null,session:null},error:v};const g=h.session,b=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:b,session:g},error:null}}catch(d){if(se(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(i){var l,r,c;try{let d;if("email"in i){const{email:p,password:_,options:j}=i;let E=null,D=null;this.flowType==="pkce"&&([E,D]=await Jn(this.storage,this.storageKey)),d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:p,password:_,data:(l=j?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:E,code_challenge_method:D},xform:aa})}else if("phone"in i){const{phone:p,password:_,options:j}=i;d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:_,data:(r=j?.data)!==null&&r!==void 0?r:{},channel:(c=j?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:aa})}else throw new Al("You must provide either an email or phone number and a password");const{data:h,error:v}=d;if(v||!h)return{data:{user:null,session:null},error:v};const g=h.session,b=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:b,session:g},error:null}}catch(d){if(se(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(i){try{let l;if("email"in i){const{email:d,password:h,options:v}=i;l=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Fh})}else if("phone"in i){const{phone:d,password:h,options:v}=i;l=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Fh})}else throw new Al("You must provide either an email or phone number and a password");const{data:r,error:c}=l;return c?{data:{user:null,session:null},error:c}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Tl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOAuth(i){var l,r,c,d;return await this._handleProviderSignIn(i.provider,{redirectTo:(l=i.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=i.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=i.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=i.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:l}=i;if(l==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}async signInWithSolana(i){var l,r,c,d,h,v,g,b,p,_,j,E;let D,L;if("message"in i)D=i.message,L=i.signature;else{const{chain:M,wallet:V,statement:P,options:B}=i;let K;if(Ut())if(typeof V=="object")K=V;else{const ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))K=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=V}const Q=new URL((l=B?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in K&&K.signIn){const ie=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),P?{statement:P}:null));let fe;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")fe=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)fe=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in fe&&"signature"in fe&&(typeof fe.signedMessage=="string"||fe.signedMessage instanceof Uint8Array)&&fe.signature instanceof Uint8Array)D=typeof fe.signedMessage=="string"?fe.signedMessage:new TextDecoder().decode(fe.signedMessage),L=fe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");D=[`${Q.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(c=(r=B?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=B?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((h=B?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((v=B?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((b=B?.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((_=(p=B?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||_===void 0)&&_.length?["Resources",...B.signInWithSolana.resources.map(fe=>`- ${fe}`)]:[]].join(`
`);const ie=await K.signMessage(new TextEncoder().encode(D),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=ie}}try{const{data:M,error:V}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:D,signature:Ey(L)},!((j=i.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(E=i.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:aa});if(V)throw V;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new Tl}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:V})}catch(M){if(se(M))return{data:{user:null,session:null},error:M};throw M}}async _exchangeCodeForSession(i){const l=await kl(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{const{data:d,error:h}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:r},xform:aa});if(await Dl(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Tl}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(se(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(i){try{const{options:l,provider:r,token:c,access_token:d,nonce:h}=i,v=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:aa}),{data:g,error:b}=v;return b?{data:{user:null,session:null},error:b}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Tl}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:b})}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOtp(i){var l,r,c,d,h;try{if("email"in i){const{email:v,options:g}=i;let b=null,p=null;this.flowType==="pkce"&&([b,p]=await Jn(this.storage,this.storageKey));const{error:_}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(r=g?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:b,code_challenge_method:p},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in i){const{phone:v,options:g}=i,{data:b,error:p}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:b?.message_id},error:p}}throw new Al("You must provide either an email or phone number.")}catch(v){if(se(v))return{data:{user:null,session:null},error:v};throw v}}async verifyOtp(i){var l,r;try{let c,d;"options"in i&&(c=(l=i.options)===null||l===void 0?void 0:l.redirectTo,d=(r=i.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:v}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:aa});if(v)throw v;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,b=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:b,session:g},error:null}}catch(c){if(se(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(i){var l,r,c;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await Jn(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(r=(l=i.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=i?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:Xy})}catch(d){if(se(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:l},error:r}=i;if(r)throw r;if(!l)throw new Aa;const{error:c}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return{data:{user:null,session:null},error:c}})}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const l=`${this.url}/resend`;if("email"in i){const{email:r,type:c,options:d}=i,{error:h}=await de(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in i){const{phone:r,type:c,options:d}=i,{data:h,error:v}=await de(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:v}}throw new Al("You must provide either an email or phone number and a type")}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(i,l){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await i(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const l=await kl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?i=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const r=i.expires_at?i.expires_at*1e3-Date.now()<su:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",i.expires_at),!r){if(this.storage.isServer){let h=this.suppressGetSessionWarning;i=new Proxy(i,{get:(g,b,p)=>(!h&&b==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,b,p))})}return{data:{session:i},error:null}}const{session:c,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:ka}):await this._useSession(async l=>{var r,c,d;const{data:h,error:v}=l;if(v)throw v;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Aa}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:ka})})}catch(l){if(se(l))return by(l)&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:l};throw l}}async updateUser(i,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,l))}async _updateUser(i,l={}){try{return await this._useSession(async r=>{const{data:c,error:d}=r;if(d)throw d;if(!c.session)throw new Aa;const h=c.session;let v=null,g=null;this.flowType==="pkce"&&i.email!=null&&([v,g]=await Jn(this.storage,this.storageKey));const{data:b,error:p}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:v,code_challenge_method:g}),jwt:h.access_token,xform:ka});if(p)throw p;return h.user=b.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Aa;const l=Date.now()/1e3;let r=l,c=!0,d=null;const{payload:h}=ru(i.access_token);if(h.exp&&(r=h.exp,c=r<=l),c){const{session:v,error:g}=await this._callRefreshToken(i.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!v)return{data:{user:null,session:null},error:null};d=v}else{const{data:v,error:g}=await this._getUser(i.access_token);if(g)throw g;d={access_token:i.access_token,refresh_token:i.refresh_token,user:v.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(l){if(se(l))return{data:{session:null,user:null},error:l};throw l}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async l=>{var r;if(!i){const{data:h,error:v}=l;if(v)throw v;i=(r=h.session)!==null&&r!==void 0?r:void 0}if(!i?.refresh_token)throw new Aa;const{session:c,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async _getSessionFromURL(i,l){try{if(!Ut())throw new Ol("No browser detected.");if(i.error||i.error_description||i.error_code)throw new Ol(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Xh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ol("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Xh("No code detected.");const{data:P,error:B}=await this._exchangeCodeForSession(i.code);if(B)throw B;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:v,expires_at:g,token_type:b}=i;if(!d||!v||!h||!b)throw new Ol("No session defined in URL");const p=Math.round(Date.now()/1e3),_=parseInt(v);let j=p+_;g&&(j=parseInt(g));const E=j-p;E*1e3<=Fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const D=j-_;p-D>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",D,j,p):p-D<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",D,j,p);const{data:L,error:M}=await this._getUser(d);if(M)throw M;const V={provider_token:r,provider_refresh_token:c,access_token:d,expires_in:_,expires_at:j,refresh_token:h,token_type:b,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:i.type},error:null}}catch(r){if(se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const l=await kl(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&l)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d)return{error:d};const h=(r=c.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:v}=await this.admin.signOut(h,i);if(v&&!(yy(v)&&(v.status===404||v.status===401||v.status===403)))return{error:v}}return i!=="others"&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const l=Ay(),r={id:l,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(i){return await this._useSession(async l=>{var r,c;try{const{data:{session:d},error:h}=l;if(h)throw h;await((r=this.stateChangeEmitters.get(i))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",i,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(i))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",d),console.error(d)}})}async resetPasswordForEmail(i,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await Jn(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(se(d))return{data:null,error:d};throw d}}async getUserIdentities(){var i;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(i=l.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}}async linkIdentity(i){var l;try{const{data:r,error:c}=await this._useSession(async d=>{var h,v,g,b,p;const{data:_,error:j}=d;if(j)throw j;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(h=i.options)===null||h===void 0?void 0:h.redirectTo,scopes:(v=i.options)===null||v===void 0?void 0:v.scopes,queryParams:(g=i.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",E,{headers:this.headers,jwt:(p=(b=_.session)===null||b===void 0?void 0:b.access_token)!==null&&p!==void 0?p:void 0})});if(c)throw c;return Ut()&&!(!((l=i.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:i.provider,url:r?.url},error:null}}catch(r){if(se(r))return{data:{provider:i.provider,url:null},error:r};throw r}}async unlinkIdentity(i){try{return await this._useSession(async l=>{var r,c;const{data:d,error:h}=l;if(h)throw h;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(c=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(se(l))return{data:null,error:l};throw l}}async _refreshAccessToken(i){const l=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await Ry(async c=>(c>0&&await Dy(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:aa})),(c,d)=>{const h=200*Math.pow(2,c);return d&&lu(d)&&Date.now()+h-r<Fn})}catch(r){if(this._debug(l,"error",r),se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(l,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",l,"url",r),Ut()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:i,url:r},error:null}}async _recoverAndRefresh(){var i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const r=await kl(this.storage,this.storageKey);if(this._debug(l,"session from storage",r),!this._isValidSession(r)){this._debug(l,"session is not valid"),r!==null&&await this._removeSession();return}const c=((i=r.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<su;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${su}s`),c){if(this.autoRefreshToken&&r.refresh_token){const{error:d}=await this._callRefreshToken(r.refresh_token);d&&(console.error(d),lu(d)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(l,"error",r),console.error(r);return}finally{this._debug(l,"end")}}async _callRefreshToken(i){var l,r;if(!i)throw new Aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new zl;const{data:d,error:h}=await this._refreshAccessToken(i);if(h)throw h;if(!d.session)throw new Aa;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const v={session:d.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(d){if(this._debug(c,"error",d),se(d)){const h={session:null,error:d};return lu(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(i,l,r=!0){const c=`#_notifyAllSubscribers(${i})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:i,session:l});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(i,l)}catch(g){d.push(g)}});if(await Promise.all(h),d.length>0){for(let v=0;v<d.length;v+=1)console.error(d[v]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0,await wm(this.storage,this.storageKey,i)}async _removeSession(){this._debug("#_removeSession()"),await Dl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),Fn);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-i)/Fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Fn}ms, refresh threshold is ${mu} ticks`),c<=mu&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof _m)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const l=`#_onVisibilityChanged(${i})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,h]=await Jn(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(v.toString())}if(r?.queryParams){const d=new URLSearchParams(r.queryParams);c.push(d.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${i}?${c.join("&")}`}async _unenroll(i){try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;return d?{data:null,error:d}:await de(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(se(l))return{data:null,error:l};throw l}}async _enroll(i){try{return await this._useSession(async l=>{var r,c;const{data:d,error:h}=l;if(h)return{data:null,error:h};const v=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:g,error:b}=await de(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return b?{data:null,error:b}:(i.factorType==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(l){if(se(l))return{data:null,error:l};throw l}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d)return{data:null,error:d};const{data:h,error:v}=await de(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:v})})}catch(l){if(se(l))return{data:null,error:l};throw l}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;return d?{data:null,error:d}:await de(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(se(l))return{data:null,error:l};throw l}})}async _challengeAndVerify(i){const{data:l,error:r}=await this._challenge({factorId:i.factorId});return r?{data:null,error:r}:await this._verify({factorId:i.factorId,challengeId:l.id,code:i.code})}async _listFactors(){const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const r=i?.factors||[],c=r.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=r.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:r,totp:c,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var l,r;const{data:{session:c},error:d}=i;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=ru(c.access_token);let v=null;h.aal&&(v=h.aal);let g=v;((r=(l=c.user.factors)===null||l===void 0?void 0:l.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const p=h.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(i,l={keys:[]}){let r=l.keys.find(h=>h.kid===i);if(r||(r=this.jwks.keys.find(h=>h.kid===i),r&&this.jwks_cached_at+gy>Date.now()))return r;const{data:c,error:d}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;if(!c.keys||c.keys.length===0)throw new rs("JWKS is empty");if(this.jwks=c,this.jwks_cached_at=Date.now(),r=c.keys.find(h=>h.kid===i),!r)throw new rs("No matching signing key found in JWKS");return r}async getClaims(i,l={keys:[]}){try{let r=i;if(!r){const{data:E,error:D}=await this.getSession();if(D||!E.session)return{data:null,error:D};r=E.session.access_token}const{header:c,payload:d,signature:h,raw:{header:v,payload:g}}=ru(r);if(Ly(d.exp),!c.kid||c.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:d,header:c,signature:h},error:null}}const b=Hy(c.alg),p=await this.fetchJwk(c.kid,l),_=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,_,h,Ny(`${v}.${g}`)))throw new rs("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}}us.nextInstanceID=0;const nb=us;class ib extends nb{constructor(i){super(i)}}var sb=function(u,i,l,r){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function v(p){try{b(r.next(p))}catch(_){h(_)}}function g(p){try{b(r.throw(p))}catch(_){h(_)}}function b(p){p.done?d(p.value):c(p.value).then(v,g)}b((r=r.apply(u,i||[])).next())})};class lb{constructor(i,l,r){var c,d,h;if(this.supabaseUrl=i,this.supabaseKey=l,!i)throw new Error("supabaseUrl is required.");if(!l)throw new Error("supabaseKey is required.");const v=uy(i),g=new URL(v);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const b=`sb-${g.hostname.split(".")[0]}-auth-token`,p={db:ty,realtime:ny,auth:Object.assign(Object.assign({},ay),{storageKey:b}),global:ey},_=cy(r??{},p);this.storageKey=(c=_.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=_.global.headers)!==null&&d!==void 0?d:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(j,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=_.auth)!==null&&h!==void 0?h:{},this.headers,_.global.fetch),this.fetch=ry(l,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new Sv(new URL("rest/v1",g).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new dv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Iv(this.storageUrl.href,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,l={},r={}){return this.rest.rpc(i,l,r)}channel(i,l={config:{}}){return this.realtime.channel(i,l)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,l;return sb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(l=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:l,detectSessionInUrl:r,storage:c,storageKey:d,flowType:h,lock:v,debug:g},b,p){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ib({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),b),storageKey:d,autoRefreshToken:i,persistSession:l,detectSessionInUrl:r,storage:c,flowType:h,lock:v,debug:g,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new Bv(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,r)=>{this._handleTokenChanged(l,"CLIENT",r?.access_token)})}_handleTokenChanged(i,l,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:i==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rb=(u,i,l)=>new lb(u,i,l),ju={url:"https://zbkshutnsojsrjwzullq.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpia3NodXRuc29qc3Jqd3p1bGxxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwMDIzMDksImV4cCI6MjA2NzU3ODMwOX0.G3h5PuawfEi3h3CmH6BQx_TQ24yOW28Pleq1ftjXe-M"};console.log("📝 Using hardcoded Supabase configuration (like birthday-reminder)");console.log("📝 Using Supabase configuration (production mode)");const Sm=ju.url,jm=ju.anonKey;console.log("🔧 Supabase Config (Static):",{url:Sm,hasKey:!0,keyPreview:jm?.substring(0,20)+"..."});console.log("✅ Supabase configuration loaded successfully");const ob={auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1,flowType:"pkce",storage:typeof window<"u"?window.localStorage:void 0,storageKey:"supabase.auth.token"},realtime:{params:{eventsPerSecond:2}},global:{headers:{"Content-Type":"application/json"}}},ne=rb(Sm,jm,ob),ub=!0,cb=({onGetStarted:u})=>f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[f.jsxs("header",{className:"px-6 py-8 text-center",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 via-red-500 to-yellow-500 mb-6",children:f.jsx("span",{className:"text-2xl",children:"🔥"})}),f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"TrackApp"}),f.jsx("p",{className:"text-lg text-gray-600 max-w-sm mx-auto",children:"Verfolge deine Fitness-Streaks und motiviere dich mit Freunden"})]}),f.jsx("div",{className:"px-6 py-16",children:f.jsxs("div",{className:"max-w-sm mx-auto text-center space-y-12",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center mx-auto mb-4",children:f.jsx("span",{className:"text-xl",children:"📊"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Streak Tracking"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Verfolge deine täglichen Trainings und baue längere Streaks auf"})]}),f.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-red-400 to-orange-500 flex items-center justify-center mx-auto mb-4",children:f.jsx("span",{className:"text-xl",children:"👥"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Freunde motivieren"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Lade Freunde ein und vergleiche eure Fitness-Streaks"})]}),f.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center mx-auto mb-4",children:f.jsx("span",{className:"text-xl",children:"🎯"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Einfach & Schnell"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Minimalistisches Design für maximale Motivation"})]})]}),f.jsxs("div",{className:"pt-8",children:[f.jsx("button",{onClick:u,className:"w-full py-4 bg-gradient-to-r from-orange-500 via-red-500 to-orange-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Jetzt starten"}),f.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Kostenlos • Keine Werbung • Einfach zu verwenden"})]})]})}),f.jsx("footer",{className:"px-6 py-8 text-center",children:f.jsx("p",{className:"text-xs text-gray-400",children:"Made with 🔥 for fitness enthusiasts"})})]}),Rl={async getUserStreaks(u){const{data:i,error:l}=await ne.from("streaks").select("*").eq("user_id",u).order("date",{ascending:!1});return{data:i,error:l}},async getTodayStreak(u){const i=new Date().toISOString().split("T")[0],{data:l,error:r}=await ne.from("streaks").select("*").eq("user_id",u).eq("date",i).single();return{data:l,error:r}},async createStreak(u){const{data:i,error:l}=await ne.from("streaks").insert([u]).select().single();return{data:i,error:l}},async updateStreak(u,i){const{data:l,error:r}=await ne.from("streaks").update(i).eq("id",u).select().single();return{data:l,error:r}},async deleteStreak(u){const{error:i}=await ne.from("streaks").delete().eq("id",u);return{error:i}},async getCurrentStreak(u){const{data:i,error:l}=await ne.from("user_current_streaks").select("current_streak").eq("user_id",u).single();return l?{data:0,error:l}:{data:i?.current_streak||0,error:null}},async getStreakStats(u){const{data:i,error:l}=await ne.rpc("get_user_streak_stats",{p_user_id:u});return{data:i,error:l}},async getRecentStreaks(u,i=10){const{data:l,error:r}=await ne.from("streaks").select("*").eq("user_id",u).order("date",{ascending:!1}).limit(i);return{data:l,error:r}}},tm={subscribeToUserStreaks(u,i){return ne.channel("user-streaks").on("postgres_changes",{event:"*",schema:"public",table:"streaks",filter:`user_id=eq.${u}`},i).subscribe()},subscribeToUserFriendships(u,i){return ne.channel("user-friendships").on("postgres_changes",{event:"*",schema:"public",table:"friendships",filter:`user_id=eq.${u}`},i).subscribe()}},yu={async getConnectedFriends(u){try{console.log("Getting connected friends for user:",u);const{data:i,error:l}=await ne.from("friends").select(`
          id,
          user_id,
          friend_id,
          status,
          created_at
        `).eq("user_id",u).eq("status","accepted");if(l)return console.error("Friends query error:",l),{data:[],error:null};if(!i||i.length===0)return{data:[],error:null};const r=i.map(v=>v.friend_id),{data:c,error:d}=await ne.from("profiles").select("*").in("id",r);return d?(console.error("Profiles query error:",d),{data:[],error:null}):{data:i.map(v=>{const g=c?.find(b=>b.id===v.friend_id);return{id:v.id,user_id:v.user_id,friend_id:v.friend_id,status:v.status,created_at:v.created_at,connected_at:v.created_at,friend_profile:g,friend_email:g?.email||"",friend_name:g?.display_name||g?.email||"Unbekannter Nutzer",friend_avatar:g?.avatar_url||"",friend_streak:0}}),error:null}}catch(i){return console.error("Get connected friends error:",i),{data:[],error:null}}},async removeFriend(u,i){try{console.log("Removing friend relationship between:",u,"and",i);const{error:l}=await ne.from("friends").delete().eq("user_id",u).eq("friend_id",i),{error:r}=await ne.from("friends").delete().eq("user_id",i).eq("friend_id",u);return l&&r?(console.error("Failed to remove friendship:",{error1:l,error2:r}),{error:l}):{error:null}}catch(l){return{error:l}}},async createInviteLink(u,i){try{console.log("Creating invite for:",u,"to email:",i);const{data:l,error:r}=await ne.from("profiles").select("id, email").eq("email",i.trim().toLowerCase()).single();if(!r&&l)return await this.sendFriendRequest(u,l.id);const c=this.generateInviteToken(),d=`${window.location.origin}/invite/${c}`,h={token:c,inviter_id:u,invitee_email:i.trim().toLowerCase(),created_at:new Date().toISOString(),expires_at:new Date(Date.now()+7*24*60*60*1e3).toISOString()},v=JSON.parse(localStorage.getItem("pending_invites")||"[]");return v.push(h),localStorage.setItem("pending_invites",JSON.stringify(v)),console.log("Invite created:",{token:c,url:d}),{data:{token:c,url:d,message:`Einladung für ${i} erstellt! Link: ${d}`},error:null}}catch(l){return console.error("Create invite error:",l),{data:null,error:l instanceof Error?l.message:"Fehler beim Erstellen der Einladung"}}},async acceptInviteByToken(u,i){try{console.log("Accepting invite with token:",u,"for user:",i);let l=[];try{const d=localStorage.getItem("pending_invites");l=d?JSON.parse(d):[]}catch(d){return console.warn("LocalStorage nicht verfügbar:",d),{data:null,error:"Browser-Speicher nicht verfügbar. Versuche Inkognito-Modus oder einen anderen Browser."}}const r=l.find(d=>d.token===u);if(!r)return{data:null,error:"Einladung nicht gefunden oder bereits verwendet"};if(new Date(r.expires_at)<new Date)return{data:null,error:"Einladung ist abgelaufen"};const c=await this.sendFriendRequest(r.inviter_id,i);if(!c.error)try{const d=l.filter(h=>h.token!==u);localStorage.setItem("pending_invites",JSON.stringify(d))}catch(d){console.warn("Could not update localStorage:",d)}return c}catch(l){return console.error("Accept invite error:",l),{data:null,error:l instanceof Error?l.message:"Fehler beim Annehmen der Einladung"}}},async getInviteByToken(u){try{let i=[];try{const r=localStorage.getItem("pending_invites");i=r?JSON.parse(r):[]}catch(r){console.warn("LocalStorage nicht verfügbar oder beschädigt:",r),i=[]}const l=i.find(r=>r.token===u);return l?new Date(l.expires_at)<new Date?{data:null,error:"Einladung ist abgelaufen"}:{data:l,error:null}:{data:null,error:"Einladung nicht gefunden"}}catch(i){return{data:null,error:i instanceof Error?i.message:"Fehler beim Laden der Einladung"}}},generateInviteToken(){try{return Array.from(crypto.getRandomValues(new Uint8Array(16))).map(u=>u.toString(16).padStart(2,"0")).join("")}catch{return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}},checkBrowserCompatibility(){const u={localStorage:!1,sessionStorage:!1,fetch:!1,userAgent:navigator.userAgent};try{localStorage.setItem("test","test"),localStorage.removeItem("test"),u.localStorage=!0}catch{console.warn("LocalStorage nicht verfügbar")}try{sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),u.sessionStorage=!0}catch{console.warn("SessionStorage nicht verfügbar")}return u.fetch=typeof fetch<"u",u},async debugInviteSystem(){console.log("=== Invite System Debug ==="),console.log("Browser Compatibility:",this.checkBrowserCompatibility());try{const u=localStorage.getItem("pending_invites");console.log("Stored Invites:",u?JSON.parse(u):"None")}catch(u){console.log("Cannot access localStorage:",u)}console.log("Supabase Client Status:",!!ne),console.log("Current URL:",window.location.href),console.log("=== End Debug ===")},async getPendingInvites(u){try{return{data:JSON.parse(localStorage.getItem("pending_invites")||"[]").filter(r=>r.inviter_id===u),error:null}}catch(i){return{data:null,error:i instanceof Error?i.message:"Fehler beim Laden der Einladungen"}}},async sendFriendRequest(u,i){try{const{data:l}=await ne.from("friends").select("*").or(`and(user_id.eq.${u},friend_id.eq.${i}),and(user_id.eq.${i},friend_id.eq.${u})`).maybeSingle();if(l)return{data:null,error:"Freundschaft existiert bereits"};const{error:r}=await ne.from("friends").insert({user_id:u,friend_id:i,status:"accepted"}),{error:c}=await ne.from("friends").insert({user_id:i,friend_id:u,status:"accepted"});return r||c?(console.error("Friend request errors:",{error1:r,error2:c}),{data:null,error:"Fehler beim Erstellen der Freundschaft"}):{data:{message:"Freundschaft erfolgreich erstellt!"},error:null}}catch(l){return console.error("Send friend request error:",l),{data:null,error:l instanceof Error?l.message:"Fehler beim Senden der Freundschaftsanfrage"}}}},db=({user:u,onLogout:i,onProfileClick:l})=>{const[r,c]=Y.useState(u.email?.split("@")[0]||"User");return Y.useEffect(()=>{(async()=>{try{const{data:h}=await ne.from("profiles").select("display_name").eq("id",u.id).single();h?.display_name&&c(h.display_name)}catch(h){console.error("Error loading user profile:",h),c(u.email?.split("@")[0]||"User")}})()},[u.id,u.email]),f.jsx("header",{className:"bg-white border-b border-gray-100 safe-top shadow-sm",children:f.jsx("div",{className:"mobile-container py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[f.jsx("div",{className:"w-11 h-11 sm:w-12 sm:h-12 rounded-2xl bg-gradient-to-br from-orange-500 via-red-500 to-pink-600 flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg sm:text-xl",children:"🔥"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:["Hey, ",r,"!"]}),f.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Keep the streak going 🚀"})]})]}),f.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-shrink-0",children:[f.jsx("button",{onClick:l,className:"w-10 h-10 sm:w-11 sm:h-11 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 text-sm sm:text-base","aria-label":"View profile",children:r[0].toUpperCase()}),f.jsx("button",{onClick:i,className:"w-10 h-10 sm:w-11 sm:h-11 rounded-2xl bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95","aria-label":"Logout",children:f.jsx("span",{className:"text-gray-600 text-lg",children:"→"})})]})]})})})},fb=()=>f.jsx("footer",{className:"safe-bottom bg-white border-t border-gray-200 mt-auto",children:f.jsx("div",{className:"mobile-container",children:f.jsx("div",{className:"py-4",children:f.jsx("p",{className:"text-center text-sm text-gray-600",children:"© 2025 TrackApp. Made with love in Madrid by Carl Lichtl!"})})})}),hb=[{value:"gym",label:"Gym"},{value:"running",label:"Running"},{value:"yoga",label:"Yoga"},{value:"swimming",label:"Swimming"},{value:"cycling",label:"Cycling"},{value:"other",label:"Other"}],mb=[{value:"chest",label:"Chest"},{value:"legs",label:"Legs"},{value:"back",label:"Back"},{value:"arms",label:"Arms"},{value:"shoulders",label:"Shoulders"},{value:"core",label:"Core"},{value:"fullbody",label:"Full Body"}],gb=[{value:"gut",label:"Gut 😊",emoji:"😊"},{value:"mittel",label:"Mittel 😐",emoji:"😐"},{value:"schlecht",label:"Schlecht 😞",emoji:"😞"}],vb=({onSubmit:u,onCancel:i,userId:l,isLoading:r=!1})=>{const[c,d]=Y.useState({sport:"",category:"",mood:""}),h=async g=>{if(g.preventDefault(),!c.sport||!c.mood){alert("Please fill in all required fields!");return}const b={user_id:l,date:new Date().toISOString().split("T")[0],sport:c.sport,category:c.sport==="gym"?c.category:void 0,mood:c.mood};await u(b)},v=g=>{d(b=>({...b,sport:g,category:g!=="gym"?void 0:b.category}))};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add Workout"}),f.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 text-2xl",disabled:r,children:"×"})]}),f.jsxs("form",{onSubmit:h,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sport Type *"}),f.jsxs("select",{value:c.sport,onChange:g=>v(g.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:r,required:!0,children:[f.jsx("option",{value:"",children:"Choose sport..."}),hb.map(g=>f.jsx("option",{value:g.value,children:g.label},g.value))]})]}),c.sport==="gym"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Body Area"}),f.jsxs("select",{value:c.category||"",onChange:g=>d(b=>({...b,category:g.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:r,children:[f.jsx("option",{value:"",children:"Choose body area..."}),mb.map(g=>f.jsx("option",{value:g.value,children:g.label},g.value))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How are you feeling? *"}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:gb.map(g=>f.jsxs("button",{type:"button",onClick:()=>d(b=>({...b,mood:g.value})),className:`p-3 rounded-lg border-2 text-center transition-colors ${c.mood===g.value?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,disabled:r,children:[f.jsx("div",{className:"text-2xl mb-1",children:g.emoji}),f.jsx("div",{className:"text-sm font-medium",children:g.value.charAt(0).toUpperCase()+g.value.slice(1)})]},g.value))})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",disabled:r,children:"Cancel"}),f.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-orange-500 via-red-500 to-orange-600 text-white rounded-2xl font-semibold hover:shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200",disabled:r||!c.sport||!c.mood,children:r?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save"})]})]})]})})},yb=({size:u="md",intensity:i="medium",className:l=""})=>{const r={sm:"w-6 h-8",md:"w-8 h-10",lg:"w-12 h-16"},c={low:["#ff6b35","#ff8e53","#ffa500"],medium:["#ff4500","#ff6347","#ffa500","#ffff00"],high:["#ff0000","#ff4500","#ff6347","#ffa500","#ffff00","#ffffff"]};return f.jsx("div",{className:`${r[u]} ${l} relative flex items-end justify-center`,children:f.jsxs("div",{className:"absolute bottom-0 w-full h-full",children:[f.jsx("div",{className:"absolute bottom-0 w-full h-full rounded-full opacity-90 flame-flicker",style:{background:`radial-gradient(ellipse at bottom, ${c[i][0]} 0%, ${c[i][1]} 40%, transparent 70%)`,transform:"scaleY(1.2)"}}),f.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-3/4 h-3/4 rounded-full opacity-80 flame-flicker-reverse",style:{background:`radial-gradient(ellipse at bottom, ${c[i][1]} 0%, ${c[i][2]} 50%, transparent 70%)`,animationDelay:"0.3s"}}),f.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1/2 h-1/2 rounded-full opacity-70 flame-flicker-fast",style:{background:`radial-gradient(ellipse at bottom, ${c[i][2]||c[i][1]} 0%, ${c[i][3]||c[i][2]} 60%, transparent 80%)`,animationDelay:"0.6s"}}),i==="high"&&f.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1/3 h-1/3 rounded-full opacity-60 flame-flicker-super-fast",style:{background:`radial-gradient(circle, ${c[i][4]} 0%, ${c[i][5]} 40%, transparent 70%)`,animationDelay:"0.9s"}})]})})},bb=({currentStreak:u,isLoading:i=!1})=>{const l=()=>u===0?"low":u<7?"medium":(u<30,"high"),r=()=>u<7?"md":(u<30,"lg");return f.jsxs("div",{className:"bg-gradient-to-br from-orange-400 via-red-500 to-pink-600 rounded-2xl p-6 text-white shadow-xl relative overflow-hidden mobile-card",children:[f.jsx("div",{className:"absolute inset-0 bg-white opacity-5 rounded-2xl"}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -translate-y-16 translate-x-16"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center justify-center space-x-4 sm:space-x-6",children:[f.jsx("div",{className:"relative",children:u>0?f.jsx(yb,{size:r(),intensity:l(),className:"drop-shadow-lg"}):f.jsx("div",{className:"w-8 h-10 sm:w-12 sm:h-16 flex items-center justify-center",children:f.jsx("span",{className:"text-3xl sm:text-4xl opacity-60",children:"🔥"})})}),f.jsx("div",{className:"text-center",children:i?f.jsxs("div",{className:"animate-pulse",children:[f.jsx("div",{className:"h-10 w-20 bg-white bg-opacity-30 rounded-xl mb-2"}),f.jsx("div",{className:"h-5 w-24 bg-white bg-opacity-30 rounded-lg"})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-4xl sm:text-5xl font-bold tracking-tight mb-1",children:u}),f.jsxs("div",{className:"text-sm sm:text-base opacity-90 font-medium",children:[u===1?"Day":"Days"," Streak"]})]})})]}),!i&&f.jsxs("div",{className:"mt-6 text-center text-sm sm:text-base opacity-90 font-medium",children:[u===0&&"Light your fire! Start today! �",u>0&&u<7&&"Building momentum! 🌟",u>=7&&u<30&&"Blazing hot! Keep burning! 🔥",u>=30&&"Unstoppable force! 👑"]})]})]})},pb=({friends:u,isLoading:i=!1,onFriendClick:l,onInviteFriend:r})=>{const c=u.slice(0,6),d=Math.max(0,u.length-6);return i?f.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Freunde"}),f.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse"})]}),f.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:[...Array(3)].map((h,v)=>f.jsxs("div",{className:"flex-shrink-0 text-center animate-pulse",children:[f.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full mb-2"}),f.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded mb-1"}),f.jsx("div",{className:"h-3 w-12 bg-gray-200 rounded mx-auto"})]},v))})]}):f.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Friends ",u.length>0&&`(${u.length})`]}),f.jsx("button",{onClick:r,className:"px-4 py-2 text-sm bg-gradient-to-r from-orange-100 to-red-100 text-orange-700 rounded-full hover:from-orange-200 hover:to-red-200 transition-all duration-200 font-medium",children:"Invite"})]}),u.length===0?f.jsxs("div",{className:"text-center py-8 text-gray-500",children:[f.jsx("div",{className:"text-3xl mb-2",children:"👥"}),f.jsx("p",{className:"text-sm",children:"No friends added yet"}),f.jsx("button",{onClick:r,className:"mt-3 text-orange-600 text-sm hover:text-orange-700 font-medium",children:"Invite friends"})]}):f.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2",children:[c.map(h=>f.jsxs("button",{onClick:()=>l(h),className:"flex-shrink-0 text-center hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[f.jsxs("div",{className:"relative",children:[h.avatar_url?f.jsx("img",{src:h.avatar_url,alt:h.display_name||h.email,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}):f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-red-600 flex items-center justify-center text-white font-semibold text-lg",children:(h.display_name||h.email)[0].toUpperCase()}),h.current_streak>0&&f.jsx("div",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold",children:h.current_streak>99?"99+":h.current_streak})]}),f.jsxs("div",{className:"mt-2 max-w-[64px]",children:[f.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",children:h.display_name||h.email.split("@")[0]}),f.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-600 mt-1",children:[f.jsx("span",{className:"mr-1",children:"🔥"}),f.jsx("span",{children:h.current_streak})]})]})]},h.id)),d>0&&f.jsxs("div",{className:"flex-shrink-0 text-center p-2",children:[f.jsxs("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-semibold",children:["+",d]}),f.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"more"})]})]})]})},Nm=({streaks:u,isLoading:i=!1,onDeleteStreak:l})=>{const[r,c]=Y.useState(null),h=(()=>{const j=[];for(let E=6;E>=0;E--){const D=new Date;D.setDate(D.getDate()-E),j.push({date:D.toISOString().split("T")[0],dayName:D.toLocaleDateString("en-US",{weekday:"short"}),dayNumber:D.getDate(),isToday:E===0})}return j})(),v=j=>u.filter(E=>E.date===j),g=j=>{const E=j.length;return E===0?8:Math.min(8+E*16,64)},b=j=>{if(j.length===0)return"bg-gray-200";const E=j.reduce((D,L)=>{const M=L.mood==="gut"?3:L.mood==="mittel"?2:1;return D+M},0)/j.length;return E>=2.5?"bg-gradient-to-t from-green-400 to-green-500":E>=1.5?"bg-gradient-to-t from-orange-400 to-orange-500":"bg-gradient-to-t from-red-400 to-red-500"},p=j=>{switch(j){case"gym":return"🏋️";case"running":return"🏃";case"cycling":return"🚴";case"swimming":return"🏊";case"hiking":return"🥾";case"yoga":return"🧘";case"other":return"💪";default:return"💪"}},_=j=>{switch(j){case"good":return"😊";case"okay":return"🙂";case"bad":return"😐";default:return"🙂"}};return i?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Last 7 Days"}),f.jsx("div",{className:"flex justify-between items-end h-24 bg-gray-50 rounded-2xl p-4",children:[...Array(7)].map((j,E)=>f.jsx("div",{className:"w-8 bg-gray-200 rounded-t animate-pulse",style:{height:"40px"}},E))})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Last 7 Days"}),f.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[f.jsx("div",{className:"flex justify-between items-end h-24 mb-4",children:h.map(j=>{const E=v(j.date),D=g(E),L=b(E);return f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("button",{onClick:()=>c(r===j.date?null:j.date),className:`w-8 rounded-t-lg transition-all duration-200 hover:opacity-80 ${L} ${r===j.date?"ring-2 ring-orange-400":""}`,style:{height:`${D}px`},children:E.length>0&&f.jsx("div",{className:"text-xs text-white font-bold pt-1",children:E.length})}),f.jsxs("div",{className:"mt-2 text-center",children:[f.jsx("div",{className:"text-xs text-gray-600",children:j.dayName}),f.jsx("div",{className:`text-xs font-medium ${j.isToday?"text-orange-600":"text-gray-500"}`,children:j.dayNumber})]})]},j.date)})}),f.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Tap on a day for details"})]}),r&&f.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900",children:new Date(r).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long"})}),f.jsx("button",{onClick:()=>c(null),className:"w-6 h-6 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 transition-colors",children:"×"})]}),v(r).length===0?f.jsx("p",{className:"text-gray-500 text-center py-4",children:"No workouts on this day"}):f.jsx("div",{className:"space-y-3",children:v(r).map((j,E)=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"text-2xl",children:p(j.sport)}),f.jsxs("div",{children:[f.jsxs("div",{className:"font-medium text-gray-900 capitalize",children:[j.sport,j.category&&` • ${j.category}`]}),f.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[f.jsx("span",{className:"mr-1",children:_(j.mood)}),j.mood]})]})]}),l&&f.jsx("button",{onClick:()=>l(j),className:"w-8 h-8 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center text-red-600 transition-colors",children:"🗑️"})]},E))})]})]})},xb=({user:u,onClose:i})=>{const[l,r]=Y.useState(null),[c,d]=Y.useState(!1),[h,v]=Y.useState(!1),g=async()=>{d(!0);try{const p=Array.from(crypto.getRandomValues(new Uint8Array(16))).map(E=>E.toString(16).padStart(2,"0")).join(""),{error:_}=await ne.from("friends").insert({inviter_id:u.id,invite_token:p,status:"pending"});if(_){console.error("Error creating invite:",_),alert("Fehler beim Erstellen der Einladung");return}const j=`${window.location.origin}/invite/${p}`;r(j)}catch(p){console.error("Failed to generate invite:",p),alert("Fehler beim Generieren des Links")}finally{d(!1)}},b=async()=>{if(l)try{await navigator.clipboard.writeText(l),v(!0),setTimeout(()=>v(!1),2e3)}catch{const p=document.createElement("textarea");p.value=l,document.body.appendChild(p),p.select(),document.execCommand("copy"),document.body.removeChild(p),v(!0),setTimeout(()=>v(!1),2e3)}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-sm w-full shadow-xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Freund einladen"}),f.jsx("button",{onClick:i,className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 transition-colors",children:"×"})]}),l?f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center mx-auto mb-4",children:f.jsx("span",{className:"text-2xl",children:"✅"})}),f.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Link erstellt!"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Teile diesen Link mit deinem Freund:"})]}),f.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 text-sm text-gray-700 break-all border border-gray-200",children:l}),f.jsx("button",{onClick:b,className:"w-full py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:h?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("span",{className:"mr-2",children:"✓"}),"Kopiert!"]}):"Link kopieren"}),f.jsx("p",{className:"text-xs text-gray-500 text-center leading-relaxed",children:"Wenn dein Freund auf den Link klickt und sich anmeldet, werdet ihr automatisch verbunden. 🚀"})]}):f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 via-red-500 to-yellow-500 flex items-center justify-center mx-auto mb-6",children:f.jsx("span",{className:"text-2xl",children:"👥"})}),f.jsx("p",{className:"text-gray-600 mb-8",children:"Erstelle einen Einladungslink für deine Freunde!"}),f.jsx("button",{onClick:g,disabled:c,className:"w-full py-4 bg-gradient-to-r from-orange-500 via-red-500 to-orange-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:transform-none transition-all duration-200",children:c?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Erstelle Link..."]}):"Link generieren"})]})]})})};class wb{vapidPublicKey="YOUR_VAPID_PUBLIC_KEY";isSupported(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}async requestPermission(){if(!this.isSupported())throw new Error("Push notifications are not supported in this browser");return await Notification.requestPermission()}async subscribe(){if(!this.isSupported())throw new Error("Push notifications are not supported");if(await this.requestPermission()!=="granted")throw new Error("Permission denied for notifications");try{const l=await navigator.serviceWorker.register("/sw.js");await navigator.serviceWorker.ready;const r=await l.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(this.vapidPublicKey)});return await this.saveSubscription(r),r}catch(l){return console.error("Error subscribing to push notifications:",l),null}}async saveSubscription(i){const{data:l}=await ne.auth.getUser();if(!l.user)throw new Error("User not authenticated");const r=i.toJSON(),c={user_id:l.user.id,endpoint:i.endpoint,p256dh:r.keys?.p256dh||"",auth:r.keys?.auth||""},{error:d}=await ne.from("push_subscriptions").upsert(c);if(d)throw console.error("Error saving push subscription:",d),d}async sendMotivationNotification(i,l){const{data:r}=await ne.auth.getUser();if(!r.user)throw new Error("User not authenticated");try{const{data:c,error:d}=await ne.rpc("check_friend_needs_motivation",{friend_id:i});if(d)throw d.message.includes("function public.check_friend_needs_motivation")||d.message.includes("does not exist")?new Error("Push notification system is not set up. Please contact support."):(console.error("Error checking if friend needs motivation:",d),d);if(!c)throw new Error("Friend has been active recently and doesn't need motivation");const{error:h}=await ne.rpc("send_motivation_notification",{friend_id:i,motivation_message:l});if(h)throw h.message.includes("function public.send_motivation_notification")||h.message.includes("does not exist")?new Error("Push notification system is not set up. Please contact support."):(console.error("Error sending motivation notification:",h),h)}catch(c){throw console.error("Error in sendMotivationNotification:",c),c}this.showLocalNotification("Motivation sent!","Your friend will receive a push notification to get back to training 💪")}showLocalNotification(i,l){Notification.permission==="granted"&&new Notification(i,{body:l,icon:"/icon-192x192.png",badge:"/badge-72x72.png"})}async getNotifications(){const{data:i}=await ne.auth.getUser();if(!i.user)throw new Error("User not authenticated");try{const{data:l,error:r}=await ne.from("notifications").select(`
          *,
          sender:profiles!notifications_sender_id_fkey(display_name)
        `).eq("recipient_id",i.user.id).order("created_at",{ascending:!1});if(r){if(r.message.includes('relation "public.notifications" does not exist'))return console.warn("Notifications table not found. Please run push-notification-setup.sql in Supabase."),[];throw console.error("Error fetching notifications:",r),r}return l||[]}catch(l){return console.error("Error in getNotifications:",l),[]}}async markAsRead(i){try{const{error:l}=await ne.from("notifications").update({read:!0}).eq("id",i);if(l){if(l.message.includes('relation "public.notifications" does not exist')){console.warn("Notifications table not found. Please run push-notification-setup.sql in Supabase.");return}throw console.error("Error marking notification as read:",l),l}}catch(l){console.error("Error in markAsRead:",l)}}async checkFriendNeedsMotivation(i){try{const{data:l,error:r}=await ne.rpc("check_friend_needs_motivation",{friend_id:i});return r?r.message.includes("function public.check_friend_needs_motivation")||r.message.includes("does not exist")?(console.warn("Notification functions not found. Please run push-notification-setup.sql in Supabase."),!1):(console.error("Error checking if friend needs motivation:",r),!1):l||!1}catch(l){return console.error("Error in checkFriendNeedsMotivation:",l),!1}}urlBase64ToUint8Array(i){const l="=".repeat((4-i.length%4)%4),r=(i+l).replace(/-/g,"+").replace(/_/g,"/"),c=window.atob(r),d=new Uint8Array(c.length);for(let h=0;h<c.length;++h)d[h]=c.charCodeAt(h);return d}}const ei=new wb,_b=({friend:u,onBack:i,onRemoveFriend:l})=>{const[r,c]=Y.useState([]),[d,h]=Y.useState(!0),[v,g]=Y.useState(null),[b,p]=Y.useState(!1),[_,j]=Y.useState(!1),[E,D]=Y.useState(""),[L,M]=Y.useState(!1),V=Y.useCallback(async()=>{try{h(!0),g(null);const Z=new Date;Z.setDate(Z.getDate()-30);const{data:he,error:ke}=await ne.from("streaks").select("*").eq("user_id",u.id).gte("date",Z.toISOString().split("T")[0]).order("date",{ascending:!1});if(ke)throw new Error("Error loading friend data");c(he||[])}catch(Z){console.error("Error loading friend streaks:",Z),g(Z instanceof Error?Z.message:"An error occurred")}finally{h(!1)}},[u.id]),P=Y.useCallback(async()=>{try{const Z=await ei.checkFriendNeedsMotivation(u.id);p(Z)}catch(Z){console.error("Error checking if friend needs motivation:",Z)}},[u.id]);Y.useEffect(()=>{V(),P()},[u.id,V,P]);const B=async()=>{if(!_)try{j(!0),await ei.sendMotivationNotification(u.id,E||void 0),M(!1),D(""),await P()}catch(Z){console.error("Error sending motivation:",Z),g(Z instanceof Error?Z.message:"Failed to send motivation")}finally{j(!1)}},K=Z=>{if(Z.length===0)return 0;const he=[...Z].sort((pe,Ze)=>new Date(Ze.date).getTime()-new Date(pe.date).getTime());let ke=0;const Ke=new Date;for(let pe=0;pe<he.length;pe++){const Ze=new Date(he[pe].date);if(Math.floor((Ke.getTime()-Ze.getTime())/(1e3*60*60*24))===pe)ke++;else break}return ke},Q=Z=>{if(Z.length===0)return 0;const he=[...Z].sort((Ze,at)=>new Date(Ze.date).getTime()-new Date(at.date).getTime());let ke=0,Ke=0,pe=null;for(const Ze of he){const at=new Date(Ze.date);pe&&Math.abs(at.getTime()-pe.getTime())<=24*60*60*1e3?Ke++:Ke=1,ke=Math.max(ke,Ke),pe=at}return ke},ie=K(r),fe=Q(r);return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[f.jsx("header",{className:"bg-white border-b border-gray-100 px-6 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{onClick:i,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 transition-colors",children:"←"}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-red-600 flex items-center justify-center text-white font-semibold text-lg",children:(u.display_name||u.email||"F")[0].toUpperCase()}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-gray-900",children:u.display_name||u.email?.split("@")[0]||"Friend"}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Friend since ",new Date(u.created_at).toLocaleDateString("en-US")]})]})]}),f.jsx("button",{onClick:()=>l(u.id),className:"w-10 h-10 rounded-full bg-red-50 hover:bg-red-100 flex items-center justify-center text-red-600 transition-colors",title:"Remove friend",children:"🗑️"})]})}),f.jsx("main",{className:"pb-20",children:f.jsxs("div",{className:"px-6 py-8 space-y-8",children:[f.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 via-red-500 to-yellow-500 mb-4",children:f.jsx("span",{className:"text-2xl",children:"🔥"})}),f.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[ie," Days"]}),f.jsxs("p",{className:"text-gray-600",children:["Current streak by ",u.display_name||u.email?.split("@")[0]||"Friend"]})]})}),f.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100",children:d?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity"}),f.jsx("div",{className:"flex justify-center py-8",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})})]}):v?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"😕"}),f.jsx("p",{className:"text-gray-600",children:v}),f.jsx("button",{onClick:V,className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors",children:"Try again"})]}):f.jsx(Nm,{streaks:r,isLoading:d})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:r.length}),f.jsx("div",{className:"text-sm text-gray-600",children:"Workouts (30 days)"})]}),f.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:fe}),f.jsx("div",{className:"text-sm text-gray-600",children:"Best Streak"})]})]}),f.jsx("div",{className:"bg-gradient-to-r from-orange-100 to-red-100 rounded-3xl p-6 border border-orange-200",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl mb-3",children:"💪"}),f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Motivate ",u.display_name||u.email?.split("@")[0]||"your friend","!"]}),b?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:[u.display_name||u.email?.split("@")[0]||"Your friend"," hasn't been training recently. Send them a motivational push notification!"]}),L?f.jsxs("div",{className:"space-y-3",children:[f.jsx("textarea",{value:E,onChange:Z=>D(Z.target.value),placeholder:"Write your motivational message...",className:"w-full p-3 border border-gray-300 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:3}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:B,disabled:_,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 text-white font-semibold py-3 px-6 rounded-2xl hover:from-orange-600 hover:to-red-600 transition-all duration-200 disabled:opacity-50",children:_?f.jsxs("span",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):"📨 Send Message"}),f.jsx("button",{onClick:()=>{M(!1),D("")},className:"bg-gray-200 text-gray-600 font-medium py-3 px-6 rounded-2xl hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:B,disabled:_,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white font-semibold py-3 px-6 rounded-2xl hover:from-orange-600 hover:to-red-600 transition-all duration-200 disabled:opacity-50",children:_?f.jsxs("span",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):"🚀 Send Quick Motivation"}),f.jsx("button",{onClick:()=>M(!0),className:"w-full bg-white text-gray-600 font-medium py-2 px-4 rounded-xl hover:bg-gray-50 transition-colors border border-gray-200",children:"✏️ Write Custom Message"})]})]}):f.jsxs("div",{children:[f.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:[u.display_name||u.email?.split("@")[0]||"Your friend"," has been active recently! Keep up the great work together! 🚀"]}),f.jsx("div",{className:"text-xs text-gray-500",children:"You can send motivational messages when your friend hasn't trained for 2+ days"})]})]})}),f.jsx("div",{className:"bg-gray-50 rounded-3xl p-6 border border-gray-200",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl mb-3",children:"⚠️"}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Remove Friend"}),f.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["If you remove ",u.display_name||u.email?.split("@")[0]||"this friend",", they will no longer appear in your friends list and you won't be able to see their activity."]}),f.jsx("button",{onClick:()=>l(u.id),className:"bg-red-500 hover:bg-red-600 text-white font-semibold py-3 px-6 rounded-2xl transition-all duration-200",children:"🗑️ Remove Friend"})]})})]})})]})};class Sb{analyzeTrainingData(i){const l=i.filter(E=>{const D=new Date(E.date),L=new Date;return L.setDate(L.getDate()-30),D>=L}),r=i.filter(E=>{const D=new Date(E.date),L=new Date;return L.setDate(L.getDate()-7),D>=L}),c=Math.round(l.length/30*7*10)/10,d={gut:0,mittel:0,schlecht:0};l.forEach(E=>{d[E.mood]++});const h=this.calculateMoodTrend(i.slice(0,14),i.slice(14,28)),v=l.reduce((E,D)=>(E[D.sport]=(E[D.sport]||0)+1,E),{}),g=Object.entries(v).sort(([,E],[,D])=>D-E)[0]?.[0]||"gym",b=Math.min(10,Object.keys(v).length*2),p=this.calculateConsistency(i),_={gut:3,mittel:2,schlecht:1},j=r.length>0?r.reduce((E,D)=>E+_[D.mood],0)/r.length:2;return{weeklyFrequency:c,moodPattern:{...d,trend:h},sportVariety:{dominantSport:g,varietyScore:b},consistency:p,recentPerformance:{lastWeekWorkouts:r.length,moodAverage:j}}}generateFeedback(i){const{weeklyFrequency:l,moodPattern:r,sportVariety:c,consistency:d,recentPerformance:h}=i,v=Math.min(100,l/4*40),g=(r.gut*3+r.mittel*2+r.schlecht*1)/(r.gut+r.mittel+r.schlecht)/3*30,b=c.varietyScore*2,p=d.score,_=Math.round(v+g+b+p);let j,E,D;const L=[];_>=80?(j="Fantastic Progress! 🏆",E="You're crushing it! Your training consistency and positive mood show you've found a great rhythm.",D="🔥"):_>=60?(j="Great Job! Keep Building 💪",E="You're doing well with your training. Let's fine-tune a few areas to reach the next level.",D="⭐"):_>=40?(j="Good Foundation 🌱",E="You've established a good base. With some adjustments, you can really accelerate your progress.",D="🌟"):(j="Let's Get Back on Track 🚀",E="Everyone has ups and downs. Let's create a plan to get you feeling strong and motivated again.",D="💫"),l<2?L.push("Try to aim for at least 2-3 workouts per week to build momentum"):l>6&&L.push("Great frequency! Consider adding 1-2 rest days for recovery"),r.schlecht>r.gut&&(L.push("Focus on workouts you enjoy - fun activities boost both mood and consistency"),L.push("Consider shorter, lighter sessions when feeling low energy")),c.varietyScore<4&&L.push(`Mix up your routine! Try adding yoga, swimming, or cycling to your ${c.dominantSport} sessions`),d.score<5&&L.push("Try scheduling workouts at the same time each day to build a habit"),h.lastWeekWorkouts===0&&L.push("Start with just one 20-minute session this week - small steps lead to big wins!");const M=["Remember: consistency beats perfection every time! 🎯","Your body adapts to challenges - each workout makes you stronger! 💪","Progress isn't always linear - trust the process! 📈","Listen to your body - rest is part of training too! 😴","Celebrate small wins - they add up to big changes! 🎉"],V=M[Math.floor(Math.random()*M.length)];let P;return l<3?P=`Aim for ${Math.ceil(l)+1} workouts next week`:d.currentStreak<7?P="Build a 7-day training streak":c.varietyScore<6?P="Try a new type of workout this week":P="Focus on enjoying your workouts and listening to your body",{overallScore:_,title:j,message:E,recommendations:L.slice(0,3),motivationalTip:V,nextGoal:P,emoji:D}}calculateMoodTrend(i,l){if(i.length===0||l.length===0)return"stable";const r={gut:3,mittel:2,schlecht:1},c=i.reduce((h,v)=>h+r[v.mood],0)/i.length,d=l.reduce((h,v)=>h+r[v.mood],0)/l.length;return c>d+.2?"improving":c<d-.2?"declining":"stable"}calculateConsistency(i){if(i.length===0)return{score:0,longestStreak:0,currentStreak:0};const l=[...i].sort((_,j)=>new Date(_.date).getTime()-new Date(j.date).getTime());let r=0,c=0,d=1,h=null;for(const _ of l){const j=new Date(_.date);if(h){const E=Math.abs(j.getTime()-h.getTime())/864e5;E<=1||E<=3?d++:(r=Math.max(r,d),d=1)}h=j}r=Math.max(r,d);const v=new Date,g=new Date(l[l.length-1]?.date||v);return Math.floor((v.getTime()-g.getTime())/(1e3*60*60*24))<=3?c=d:c=0,{score:Math.min(10,Math.round(r/30*10)),longestStreak:r,currentStreak:c}}}const Ml=new Sb,jb=({streaks:u,isVisible:i,onClose:l})=>{const[r,c]=Y.useState(null),[d,h]=Y.useState(!1),v=Y.useCallback(async()=>{h(!0);try{await new Promise(p=>setTimeout(p,1500));const g=Ml.analyzeTrainingData(u),b=Ml.generateFeedback(g);c(b)}catch(g){console.error("Error generating AI feedback:",g)}finally{h(!1)}},[u]);return Y.useEffect(()=>{i&&u.length>0&&v()},[i,u.length,v]),i?f.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-95 flex items-end sm:items-center justify-center p-0 sm:p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl w-full sm:max-w-lg sm:w-full max-h-[95vh] flex flex-col shadow-2xl border-t border-gray-100 sm:border",children:[f.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 via-purple-600 to-blue-700 text-white rounded-t-3xl flex-shrink-0 shadow-lg",children:[f.jsx("div",{className:"p-4 sm:p-6",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-11 h-11 sm:w-14 sm:h-14 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center backdrop-blur-sm border border-white border-opacity-30",children:f.jsx("span",{className:"text-xl sm:text-2xl",children:"🤖"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg sm:text-xl font-bold tracking-tight",children:"AI Training Coach"}),f.jsx("p",{className:"text-indigo-100 text-xs sm:text-sm font-medium",children:"Your personal fitness advisor"})]})]}),f.jsx("button",{onClick:l,className:"w-11 h-11 bg-white bg-opacity-20 rounded-xl flex items-center justify-center text-white hover:bg-opacity-30 transition-all duration-200 text-xl leading-none backdrop-blur-sm border border-white border-opacity-20","aria-label":"Close AI Coach",children:"✕"})]})}),f.jsx("div",{className:"px-4 sm:px-6 pb-4",children:f.jsx("div",{className:"w-full bg-white bg-opacity-20 rounded-full h-1",children:f.jsx("div",{className:"bg-white h-1 rounded-full transition-all duration-1000",style:{width:d?"30%":"100%"}})})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto touch-scroll p-4 sm:p-6 bg-gradient-to-b from-gray-50 to-white min-h-0",children:d?f.jsxs("div",{className:"text-center py-8 sm:py-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-2xl mb-6 shadow-inner",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-10 sm:w-10 border-3 border-indigo-300 border-t-indigo-600"})}),f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3",children:"Analyzing Your Training"}),f.jsx("p",{className:"text-gray-600 text-sm sm:text-base leading-relaxed",children:"Processing your workout data and mood patterns to provide personalized insights"}),f.jsxs("div",{className:"mt-6 flex justify-center space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}):r?f.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"inline-flex items-center justify-center w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 rounded-3xl mb-6 shadow-lg relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-white opacity-20 rounded-3xl"}),f.jsx("span",{className:"text-3xl sm:text-4xl relative z-10",children:r.emoji})]}),f.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 tracking-tight",children:r.title}),f.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[f.jsx("span",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:r.overallScore}),f.jsx("span",{className:"text-gray-400 text-lg font-medium",children:"/100"})]}),f.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 mb-6 bg-white rounded-xl p-3 border border-gray-100 shadow-sm",children:[f.jsx("div",{className:"font-semibold text-gray-800 mb-2",children:"Score Breakdown:"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Frequency:"}),f.jsx("span",{className:"font-medium",children:"40pts"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Mood:"}),f.jsx("span",{className:"font-medium",children:"30pts"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Variety:"}),f.jsx("span",{className:"font-medium",children:"20pts"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Consistency:"}),f.jsx("span",{className:"font-medium",children:"10pts"})]})]})]}),f.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 sm:h-4 mb-6 overflow-hidden shadow-inner",children:f.jsx("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-blue-500 h-3 sm:h-4 rounded-full transition-all duration-1500 ease-out shadow-sm",style:{width:`${r.overallScore}%`}})}),f.jsx("p",{className:"text-gray-700 text-sm sm:text-base leading-relaxed font-medium",children:r.message})]}),r.recommendations.length>0&&f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-5 border border-blue-100 shadow-sm",children:[f.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center text-base sm:text-lg",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-lg flex items-center justify-center mr-3",children:f.jsx("span",{className:"text-white text-sm",children:"💡"})}),"Personalized Recommendations"]}),f.jsx("ul",{className:"space-y-3",children:r.recommendations.map((g,b)=>f.jsxs("li",{className:"text-sm sm:text-base text-gray-700 flex items-start bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[f.jsx("span",{className:"text-blue-500 mr-3 mt-0.5 font-bold",children:"•"}),f.jsx("span",{className:"leading-relaxed",children:g})]},b))})]}),f.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-2xl p-5 border border-orange-100 shadow-sm",children:[f.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center text-base sm:text-lg",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-400 to-red-500 rounded-lg flex items-center justify-center mr-3",children:f.jsx("span",{className:"text-white text-sm",children:"🎯"})}),"Your Next Challenge"]}),f.jsx("div",{className:"bg-white rounded-lg p-4 border border-orange-100 shadow-sm",children:f.jsx("p",{className:"text-gray-700 text-sm sm:text-base leading-relaxed font-medium",children:r.nextGoal})})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-5 border border-green-100 shadow-sm",children:[f.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center text-base sm:text-lg",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-emerald-500 rounded-lg flex items-center justify-center mr-3",children:f.jsx("span",{className:"text-white text-sm",children:"⚡"})}),"Daily Motivation"]}),f.jsx("div",{className:"bg-white rounded-lg p-4 border border-green-100 shadow-sm",children:f.jsxs("p",{className:"text-gray-700 text-sm sm:text-base leading-relaxed italic font-medium",children:['"',r.motivationalTip,'"']})})]})]}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-6",children:f.jsx("span",{className:"text-gray-400 text-3xl",children:"🤖"})}),f.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2",children:"No Training Data"}),f.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Start logging your workouts to receive personalized AI insights and recommendations!"})]})}),f.jsx("div",{className:"bg-white border-t border-gray-100 flex-shrink-0 shadow-lg",children:f.jsx("div",{className:"p-4 sm:p-5",children:f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0",children:[f.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 text-center sm:text-left flex items-center",children:[f.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Analysis based on last 30 days"]}),f.jsx("button",{onClick:l,className:"w-full sm:w-auto px-6 py-3 sm:px-5 sm:py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl text-sm sm:text-base font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 mobile-btn",children:f.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[f.jsx("span",{children:"Got it!"}),f.jsx("span",{className:"text-lg",children:"💪"})]})})]})})})]})}):null},Nb=({streaks:u,onOpenFullAnalysis:i})=>{if(u.length===0)return f.jsx("div",{className:"bg-gradient-to-br from-indigo-50 via-purple-50 to-blue-50 rounded-2xl p-4 sm:p-5 border border-indigo-100 shadow-sm mobile-card",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[f.jsx("div",{className:"w-11 h-11 sm:w-12 sm:h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-white text-lg sm:text-xl",children:"🤖"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"font-bold text-gray-900 text-sm sm:text-base mb-1",children:"AI Training Coach"}),f.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:"Start training to unlock personalized insights and recommendations!"})]})]}),f.jsx("button",{onClick:i,className:"bg-white bg-opacity-90 hover:bg-opacity-100 text-indigo-600 hover:text-indigo-700 text-xs sm:text-sm font-semibold px-3 py-2 sm:px-4 sm:py-2 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md border border-indigo-200 flex-shrink-0 ml-3",children:"Learn More →"})]})});const l=Ml.analyzeTrainingData(u),r=Ml.generateFeedback(l),d=(()=>{const{weeklyFrequency:h,moodPattern:v,recentPerformance:g}=l;return g.lastWeekWorkouts===0?{text:"Time to get back on track! Your body is ready for a great comeback.",emoji:"💪",color:"text-orange-600"}:h>=4?{text:"Amazing consistency! You're building incredible momentum.",emoji:"🔥",color:"text-green-600"}:v.gut>v.schlecht?{text:"Great mood trends! Your positive energy is showing in your workouts.",emoji:"😊",color:"text-blue-600"}:{text:"Keep building your routine. Small steps lead to big victories!",emoji:"🌟",color:"text-purple-600"}})();return f.jsx("div",{className:"bg-gradient-to-br from-indigo-50 via-purple-50 to-blue-50 rounded-2xl p-3 sm:p-4 border border-indigo-100 shadow-sm mobile-card",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[f.jsx("div",{className:"w-9 h-9 sm:w-11 sm:h-11 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg",children:f.jsx("span",{className:"text-white text-sm sm:text-lg",children:"🤖"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 mb-1",children:[f.jsx("h4",{className:"font-bold text-gray-900 text-xs sm:text-sm truncate",children:"AI Coach"}),f.jsx("span",{className:"text-sm sm:text-lg flex-shrink-0",children:d.emoji}),f.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}),f.jsxs("span",{className:"text-xs sm:text-sm font-bold text-indigo-600",children:[r.overallScore,"/100"]})]})]}),f.jsx("p",{className:`text-xs sm:text-sm ${d.color} font-semibold line-clamp-2 leading-tight`,children:d.text})]})]}),f.jsxs("button",{onClick:i,className:"bg-white bg-opacity-90 hover:bg-opacity-100 text-indigo-600 hover:text-indigo-700 text-xs sm:text-sm font-bold px-2 py-1.5 sm:px-3 sm:py-2 rounded-xl transition-all duration-200 flex-shrink-0 ml-2 shadow-sm hover:shadow-md border border-indigo-200 transform hover:scale-105 active:scale-95",children:[f.jsx("span",{className:"hidden sm:inline",children:"Full Analysis"}),f.jsx("span",{className:"sm:hidden",children:"Full"}),f.jsx("span",{className:"ml-1",children:"→"})]})]})})},Eb=({user:u,onBack:i,onLogout:l})=>{const[r,c]=Y.useState(null),[d,h]=Y.useState(""),[v,g]=Y.useState(!0),[b,p]=Y.useState(!1),[_,j]=Y.useState(""),E=Y.useCallback(async()=>{try{const{data:M,error:V}=await ne.from("profiles").select("*").eq("id",u.id).single();if(V&&V.code!=="PGRST116")throw V;if(M)c(M),h(M.display_name||"");else{const{data:P,error:B}=await ne.from("profiles").insert([{id:u.id,display_name:u.email?.split("@")[0]||"User"}]).select().single();if(B)throw B;c(P),h(P.display_name||"")}}catch(M){console.error("Error loading profile:",M),j("Error loading profile")}finally{g(!1)}},[u.id,u.email]);Y.useEffect(()=>{E()},[E]);const D=async()=>{if(!(!r||!d.trim()))try{p(!0),j("");const{error:M}=await ne.from("profiles").update({display_name:d.trim()}).eq("id",u.id);if(M)throw M;j("Profile saved successfully!"),setTimeout(()=>j(""),3e3)}catch(M){console.error("Error saving:",M),j("Error saving")}finally{p(!1)}},L=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{p(!0);const{error:M}=await ne.rpc("delete_user_data");if(M)throw M;await ne.auth.signOut(),l()}catch(M){console.error("Error deleting:",M),j("Error deleting account"),p(!1)}};return v?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[f.jsx("header",{className:"bg-white border-b border-gray-100 px-6 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{onClick:i,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 transition-colors",children:"←"}),f.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Profile"}),f.jsx("div",{className:"w-10"})," "]})}),f.jsxs("main",{className:"px-6 py-8 space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-orange-400 to-red-600 flex items-center justify-center text-white font-bold text-2xl mb-4",children:(d||u.email||"U")[0].toUpperCase()}),f.jsxs("p",{className:"text-gray-600 text-sm",children:["Registered since ",new Date(u.created_at).toLocaleDateString("en-US")]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Display Name"}),f.jsx("input",{type:"text",value:d,onChange:M=>h(M.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-gray-900",placeholder:"Your name",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),f.jsx("input",{type:"email",value:u.email||"",disabled:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-2xl bg-gray-50 text-gray-500 cursor-not-allowed"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email address cannot be changed"})]}),f.jsx("button",{onClick:D,disabled:b||!d.trim(),className:"w-full py-3 bg-gradient-to-r from-orange-500 via-red-500 to-orange-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200",children:b?"Saving...":"Save"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("button",{onClick:l,className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-2xl transition-colors",children:"Sign Out"}),f.jsx("button",{onClick:L,disabled:b,className:"w-full py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?"Deleting...":"Delete Account"})]}),_&&f.jsx("div",{className:`p-4 rounded-2xl text-sm ${_.includes("successfully")?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:_})]})]})},Tb=({onSetupComplete:u})=>{const[i,l]=Y.useState(!1),[r,c]=Y.useState("default"),[d,h]=Y.useState(!1),[v,g]=Y.useState(!1);Y.useEffect(()=>{const _=ei.isSupported();l(_),_&&(c(Notification.permission),b())},[]);const b=async()=>{try{if("serviceWorker"in navigator){const _=await navigator.serviceWorker.getRegistration();if(_){const j=await _.pushManager.getSubscription();h(!!j)}}}catch(_){console.error("Error checking subscription status:",_)}},p=async()=>{if(!i){alert("Push notifications are not supported in this browser");return}g(!0);try{await ei.subscribe()?(h(!0),c(Notification.permission),u?.(!0)):u?.(!1)}catch(_){console.error("Error setting up notifications:",_),alert("Failed to set up push notifications: "+(_ instanceof Error?_.message:"Unknown error")),u?.(!1)}finally{g(!1)}};return i?r==="granted"&&d?f.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-4 text-center",children:[f.jsx("div",{className:"text-green-600 text-sm font-medium mb-2",children:"🔔 Notifications enabled"}),f.jsx("div",{className:"text-green-600 text-xs",children:"You'll receive push notifications when friends send you motivation"})]}):r==="denied"?f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 text-center",children:[f.jsx("div",{className:"text-red-600 text-sm font-medium mb-2",children:"🔕 Notifications blocked"}),f.jsx("div",{className:"text-red-600 text-xs",children:"Enable notifications in your browser settings to receive motivation from friends"})]}):f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4 text-center",children:[f.jsx("div",{className:"text-blue-600 text-sm font-medium mb-3",children:"🔔 Enable notifications"}),f.jsx("div",{className:"text-blue-600 text-xs mb-4",children:"Get motivated by your friends when you need it most!"}),f.jsx("button",{onClick:p,disabled:v,className:"bg-blue-500 text-white font-medium py-2 px-4 rounded-xl hover:bg-blue-600 transition-colors disabled:opacity-50 text-sm",children:v?f.jsxs("span",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Setting up..."]}):"Enable Notifications"})]}):f.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 text-center",children:f.jsx("div",{className:"text-yellow-600 text-sm",children:"Push notifications are not supported in this browser"})})},Ab=()=>f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6 text-center",children:[f.jsx("div",{className:"text-blue-600 text-4xl mb-4",children:"🛠️"}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Push Notifications Setup Required"}),f.jsxs("div",{className:"text-blue-600 text-sm mb-4 space-y-2",children:[f.jsx("p",{children:"To enable push notifications, please run the following SQL in your Supabase SQL editor:"}),f.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded-xl p-3 text-left",children:f.jsx("code",{className:"text-xs font-mono text-gray-800",children:"-- Copy and paste the contents of push-notification-setup.sql"})})]}),f.jsx("div",{className:"text-blue-500 text-xs",children:"After running the SQL, refresh the page to enable push notifications."})]}),Ob=({onNotificationRead:u})=>{const[i,l]=Y.useState([]),[r,c]=Y.useState(!0),[d,h]=Y.useState(null);Y.useEffect(()=>{v()},[]);const v=async()=>{try{c(!0),h(null);const p=await ei.getNotifications();l(p)}catch(p){console.error("Error loading notifications:",p),h(p instanceof Error?p.message:"Failed to load notifications")}finally{c(!1)}},g=async p=>{try{await ei.markAsRead(p),l(_=>_.map(j=>j.id===p?{...j,read:!0}:j)),u?.(p)}catch(_){console.error("Error marking notification as read:",_)}},b=p=>{const _=new Date(p),E=Math.floor((new Date().getTime()-_.getTime())/(1e3*60));return E<1?"just now":E<60?`${E}m ago`:E<1440?`${Math.floor(E/60)}h ago`:`${Math.floor(E/1440)}d ago`};return r?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),f.jsx("div",{className:"flex justify-center py-8",children:f.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"})})]}):d?d.includes('relation "public.notifications" does not exist')||d.includes("Failed to load notifications")?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),f.jsx(Ab,{})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 text-center",children:[f.jsx("div",{className:"text-red-600 text-sm",children:d}),f.jsx("button",{onClick:v,className:"mt-3 bg-red-500 text-white py-2 px-4 rounded-xl hover:bg-red-600 transition-colors text-sm",children:"Try Again"})]})]}):i.length===0?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),f.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl p-8 text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:"🔔"}),f.jsx("div",{className:"text-gray-600 text-sm",children:"No notifications yet"}),f.jsx("div",{className:"text-gray-500 text-xs mt-2",children:"Your friends will be able to send you motivational messages when you need them!"})]})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),f.jsx("div",{className:"space-y-3",children:i.map(p=>f.jsx("div",{className:`bg-white rounded-2xl p-4 border ${p.read?"border-gray-200":"border-orange-200 bg-orange-50"} transition-all duration-200`,children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold ${p.type==="motivation"?"bg-gradient-to-br from-orange-400 to-red-600":"bg-gradient-to-br from-blue-400 to-purple-600"}`,children:p.type==="motivation"?"💪":"🔔"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:p.title}),f.jsx("span",{className:"text-xs text-gray-500 ml-2",children:b(p.created_at)})]}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.message}),f.jsxs("div",{className:"flex items-center justify-between mt-3",children:[f.jsxs("span",{className:"text-xs text-gray-500",children:["from ",p.sender?.display_name||"Friend"]}),!p.read&&f.jsx("button",{onClick:()=>g(p.id),className:"text-xs text-orange-600 hover:text-orange-700 font-medium",children:"Mark as read"})]})]})]})},p.id))})]})};class kb{deferredPrompt=null;isInstalled=!1;isStandalone=!1;constructor(){this.init()}init(){this.checkInstallationStatus(),window.addEventListener("beforeinstallprompt",i=>{console.log("PWA install prompt available"),i.preventDefault(),this.deferredPrompt=i,this.showInstallPrompt()}),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),this.isInstalled=!0,this.hideInstallPrompt(),this.showInstalledMessage()}),this.registerServiceWorker()}checkInstallationStatus(){this.isStandalone=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),this.isInstalled=this.isStandalone}async registerServiceWorker(){if("serviceWorker"in navigator)try{const i=await navigator.serviceWorker.register("/sw.js");console.log("Service worker registered:",i),i.addEventListener("updatefound",()=>{console.log("New service worker version found"),this.handleServiceWorkerUpdate(i)})}catch(i){console.error("Service worker registration failed:",i)}}handleServiceWorkerUpdate(i){const l=i.installing;l&&l.addEventListener("statechange",()=>{l.state==="installed"&&navigator.serviceWorker.controller&&this.showUpdatePrompt()})}showInstallPrompt(){if(this.isInstalled)return;const i=this.createInstallBanner();document.body.appendChild(i)}createInstallBanner(){const i=document.createElement("div");i.id="pwa-install-banner",i.className="fixed bottom-4 left-4 right-4 bg-gradient-to-r from-orange-500 to-red-500 text-white p-4 rounded-2xl shadow-lg z-50 flex items-center justify-between",i.innerHTML=`
      <div class="flex items-center space-x-3">
        <div class="text-2xl">📱</div>
        <div>
          <div class="font-semibold text-sm">Install TrackApp</div>
          <div class="text-xs opacity-90">Add to your home screen for quick access</div>
        </div>
      </div>
      <div class="flex space-x-2">
        <button id="pwa-install-btn" class="bg-white text-orange-600 px-4 py-2 rounded-xl font-medium text-sm hover:bg-gray-100 transition-colors">
          Install
        </button>
        <button id="pwa-dismiss-btn" class="text-white px-3 py-2 rounded-xl text-sm hover:bg-black hover:bg-opacity-20 transition-colors">
          ✕
        </button>
      </div>
    `;const l=i.querySelector("#pwa-install-btn"),r=i.querySelector("#pwa-dismiss-btn");return l?.addEventListener("click",()=>this.installApp()),r?.addEventListener("click",()=>this.hideInstallPrompt()),i}async installApp(){if(this.deferredPrompt)try{this.deferredPrompt.prompt(),(await this.deferredPrompt.userChoice).outcome==="accepted"?console.log("User accepted PWA installation"):console.log("User dismissed PWA installation"),this.deferredPrompt=null}catch(i){console.error("Error during PWA installation:",i)}}hideInstallPrompt(){const i=document.getElementById("pwa-install-banner");i&&i.remove()}showInstalledMessage(){const i=document.createElement("div");i.className="fixed bottom-4 left-4 right-4 bg-green-500 text-white p-4 rounded-2xl shadow-lg z-50 flex items-center space-x-3",i.innerHTML=`
      <div class="text-2xl">✅</div>
      <div>
        <div class="font-semibold text-sm">App Installed!</div>
        <div class="text-xs opacity-90">TrackApp is now on your home screen</div>
      </div>
    `,document.body.appendChild(i),setTimeout(()=>{i.remove()},3e3)}showUpdatePrompt(){const i=document.createElement("div");i.className="fixed top-4 left-4 right-4 bg-blue-500 text-white p-4 rounded-2xl shadow-lg z-50 flex items-center justify-between",i.innerHTML=`
      <div class="flex items-center space-x-3">
        <div class="text-2xl">🔄</div>
        <div>
          <div class="font-semibold text-sm">Update Available</div>
          <div class="text-xs opacity-90">A new version of TrackApp is ready</div>
        </div>
      </div>
      <div class="flex space-x-2">
        <button id="pwa-update-btn" class="bg-white text-blue-600 px-4 py-2 rounded-xl font-medium text-sm hover:bg-gray-100 transition-colors">
          Update
        </button>
        <button id="pwa-update-dismiss-btn" class="text-white px-3 py-2 rounded-xl text-sm hover:bg-black hover:bg-opacity-20 transition-colors">
          Later
        </button>
      </div>
    `;const l=i.querySelector("#pwa-update-btn"),r=i.querySelector("#pwa-update-dismiss-btn");l?.addEventListener("click",()=>{window.location.reload()}),r?.addEventListener("click",()=>{i.remove()}),document.body.appendChild(i)}canInstall(){return!!this.deferredPrompt&&!this.isInstalled}isAppInstalled(){return this.isInstalled}isRunningStandalone(){return this.isStandalone}async triggerInstall(){this.canInstall()&&await this.installApp()}}const is=new kb,Db=()=>{const[u,i]=Y.useState(!1),[l,r]=Y.useState(!1),[c,d]=Y.useState(!1);Y.useEffect(()=>{const v=()=>{i(is.canInstall()),r(is.isAppInstalled()),d(is.isRunningStandalone())};v();const g=()=>{v()},b=()=>{v()};return window.addEventListener("beforeinstallprompt",g),window.addEventListener("appinstalled",b),()=>{window.removeEventListener("beforeinstallprompt",g),window.removeEventListener("appinstalled",b)}},[]);const h=async()=>{try{await is.triggerInstall()}catch(v){console.error("Error installing PWA:",v)}};return l||c?f.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-4 text-center",children:[f.jsx("div",{className:"text-green-600 text-2xl mb-2",children:"📱"}),f.jsx("div",{className:"text-green-800 font-medium text-sm mb-1",children:"App Installed!"}),f.jsx("div",{className:"text-green-600 text-xs",children:"TrackApp is installed on your device"})]}):u?f.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-4 text-center",children:[f.jsx("div",{className:"text-blue-600 text-2xl mb-3",children:"📱"}),f.jsx("h3",{className:"text-blue-800 font-semibold text-sm mb-2",children:"Install TrackApp"}),f.jsx("p",{className:"text-blue-600 text-xs mb-4",children:"Add TrackApp to your home screen for quick access and offline use"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("button",{onClick:h,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-medium py-3 px-4 rounded-xl hover:from-blue-600 hover:to-purple-600 transition-all duration-200 text-sm",children:"🚀 Install Now"}),f.jsx("div",{className:"text-blue-500 text-xs",children:"✓ Works offline • ✓ Push notifications • ✓ Native app experience"})]})]}):f.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl p-4 text-center",children:[f.jsx("div",{className:"text-gray-400 text-2xl mb-2",children:"📱"}),f.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Install App"}),f.jsx("div",{className:"text-gray-500 text-xs",children:"Open this app in a supported browser to install it on your device"})]})},am=({onLogout:u,user:i})=>{const[l,r]=Y.useState(0),[c,d]=Y.useState([]),[h,v]=Y.useState([]),[g,b]=Y.useState(null),[p,_]=Y.useState(!1),[j,E]=Y.useState(!1),[D,L]=Y.useState(!1),[M,V]=Y.useState(!1),[P,B]=Y.useState({streak:!0,timeline:!0,friends:!0,form:!1}),[K,Q]=Y.useState(null),ie=Y.useCallback(async()=>{if(i?.id)try{B(G=>({...G,streak:!0}));const{data:x,error:R}=await Rl.getCurrentStreak(i.id);R?console.error("Error loading streak:",R):r(x||0)}catch(x){console.error("Streak loading failed:",x)}finally{B(x=>({...x,streak:!1}))}},[i?.id]),fe=Y.useCallback(async()=>{if(i?.id)try{B(G=>({...G,timeline:!0}));const{data:x,error:R}=await Rl.getRecentStreaks(i.id,10);R?console.error("Error loading timeline:",R):d(x||[])}catch(x){console.error("Timeline loading failed:",x)}finally{B(x=>({...x,timeline:!1}))}},[i?.id]),Z=Y.useCallback(async()=>{if(i?.id)try{B(G=>({...G,friends:!0}));const{data:x,error:R}=await ne.from("friends").select("*").eq("status","connected").or(`inviter_id.eq.${i.id},invitee_id.eq.${i.id}`);if(R)console.error("Error loading friends:",R);else{const G=(x||[]).map(ge=>ge.inviter_id===i.id?ge.invitee_id:ge.inviter_id),{data:H,error:I}=await ne.from("profiles").select("id, display_name").in("id",G),{data:me,error:ae}=await ne.from("users").select("id, email, created_at").in("id",G);I&&console.error("Error loading profiles data:",I),ae&&console.error("Error loading user data:",ae);const nt=(x||[]).map(ge=>{const xt=ge.inviter_id===i.id?ge.invitee_id:ge.inviter_id,tn=me?.find(Ra=>Ra.id===xt),an=H?.find(Ra=>Ra.id===xt);return{id:xt||"",display_name:an?.display_name||tn?.email?.split("@")[0]||"Freund",email:tn?.email||"",avatar_url:void 0,current_streak:0,max_streak:0,last_activity:ge.connected_at,friendship_status:"accepted",created_at:ge.connected_at}});v(nt)}}catch(x){console.error("Friends loading failed:",x)}finally{B(x=>({...x,friends:!1}))}},[i?.id]);Y.useEffect(()=>{if(!i?.id)return;ie(),fe(),Z();const x=tm.subscribeToUserStreaks(i.id,()=>{ie(),fe()}),R=tm.subscribeToUserFriendships(i.id,()=>{Z()});return()=>{x.unsubscribe(),R.unsubscribe()}},[i?.id,ie,fe,Z]);const he=async x=>{try{B(H=>({...H,form:!0})),Q(null),console.log("Sending streak data:",x);const{data:R,error:G}=await Rl.createStreak(x);if(G)throw console.error("Supabase error:",G),new Error(`Error saving workout: ${G.message}`);console.log("Streak created successfully:",R),E(!1)}catch(R){console.error("Error creating streak:",R),Q(R instanceof Error?R.message:"Error saving")}finally{B(R=>({...R,form:!1}))}},ke=async x=>{if(window.confirm("Really delete this workout entry?"))try{const{error:R}=await Rl.deleteStreak(x);if(R)throw new Error("Error deleting workout")}catch(R){console.error("Error deleting streak:",R),Q(R instanceof Error?R.message:"Error deleting")}},Ke=async x=>{await ke(x.id)},pe=x=>{console.log("Friend clicked:",x),b(x)},Ze=()=>{b(null)},at=async x=>{if(!i?.id)return;const R=g||h.find(H=>H.id===x),G=R?.display_name||R?.email?.split("@")[0]||"this friend";if(window.confirm(`Are you sure you want to remove ${G} from your friends list?`))try{Q(null),console.log("Removing friend from database:",x);const{error:H}=await yu.removeFriend(i.id,x);if(H)throw console.error("Database removal failed:",H),new Error(`Failed to remove friend: ${H instanceof Error?H.message:"Unknown error"}`);console.log("Friend removed from database successfully"),await Z(),g?.id===x&&b(null),console.log("Friend removed successfully and friends list refreshed")}catch(H){console.error("Error removing friend:",H),Q(H instanceof Error?H.message:"Error removing friend")}},He=()=>{_(!0)},U=()=>{_(!1)},$=()=>{L(!0)},F=()=>{V(!0)},xe=()=>{V(!1)};return i?p&&i?f.jsx(Eb,{user:i,onBack:U,onLogout:u}):g&&i?f.jsx(_b,{friend:g,onBack:Ze,onRemoveFriend:at}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[f.jsx(db,{user:i,onLogout:u,onProfileClick:He}),f.jsx("main",{className:"pb-20 safe-bottom",children:f.jsxs("div",{className:"mobile-container space-y-6 sm:space-y-8",children:[f.jsxs("div",{className:"flex justify-center items-center space-x-4 sm:space-x-6 pt-4",children:[f.jsx("button",{onClick:()=>E(!0),className:"w-16 h-16 sm:w-18 sm:h-18 bg-gradient-to-br from-orange-500 via-red-500 to-pink-600 hover:from-orange-600 hover:via-red-600 hover:to-pink-700 rounded-2xl flex items-center justify-center text-white text-2xl sm:text-3xl font-bold shadow-xl hover:shadow-2xl transform hover:scale-110 active:scale-95 transition-all duration-200 mobile-btn","aria-label":"Add workout",children:"+"}),f.jsx("button",{onClick:F,className:"w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-br from-indigo-500 via-purple-500 to-blue-600 hover:from-indigo-600 hover:via-purple-600 hover:to-blue-700 rounded-2xl flex items-center justify-center text-white text-xl sm:text-2xl shadow-xl hover:shadow-2xl transform hover:scale-110 active:scale-95 transition-all duration-200",title:"AI Training Coach","aria-label":"Open AI Coach",children:"🤖"})]}),f.jsx("div",{className:"glass rounded-3xl p-1 shadow-xl",children:f.jsx(bb,{currentStreak:l,isLoading:P.streak})}),f.jsx(Nb,{streaks:c,onOpenFullAnalysis:F}),f.jsxs("div",{className:"bg-white rounded-3xl p-4 sm:p-6 shadow-lg border border-gray-100 mobile-card",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Training Partners"}),f.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),f.jsx(pb,{friends:h,isLoading:P.friends,onFriendClick:pe,onInviteFriend:$})]}),f.jsxs("div",{className:"bg-white rounded-3xl p-4 sm:p-6 shadow-lg border border-gray-100 mobile-card",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Your Progress"}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),f.jsx("span",{className:"text-xs text-gray-500",children:"Last 30 days"})]})]}),f.jsx(Nm,{streaks:c,isLoading:P.timeline,onDeleteStreak:Ke})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-5 shadow-lg border border-gray-100 mobile-card",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-white text-lg",children:"🔔"})}),f.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900",children:"Notifications"})]}),f.jsx(Tb,{})]}),f.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-5 shadow-lg border border-gray-100 mobile-card",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-white text-lg",children:"📱"})}),f.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900",children:"Install App"})]}),f.jsx(Db,{})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl p-4 sm:p-6 shadow-lg border border-gray-100 mobile-card",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-500 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-white text-lg",children:"📋"})}),f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Recent Activity"})]}),f.jsx(Ob,{})]}),K&&f.jsx("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 text-red-800 px-4 py-4 rounded-2xl shadow-lg mobile-card",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:"text-red-500",children:"⚠️"}),f.jsx("span",{className:"font-medium",children:K})]})})]})}),f.jsx(fb,{}),j&&i&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-end sm:items-center justify-center p-0 sm:p-4 z-50 backdrop-blur-sm",children:f.jsx("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl p-6 w-full sm:max-w-md shadow-2xl border-t border-gray-100 sm:border",children:f.jsx(vb,{onSubmit:he,onCancel:()=>E(!1),userId:i.id,isLoading:P.form})})}),D&&i&&f.jsx(xb,{user:i,onClose:()=>L(!1)}),M&&i&&f.jsx(jb,{streaks:c,isVisible:M,onClose:xe})]}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 via-red-500 to-yellow-500 mb-6",children:f.jsx("span",{className:"text-2xl",children:"🔥"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not logged in"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to track your workouts."}),f.jsx("button",{onClick:u,className:"px-6 py-3 bg-gradient-to-r from-orange-500 via-red-500 to-orange-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Go to Login"})]})})},nm=({onLogin:u,onBack:i})=>{const[l,r]=Y.useState(""),[c,d]=Y.useState(""),[h,v]=Y.useState(""),[g,b]=Y.useState(!0),[p,_]=Y.useState(!1),[j,E]=Y.useState(""),D=async M=>{M.preventDefault(),_(!0),E("");try{console.log("🔐 Starting authentication...",{email:l,isLogin:g,userAgent:navigator.userAgent,browser:L()}),console.log("🌐 Using Supabase config from:",ju.url);const V=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),P=/chrome/i.test(navigator.userAgent);if(V&&console.log("🦁 Safari detected - using compatibility mode"),P&&console.log("🟢 Chrome detected - checking for blocking issues"),g){console.log("📝 Attempting sign in...");const B=V?{captchaToken:void 0}:{},{data:K,error:Q}=await ne.auth.signInWithPassword({email:l.trim(),password:c,...B});if(console.log("📊 Sign in result:",{data:K,error:Q}),Q)throw Q;await new Promise(ie=>setTimeout(ie,500)),console.log("✅ Sign in successful!"),u()}else{console.log("📝 Attempting sign up...");const{data:B,error:K}=await ne.auth.signUp({email:l.trim(),password:c,options:{data:{display_name:h.trim()||l.split("@")[0]},emailRedirectTo:window.location.origin+"/auth"}});if(console.log("📊 Sign up result:",{data:B,error:K}),K)throw K;E("Registrierung erfolgreich! Bestätige deine E-Mail-Adresse.")}}catch(V){console.error("💥 Auth error details:",{error:V,message:V instanceof Error?V.message:"Unknown error",stack:V instanceof Error?V.stack:void 0,browser:L()});let P="Ein Fehler ist aufgetreten";if(V instanceof Error)if(V.message.includes("fetch")||V.message.includes("Failed to fetch")){const B=L();P=`Verbindung fehlgeschlagen (${B}).

Mögliche Lösungen:
• Inkognito-Modus probieren
• Browser-Cache leeren
• Anderer Browser (funktioniert in Inkognito/Chrome Mobile)`,console.error("🌐 Browser-spezifisches Problem erkannt:",B)}else V.message.includes("Invalid login credentials")?P="Ungültige E-Mail oder Passwort.":V.message.includes("Password should be at least 6 characters")?P="Passwort muss mindestens 6 Zeichen lang sein.":V.message.includes("Invalid email")?P="Bitte gültige E-Mail-Adresse eingeben.":V.message.includes("User already registered")?P="Account existiert bereits. Versuche dich anzumelden.":V.message.includes("Email not confirmed")?P="E-Mail noch nicht bestätigt. Prüfe dein E-Mail-Postfach.":P=V.message;E(P)}finally{_(!1)}},L=()=>{const M=navigator.userAgent;return M.includes("Chrome")&&!M.includes("Edg")?"Chrome":M.includes("Safari")&&!M.includes("Chrome")?"Safari":M.includes("Firefox")?"Firefox":M.includes("Edg")?"Edge":"Unknown"};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex flex-col",children:[f.jsxs("header",{className:"px-6 py-8 text-center",children:[i&&f.jsx("button",{onClick:i,className:"absolute left-6 top-8 w-10 h-10 rounded-full bg-white shadow-md flex items-center justify-center text-gray-600 hover:bg-gray-50 transition-colors",children:"←"}),f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 via-red-500 to-yellow-500 mb-6",children:f.jsx("span",{className:"text-2xl",children:"🔥"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:g?"Welcome back!":"Create account"}),f.jsx("p",{className:"text-gray-600",children:g?"Great to see you again":"Let's get started together!"})]}),f.jsx("div",{className:"flex-1 px-6 py-8",children:f.jsx("div",{className:"max-w-sm mx-auto",children:f.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-gray-100",children:[f.jsxs("form",{onSubmit:D,className:"space-y-6",children:[!g&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"What should we call you?"}),f.jsx("input",{type:"text",value:h,onChange:M=>v(M.target.value),className:"w-full px-4 py-4 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-gray-900 placeholder-gray-400",placeholder:"e.g. John Doe",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),f.jsx("input",{type:"email",value:l,onChange:M=>r(M.target.value),className:"w-full px-4 py-4 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-gray-900 placeholder-gray-400",placeholder:"your@email.com",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),f.jsx("input",{type:"password",value:c,onChange:M=>d(M.target.value),className:"w-full px-4 py-4 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-gray-900 placeholder-gray-400",placeholder:"••••••••",required:!0,minLength:6})]}),f.jsx("button",{type:"submit",disabled:p,className:"w-full py-4 bg-gradient-to-r from-orange-500 via-red-500 to-orange-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200",children:p?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Loading..."]}):g?"Sign In":"Register"})]}),j&&f.jsx("div",{className:`mt-6 p-4 rounded-2xl text-sm ${j.includes("Great!")?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:j}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("button",{onClick:()=>b(!g),className:"text-orange-600 hover:text-orange-700 font-semibold transition-colors",children:g?"No account yet? Register":"Already registered? Sign In"})})]})})})]})},Rb=({token:u,user:i,onCompleted:l})=>{const[r,c]=Y.useState("loading"),[d,h]=Y.useState(null),[v,g]=Y.useState(""),[b,p]=Y.useState(!1),[_,j]=Y.useState(""),[E,D]=Y.useState(""),[L,M]=Y.useState(""),[V,P]=Y.useState(!0),[B,K]=Y.useState(!1),Q=Y.useCallback(async()=>{if(i)try{c("loading");const{error:Z}=await yu.acceptInviteByToken(u,i.id);if(Z){c("error"),g(Z);return}c("success"),g("Einladung erfolgreich angenommen! Du bist jetzt mit deinem Freund verbunden."),setTimeout(()=>{l()},2e3)}catch(Z){console.error("Failed to accept invite:",Z),c("error"),g("Fehler beim Annehmen der Einladung")}},[i,u,l]);Y.useEffect(()=>{u?(async()=>{try{console.log("🔍 Loading invite with token:",u);const{data:he,error:ke}=await yu.getInviteByToken(u);if(ke){console.error("Invite error:",ke),c("error"),g(ke);return}if(!he){c("error"),g("Einladung nicht gefunden oder bereits verwendet");return}h(he),c("ready"),i?await Q():(he.invitee_email&&j(he.invitee_email),p(!0))}catch(he){console.error("Failed to load invite:",he),c("error"),g("Fehler beim Laden der Einladung")}})():(c("error"),g("Kein Einladungstoken gefunden"))},[u,i,Q]);const ie=async Z=>{Z.preventDefault(),K(!0),g("");try{if(V){const{error:he}=await ne.auth.signInWithPassword({email:_.trim(),password:E});if(he)throw he}else{const{error:he}=await ne.auth.signUp({email:_.trim(),password:E,options:{data:{display_name:L.trim()||_.split("@")[0]}}});if(he)throw he;g("Registrierung erfolgreich! Bestätige deine E-Mail-Adresse.")}}catch(he){const ke=he instanceof Error?he.message:"Ein Fehler ist aufgetreten";g(ke)}finally{K(!1)}},fe=()=>{try{localStorage.clear(),sessionStorage.clear(),window.location.reload()}catch(Z){console.error("Failed to clear browser data:",Z)}};return r==="loading"?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl max-w-md w-full text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Lade Einladung..."}),f.jsx("p",{className:"text-gray-600",children:"Einen Moment bitte"})]})}):r==="error"?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl max-w-md w-full text-center",children:[f.jsx("div",{className:"text-6xl mb-6",children:"❌"}),f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Einladung ungültig"}),f.jsx("p",{className:"text-gray-600 mb-6",children:v}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:l,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold transition-all",children:"Zur App"}),f.jsx("button",{onClick:fe,className:"w-full bg-red-100 hover:bg-red-200 text-red-700 px-6 py-3 rounded-xl font-semibold transition-all",children:"Browser-Daten löschen & neu laden"})]})]})}):r==="success"?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl max-w-md w-full text-center",children:[f.jsx("div",{className:"text-6xl mb-6",children:"🎉"}),f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Erfolgreich verbunden!"}),f.jsx("p",{className:"text-gray-600 mb-6",children:v}),f.jsx("p",{className:"text-sm text-gray-500",children:"Du wirst automatisch weitergeleitet..."})]})}):!i&&b?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl max-w-md w-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"text-6xl mb-4",children:"👋"}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Freundeseinladung"}),f.jsx("p",{className:"text-gray-600",children:d?.invitee_email?`Einladung für ${d.invitee_email}`:"Du wurdest eingeladen!"})]}),f.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[f.jsx("div",{children:f.jsx("input",{type:"email",placeholder:"E-Mail",value:_,onChange:Z=>j(Z.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:!!d?.invitee_email})}),f.jsx("div",{children:f.jsx("input",{type:"password",placeholder:"Passwort",value:E,onChange:Z=>D(Z.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})}),!V&&f.jsx("div",{children:f.jsx("input",{type:"text",placeholder:"Anzeigename (optional)",value:L,onChange:Z=>M(Z.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),f.jsx("button",{type:"submit",disabled:B,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-600 transition-all disabled:opacity-50",children:B?"Verarbeitung...":V?"Anmelden":"Registrieren"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:()=>P(!V),className:"text-blue-600 hover:text-blue-800 font-medium",children:V?"Kein Account? Registrieren":"Account vorhanden? Anmelden"})}),v&&f.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:f.jsx("p",{className:"text-sm text-blue-800",children:v})}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Später einlösen →"})})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl max-w-md w-full text-center",children:[f.jsx("div",{className:"text-6xl mb-6",children:"🤝"}),f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Freundeseinladung"}),f.jsxs("p",{className:"text-gray-600 mb-6",children:["Du wurdest eingeladen! ",i?"Einladung annehmen?":"Melde dich an um die Einladung anzunehmen."]}),i?f.jsx("button",{onClick:()=>Q(),className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-600 transition-all",children:"Einladung annehmen"}):f.jsx("button",{onClick:()=>p(!0),className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-600 transition-all",children:"Anmelden / Registrieren"}),f.jsx("button",{onClick:l,className:"w-full mt-3 bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold transition-all",children:"Später"})]})})},Ub=()=>{const[u,i]=Y.useState(null),[l,r]=Y.useState(!0),[c,d]=Y.useState(!1),[h,v]=Y.useState({path:"/"});Y.useEffect(()=>{const _=()=>{const E=window.location.pathname;if(E.startsWith("/invite/")){const D=E.split("/invite/")[1];v({path:"/invite",params:{token:D}})}else if(E==="/friends")v({path:"/friends"});else if(E.startsWith("/friend/")){const D=E.split("/friend/")[1];v({path:"/friend",params:{friendId:D}})}else v({path:"/"})};_();const j=()=>_();return window.addEventListener("popstate",j),()=>window.removeEventListener("popstate",j)},[]),Y.useEffect(()=>{(async()=>{const{data:{session:E}}=await ne.auth.getSession();i(E?.user??null),r(!1)})();const{data:{subscription:j}}=ne.auth.onAuthStateChange((E,D)=>{i(D?.user??null)});return()=>j.unsubscribe()},[h]);const g=_=>{window.history.pushState({},"",_),v({path:_})},b=async()=>{await ne.auth.signOut(),d(!1),g("/")},p=()=>{d(!1),g("/")};if(l)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Lade App..."})]})});switch(h.path){case"/invite":return f.jsx(Rb,{token:h.params?.token||"",user:u,onCompleted:()=>g("/")});case"/friends":case"/friend":return u?f.jsx(am,{user:u,onLogout:b}):f.jsx(nm,{onLogin:p,onBack:()=>d(!1)});default:return u?f.jsx(am,{user:u,onLogout:b}):c?f.jsx(nm,{onLogin:p,onBack:()=>d(!1)}):f.jsx(cb,{onGetStarted:()=>d(!0)})}};function Cb(){Y.useEffect(()=>{console.log("🔥 TrackApp starting..."),console.log("📱 PWA Service initialized:",is.isAppInstalled()),console.log("🔗 Supabase configured:",ub)},[]);try{return f.jsx(Ub,{})}catch(u){return console.error("❌ App error:",u),f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl max-w-md w-full text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:"🔥"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"TrackApp"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Something went wrong loading the app. Please try refreshing the page."}),f.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-xl font-semibold hover:from-orange-600 hover:to-red-600 transition-all",children:"Refresh App"})]})})}}sv.createRoot(document.getElementById("root")).render(f.jsx(Y.StrictMode,{children:f.jsx(Cb,{})}));
